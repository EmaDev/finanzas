(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function _T(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Mf={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function ET(){if(fy)return jl;fy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return jl.Fragment=e,jl.jsx=i,jl.jsxs=i,jl}var dy;function TT(){return dy||(dy=1,Mf.exports=ET()),Mf.exports}var nt=TT(),Uf={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function AT(){if(my)return bt;my=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function V(I){return I===null||typeof I!="object"?null:(I=b&&I[b]||I["@@iterator"],typeof I=="function"?I:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,G={};function q(I,et,ft){this.props=I,this.context=et,this.refs=G,this.updater=ft||U}q.prototype.isReactComponent={},q.prototype.setState=function(I,et){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,et,"setState")},q.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function H(){}H.prototype=q.prototype;function Z(I,et,ft){this.props=I,this.context=et,this.refs=G,this.updater=ft||U}var J=Z.prototype=new H;J.constructor=Z,P(J,q.prototype),J.isPureReactComponent=!0;var mt=Array.isArray,ht={H:null,A:null,T:null,S:null},wt=Object.prototype.hasOwnProperty;function x(I,et,ft,at,st,Rt){return ft=Rt.ref,{$$typeof:r,type:I,key:et,ref:ft!==void 0?ft:null,props:Rt}}function w(I,et){return x(I.type,et,void 0,void 0,void 0,I.props)}function S(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function D(I){var et={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ft){return et[ft]})}var O=/\/+/g;function k(I,et){return typeof I=="object"&&I!==null&&I.key!=null?D(""+I.key):et.toString(36)}function C(){}function _e(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(C,C):(I.status="pending",I.then(function(et){I.status==="pending"&&(I.status="fulfilled",I.value=et)},function(et){I.status==="pending"&&(I.status="rejected",I.reason=et)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function he(I,et,ft,at,st){var Rt=typeof I;(Rt==="undefined"||Rt==="boolean")&&(I=null);var St=!1;if(I===null)St=!0;else switch(Rt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(I.$$typeof){case r:case e:St=!0;break;case E:return St=I._init,he(St(I._payload),et,ft,at,st)}}if(St)return st=st(I),St=at===""?"."+k(I,0):at,mt(st)?(ft="",St!=null&&(ft=St.replace(O,"$&/")+"/"),he(st,et,ft,"",function(ie){return ie})):st!=null&&(S(st)&&(st=w(st,ft+(st.key==null||I&&I.key===st.key?"":(""+st.key).replace(O,"$&/")+"/")+St)),et.push(st)),1;St=0;var fe=at===""?".":at+":";if(mt(I))for(var zt=0;zt<I.length;zt++)at=I[zt],Rt=fe+k(at,zt),St+=he(at,et,ft,Rt,st);else if(zt=V(I),typeof zt=="function")for(I=zt.call(I),zt=0;!(at=I.next()).done;)at=at.value,Rt=fe+k(at,zt++),St+=he(at,et,ft,Rt,st);else if(Rt==="object"){if(typeof I.then=="function")return he(_e(I),et,ft,at,st);throw et=String(I),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return St}function rt(I,et,ft){if(I==null)return I;var at=[],st=0;return he(I,at,"","",function(Rt){return et.call(ft,Rt,st++)}),at}function vt(I){if(I._status===-1){var et=I._result;et=et(),et.then(function(ft){(I._status===0||I._status===-1)&&(I._status=1,I._result=ft)},function(ft){(I._status===0||I._status===-1)&&(I._status=2,I._result=ft)}),I._status===-1&&(I._status=0,I._result=et)}if(I._status===1)return I._result.default;throw I._result}var gt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function qt(){}return bt.Children={map:rt,forEach:function(I,et,ft){rt(I,function(){et.apply(this,arguments)},ft)},count:function(I){var et=0;return rt(I,function(){et++}),et},toArray:function(I){return rt(I,function(et){return et})||[]},only:function(I){if(!S(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},bt.Component=q,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=Z,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,bt.act=function(){throw Error("act(...) is not supported in production builds of React.")},bt.cache=function(I){return function(){return I.apply(null,arguments)}},bt.cloneElement=function(I,et,ft){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var at=P({},I.props),st=I.key,Rt=void 0;if(et!=null)for(St in et.ref!==void 0&&(Rt=void 0),et.key!==void 0&&(st=""+et.key),et)!wt.call(et,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&et.ref===void 0||(at[St]=et[St]);var St=arguments.length-2;if(St===1)at.children=ft;else if(1<St){for(var fe=Array(St),zt=0;zt<St;zt++)fe[zt]=arguments[zt+2];at.children=fe}return x(I.type,st,void 0,void 0,Rt,at)},bt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},bt.createElement=function(I,et,ft){var at,st={},Rt=null;if(et!=null)for(at in et.key!==void 0&&(Rt=""+et.key),et)wt.call(et,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(st[at]=et[at]);var St=arguments.length-2;if(St===1)st.children=ft;else if(1<St){for(var fe=Array(St),zt=0;zt<St;zt++)fe[zt]=arguments[zt+2];st.children=fe}if(I&&I.defaultProps)for(at in St=I.defaultProps,St)st[at]===void 0&&(st[at]=St[at]);return x(I,Rt,void 0,void 0,null,st)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(I){return{$$typeof:m,render:I}},bt.isValidElement=S,bt.lazy=function(I){return{$$typeof:E,_payload:{_status:-1,_result:I},_init:vt}},bt.memo=function(I,et){return{$$typeof:y,type:I,compare:et===void 0?null:et}},bt.startTransition=function(I){var et=ht.T,ft={};ht.T=ft;try{var at=I(),st=ht.S;st!==null&&st(ft,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(qt,gt)}catch(Rt){gt(Rt)}finally{ht.T=et}},bt.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},bt.use=function(I){return ht.H.use(I)},bt.useActionState=function(I,et,ft){return ht.H.useActionState(I,et,ft)},bt.useCallback=function(I,et){return ht.H.useCallback(I,et)},bt.useContext=function(I){return ht.H.useContext(I)},bt.useDebugValue=function(){},bt.useDeferredValue=function(I,et){return ht.H.useDeferredValue(I,et)},bt.useEffect=function(I,et){return ht.H.useEffect(I,et)},bt.useId=function(){return ht.H.useId()},bt.useImperativeHandle=function(I,et,ft){return ht.H.useImperativeHandle(I,et,ft)},bt.useInsertionEffect=function(I,et){return ht.H.useInsertionEffect(I,et)},bt.useLayoutEffect=function(I,et){return ht.H.useLayoutEffect(I,et)},bt.useMemo=function(I,et){return ht.H.useMemo(I,et)},bt.useOptimistic=function(I,et){return ht.H.useOptimistic(I,et)},bt.useReducer=function(I,et,ft){return ht.H.useReducer(I,et,ft)},bt.useRef=function(I){return ht.H.useRef(I)},bt.useState=function(I){return ht.H.useState(I)},bt.useSyncExternalStore=function(I,et,ft){return ht.H.useSyncExternalStore(I,et,ft)},bt.useTransition=function(){return ht.H.useTransition()},bt.version="19.0.0",bt}var gy;function Td(){return gy||(gy=1,Uf.exports=AT()),Uf.exports}var Q=Td();const Ui=_T(Q);var Lf={exports:{}},ql={},Pf={exports:{}},zf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function ST(){return py||(py=1,function(r){function e(rt,vt){var gt=rt.length;rt.push(vt);t:for(;0<gt;){var qt=gt-1>>>1,I=rt[qt];if(0<o(I,vt))rt[qt]=vt,rt[gt]=I,gt=qt;else break t}}function i(rt){return rt.length===0?null:rt[0]}function s(rt){if(rt.length===0)return null;var vt=rt[0],gt=rt.pop();if(gt!==vt){rt[0]=gt;t:for(var qt=0,I=rt.length,et=I>>>1;qt<et;){var ft=2*(qt+1)-1,at=rt[ft],st=ft+1,Rt=rt[st];if(0>o(at,gt))st<I&&0>o(Rt,at)?(rt[qt]=Rt,rt[st]=gt,qt=st):(rt[qt]=at,rt[ft]=gt,qt=ft);else if(st<I&&0>o(Rt,gt))rt[qt]=Rt,rt[st]=gt,qt=st;else break t}}return vt}function o(rt,vt){var gt=rt.sortIndex-vt.sortIndex;return gt!==0?gt:rt.id-vt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();r.unstable_now=function(){return d.now()-m}}var p=[],y=[],E=1,b=null,V=3,U=!1,P=!1,G=!1,q=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function J(rt){for(var vt=i(y);vt!==null;){if(vt.callback===null)s(y);else if(vt.startTime<=rt)s(y),vt.sortIndex=vt.expirationTime,e(p,vt);else break;vt=i(y)}}function mt(rt){if(G=!1,J(rt),!P)if(i(p)!==null)P=!0,_e();else{var vt=i(y);vt!==null&&he(mt,vt.startTime-rt)}}var ht=!1,wt=-1,x=5,w=-1;function S(){return!(r.unstable_now()-w<x)}function D(){if(ht){var rt=r.unstable_now();w=rt;var vt=!0;try{t:{P=!1,G&&(G=!1,H(wt),wt=-1),U=!0;var gt=V;try{e:{for(J(rt),b=i(p);b!==null&&!(b.expirationTime>rt&&S());){var qt=b.callback;if(typeof qt=="function"){b.callback=null,V=b.priorityLevel;var I=qt(b.expirationTime<=rt);if(rt=r.unstable_now(),typeof I=="function"){b.callback=I,J(rt),vt=!0;break e}b===i(p)&&s(p),J(rt)}else s(p);b=i(p)}if(b!==null)vt=!0;else{var et=i(y);et!==null&&he(mt,et.startTime-rt),vt=!1}}break t}finally{b=null,V=gt,U=!1}vt=void 0}}finally{vt?O():ht=!1}}}var O;if(typeof Z=="function")O=function(){Z(D)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,C=k.port2;k.port1.onmessage=D,O=function(){C.postMessage(null)}}else O=function(){q(D,0)};function _e(){ht||(ht=!0,O())}function he(rt,vt){wt=q(function(){rt(r.unstable_now())},vt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(rt){rt.callback=null},r.unstable_continueExecution=function(){P||U||(P=!0,_e())},r.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<rt?Math.floor(1e3/rt):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_getFirstCallbackNode=function(){return i(p)},r.unstable_next=function(rt){switch(V){case 1:case 2:case 3:var vt=3;break;default:vt=V}var gt=V;V=vt;try{return rt()}finally{V=gt}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(rt,vt){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var gt=V;V=rt;try{return vt()}finally{V=gt}},r.unstable_scheduleCallback=function(rt,vt,gt){var qt=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?qt+gt:qt):gt=qt,rt){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=gt+I,rt={id:E++,callback:vt,priorityLevel:rt,startTime:gt,expirationTime:I,sortIndex:-1},gt>qt?(rt.sortIndex=gt,e(y,rt),i(p)===null&&rt===i(y)&&(G?(H(wt),wt=-1):G=!0,he(mt,gt-qt))):(rt.sortIndex=I,e(p,rt),P||U||(P=!0,_e())),rt},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(rt){var vt=V;return function(){var gt=V;V=vt;try{return rt.apply(this,arguments)}finally{V=gt}}}}(zf)),zf}var yy;function bT(){return yy||(yy=1,Pf.exports=ST()),Pf.exports}var kf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function RT(){if(vy)return Ge;vy=1;var r=Td();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,E)},Ge.flushSync=function(p){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=E,s.d.f()}},Ge.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:V,fetchPriority:U}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:V,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ge.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ge.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ge.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,y){return p(y)},Ge.useFormState=function(p,y,E){return d.H.useFormState(p,y,E)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.0.0",Ge}var _y;function wT(){if(_y)return kf.exports;_y=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),kf.exports=RT(),kf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function CT(){if(Ey)return ql;Ey=1;var r=bT(),e=Td(),i=wT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),U=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),mt=Symbol.for("react.memo_cache_sentinel"),ht=Symbol.iterator;function wt(t){return t===null||typeof t!="object"?null:(t=ht&&t[ht]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function w(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case G:return"Suspense";case q:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case U:return(t.displayName||"Context")+".Provider";case V:return(t._context.displayName||"Context")+".Consumer";case P:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case H:return n=t.displayName||null,n!==null?n:w(t.type)||"Memo";case Z:n=t._payload,t=t._init;try{return w(t(n))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,O,k;function C(t){if(O===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);O=n&&n[1]||"",k=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+t+k}var _e=!1;function he(t,n){if(!t||_e)return"";_e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Y){var j=Y}Reflect.construct(t,[],tt)}else{try{tt.call()}catch(Y){j=Y}t.call(tt.prototype)}}else{try{throw Error()}catch(Y){j=Y}(tt=t())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Y){if(Y&&j&&typeof Y.stack=="string")return[Y.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var R=_.split(`
`),M=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<M.length&&!M[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===M.length)for(l=R.length-1,h=M.length-1;1<=l&&0<=h&&R[l]!==M[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==M[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==M[h]){var K=`
`+R[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{_e=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?C(a):""}function rt(t){switch(t.tag){case 26:case 27:case 5:return C(t.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return t=he(t.type,!1),t;case 11:return t=he(t.type.render,!1),t;case 1:return t=he(t.type,!0),t;default:return""}}function vt(t){try{var n="";do n+=rt(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function gt(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function qt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function I(t){if(gt(t)!==t)throw Error(s(188))}function et(t){var n=t.alternate;if(!n){if(n=gt(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return I(h),t;if(f===l)return I(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=f;break}if(T===l){_=!0,l=h,a=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===a){_=!0,a=f,l=h;break}if(T===l){_=!0,l=f,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function ft(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ft(t),n!==null)return n;t=t.sibling}return null}var at=Array.isArray,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rt={pending:!1,data:null,method:null,action:null},St=[],fe=-1;function zt(t){return{current:t}}function ie(t){0>fe||(t.current=St[fe],St[fe]=null,fe--)}function Ft(t,n){fe++,St[fe]=t.current,t.current=n}var Ke=zt(null),oi=zt(null),fn=zt(null),qi=zt(null);function Hi(t,n){switch(Ft(fn,n),Ft(oi,t),Ft(Ke,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?jp(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=jp(t),n=qp(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ie(Ke),Ft(Ke,n)}function ui(){ie(Ke),ie(oi),ie(fn)}function Ls(t){t.memoizedState!==null&&Ft(qi,t);var n=Ke.current,a=qp(n,t.type);n!==a&&(Ft(oi,t),Ft(Ke,a))}function ba(t){oi.current===t&&(ie(Ke),ie(oi)),qi.current===t&&(ie(qi),Ll._currentValue=Rt)}var Ra=Object.prototype.hasOwnProperty,Pr=r.unstable_scheduleCallback,wa=r.unstable_cancelCallback,Uc=r.unstable_shouldYield,Ps=r.unstable_requestPaint,tn=r.unstable_now,po=r.unstable_getCurrentPriorityLevel,Ee=r.unstable_ImmediatePriority,Ce=r.unstable_UserBlockingPriority,ci=r.unstable_NormalPriority,yo=r.unstable_LowPriority,zs=r.unstable_IdlePriority,Lc=r.log,zr=r.unstable_setDisableYieldValue,Gi=null,qe=null;function ks(t){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Gi,t,void 0,(t.current.flags&128)===128)}catch{}}function kn(t){if(typeof Lc=="function"&&zr(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Gi,t)}catch{}}var Xe=Math.clz32?Math.clz32:_o,Bs=Math.log,vo=Math.LN2;function _o(t){return t>>>=0,t===0?32:31-(Bs(t)/vo|0)|0}var Bn=128,Fi=4194304;function Nn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dn(t,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,f=t.pingedLanes,_=t.warmLanes;t=t.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=Nn(a):(f&=T,f!==0?l=Nn(f):t||(_=T&~_,_!==0&&(l=Nn(_))))):(T=a&~h,T!==0?l=Nn(T):f!==0?l=Nn(f):t||(_=a&~_,_!==0&&(l=Nn(_)))),l===0?0:n!==0&&n!==l&&(n&h)===0&&(h=l&-l,_=n&-n,h>=_||h===32&&(_&4194176)!==0)?n:l}function Qi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ca(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function js(){var t=Bn;return Bn<<=1,(Bn&4194176)===0&&(Bn=128),t}function Yi(){var t=Fi;return Fi<<=1,(Fi&62914560)===0&&(Fi=4194304),t}function Da(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function oe(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Eo(t,n,a,l,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,M=t.hiddenUpdates;for(a=_&~a;0<a;){var K=31-Xe(a),tt=1<<K;T[K]=0,R[K]=-1;var j=M[K];if(j!==null)for(M[K]=null,K=0;K<j.length;K++){var Y=j[K];Y!==null&&(Y.lane&=-536870913)}a&=~tt}l!==0&&Ki(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function Ki(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Xe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function Xi(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Xe(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function To(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ao(){var t=st.p;return t!==0?t:(t=window.event,t===void 0?32:sy(t.type))}function $i(t,n){var a=st.p;try{return st.p=t,n()}finally{st.p=a}}var jn=Math.random().toString(36).slice(2),De="__reactFiber$"+jn,Te="__reactProps$"+jn,hi="__reactContainer$"+jn,kr="__reactEvents$"+jn,Va="__reactListeners$"+jn,qn="__reactHandles$"+jn,qs="__reactResources$"+jn,Zi="__reactMarker$"+jn;function Br(t){delete t[De],delete t[Te],delete t[kr],delete t[Va],delete t[qn]}function On(t){var n=t[De];if(n)return n;for(var a=t.parentNode;a;){if(n=a[hi]||a[De]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Fp(t);t!==null;){if(a=t[De])return a;t=Fp(t)}return n}t=a,a=t.parentNode}return null}function fi(t){if(t=t[De]||t[hi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Wi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ji(t){var n=t[qs];return n||(n=t[qs]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Wt(t){t[Zi]=!0}var Hs=new Set,Ia={};function an(t,n){en(t,n),en(t+"Capture",n)}function en(t,n){for(Ia[t]=n,t=0;t<n.length;t++)Hs.add(n[t])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gs={},Fs={};function So(t){return Ra.call(Fs,t)?!0:Ra.call(Gs,t)?!1:Pc.test(t)?Fs[t]=!0:(Gs[t]=!0,!1)}function tr(t,n,a){if(So(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function er(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function mn(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function $e(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bo(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zc(t){var n=bo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function jr(t){t._valueTracker||(t._valueTracker=zc(t))}function Qs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=bo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Na(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var di=/[\n"\\]/g;function re(t){return t.replace(di,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function nr(t,n,a,l,h,f,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$e(n)):t.value!==""+$e(n)&&(t.value=""+$e(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Oa(t,_,$e(n)):a!=null?Oa(t,_,$e(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+$e(T):t.removeAttribute("name")}function qr(t,n,a,l,h,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+$e(a):"",n=n!=null?""+$e(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Oa(t,n,a){n==="number"&&Na(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function kt(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+$e(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Hr(t,n,a){if(n!=null&&(n=""+$e(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+$e(a):""}function ir(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(at(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=$e(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var kc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ys(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||kc.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ro(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Ys(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Ys(t,f,n[f])}function Ks(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hn(t){return jc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var pn=null;function xa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mi=null,gi=null;function pi(t){var n=fi(t);if(n&&(t=n.stateNode)){var a=t[Te]||null;t:switch(t=n.stateNode,n.type){case"input":if(nr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+re(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Te]||null;if(!h)throw Error(s(90));nr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Qs(l)}break t;case"textarea":Hr(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&kt(t,!!a.multiple,n,!1)}}}var Xs=!1;function wo(t,n,a){if(Xs)return t(n,a);Xs=!0;try{var l=t(n);return l}finally{if(Xs=!1,(mi!==null||gi!==null)&&(yu(),mi&&(n=mi,t=gi,gi=mi=null,pi(n),t)))for(n=0;n<t.length;n++)pi(t[n])}}function Gr(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Te]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var yn=!1;if(sn)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){yn=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{yn=!1}var Gn=null,rr=null,yi=null;function $s(){if(yi)return yi;var t,n=rr,a=n.length,l,h="value"in Gn?Gn.value:Gn.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&n[a-l]===h[f-l];l++);return yi=h.slice(t,1<l?1-l:void 0)}function Fn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Qn(){return!0}function Zs(){return!1}function Ve(t){function n(a,l,h,f,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qn:Zs,this.isPropagationStopped=Zs,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=Ve(Ht),Qr=D({},Ht,{view:0,detail:0}),Co=Ve(Qr),Ua,La,Yn,Yr=D({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$r,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yn&&(Yn&&t.type==="mousemove"?(Ua=t.screenX-Yn.screenX,La=t.screenY-Yn.screenY):La=Ua=0,Yn=t),Ua)},movementY:function(t){return"movementY"in t?t.movementY:La}}),vn=Ve(Yr),Do=D({},Yr,{dataTransfer:0}),qc=Ve(Do),Kr=D({},Qr,{relatedTarget:0}),Pa=Ve(Kr),Ws=D({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),za=Ve(Ws),Vo=D({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ka=Ve(Vo),Hc=D({},Ht,{data:0}),Js=Ve(Hc),Xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Io={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},No={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=No[t])?!!n[t]:!1}function $r(){return tl}var Oo=D({},Qr,{key:function(t){if(t.key){var n=Xr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Fn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Io[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$r,charCode:function(t){return t.type==="keypress"?Fn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ba=Ve(Oo),xo=D({},Yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=Ve(xo),vi=D({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$r}),Mo=Ve(vi),Uo=D({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lo=Ve(Uo),Po=D({},Yr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ja=Ve(Po),Ze=D({},Ht,{newState:0,oldState:0}),zo=Ve(Ze),ko=[9,13,27,32],Kn=sn&&"CompositionEvent"in window,u=null;sn&&"documentMode"in document&&(u=document.documentMode);var g=sn&&"TextEvent"in window&&!u,v=sn&&(!Kn||u&&8<u&&11>=u),A=" ",z=!1;function F(t,n){switch(t){case"keyup":return ko.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function it(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xt=!1;function Ae(t,n){switch(t){case"compositionend":return it(n);case"keypress":return n.which!==32?null:(z=!0,A);case"textInput":return t=n.data,t===A&&z?null:t;default:return null}}function Mt(t,n){if(xt)return t==="compositionend"||!Kn&&F(t,n)?(t=$s(),yi=rr=Gn=null,xt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ie[t.type]:n==="textarea"}function _i(t,n,a,l){mi?gi?gi.push(l):gi=[l]:mi=l,n=Au(n,"onChange"),0<n.length&&(a=new Ma("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ue=null,Xn=null;function nl(t){Lp(t,0)}function Bo(t){var n=Wi(t);if(Qs(n))return t}function hm(t,n){if(t==="change")return n}var fm=!1;if(sn){var Gc;if(sn){var Fc="oninput"in document;if(!Fc){var dm=document.createElement("div");dm.setAttribute("oninput","return;"),Fc=typeof dm.oninput=="function"}Gc=Fc}else Gc=!1;fm=Gc&&(!document.documentMode||9<document.documentMode)}function mm(){Ue&&(Ue.detachEvent("onpropertychange",gm),Xn=Ue=null)}function gm(t){if(t.propertyName==="value"&&Bo(Xn)){var n=[];_i(n,Xn,t,xa(t)),wo(nl,n)}}function X0(t,n,a){t==="focusin"?(mm(),Ue=n,Xn=a,Ue.attachEvent("onpropertychange",gm)):t==="focusout"&&mm()}function $0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bo(Xn)}function Z0(t,n){if(t==="click")return Bo(n)}function W0(t,n){if(t==="input"||t==="change")return Bo(n)}function J0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:J0;function il(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ra.call(n,h)||!ln(t[h],n[h]))return!1}return!0}function pm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ym(t,n){var a=pm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=pm(a)}}function vm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?vm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function _m(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Na(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Na(t.document)}return n}function Qc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function tE(t,n){var a=_m(n);n=t.focusedElem;var l=t.selectionRange;if(a!==n&&n&&n.ownerDocument&&vm(n.ownerDocument.documentElement,n)){if(l!==null&&Qc(n)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(a,n.value.length);else if(a=(t=n.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=n.textContent.length,f=Math.min(l.start,h);l=l.end===void 0?f:Math.min(l.end,h),!a.extend&&f>l&&(h=l,l=f,f=h),h=ym(n,f);var _=ym(n,l);h&&_&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),f>l?(a.addRange(t),a.extend(_.node,_.offset)):(t.setEnd(_.node,_.offset),a.addRange(t)))}}for(t=[],a=n;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)a=t[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var eE=sn&&"documentMode"in document&&11>=document.documentMode,qa=null,Yc=null,rl=null,Kc=!1;function Em(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kc||qa==null||qa!==Na(l)||(l=qa,"selectionStart"in l&&Qc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&il(rl,l)||(rl=l,l=Au(Yc,"onSelect"),0<l.length&&(n=new Ma("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=qa)))}function Zr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ha={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionrun:Zr("Transition","TransitionRun"),transitionstart:Zr("Transition","TransitionStart"),transitioncancel:Zr("Transition","TransitionCancel"),transitionend:Zr("Transition","TransitionEnd")},Xc={},Tm={};sn&&(Tm=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Wr(t){if(Xc[t])return Xc[t];if(!Ha[t])return t;var n=Ha[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Tm)return Xc[t]=n[a];return t}var Am=Wr("animationend"),Sm=Wr("animationiteration"),bm=Wr("animationstart"),nE=Wr("transitionrun"),iE=Wr("transitionstart"),rE=Wr("transitioncancel"),Rm=Wr("transitionend"),wm=new Map,Cm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function xn(t,n){wm.set(t,n),an(n,[t])}var _n=[],Ga=0,$c=0;function jo(){for(var t=Ga,n=$c=Ga=0;n<t;){var a=_n[n];_n[n++]=null;var l=_n[n];_n[n++]=null;var h=_n[n];_n[n++]=null;var f=_n[n];if(_n[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&Dm(a,h,f)}}function qo(t,n,a,l){_n[Ga++]=t,_n[Ga++]=n,_n[Ga++]=a,_n[Ga++]=l,$c|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Zc(t,n,a,l){return qo(t,n,a,l),Ho(t)}function ar(t,n){return qo(t,null,null,n),Ho(t)}function Dm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;h&&n!==null&&t.tag===3&&(f=t.stateNode,h=31-Xe(a),f=f.hiddenUpdates,t=f[h],t===null?f[h]=[n]:t.push(n),n.lane=a|536870912)}function Ho(t){if(50<Vl)throw Vl=0,rf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Fa={},Vm=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var a=Vm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:vt(n)},Vm.set(t,n),n)}return{value:t,source:n,stack:vt(n)}}var Qa=[],Ya=0,Go=null,Fo=0,Tn=[],An=0,Jr=null,Ei=1,Ti="";function ta(t,n){Qa[Ya++]=Fo,Qa[Ya++]=Go,Go=t,Fo=n}function Im(t,n,a){Tn[An++]=Ei,Tn[An++]=Ti,Tn[An++]=Jr,Jr=t;var l=Ei;t=Ti;var h=32-Xe(l)-1;l&=~(1<<h),a+=1;var f=32-Xe(n)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ei=1<<32-Xe(n)+h|a<<h|l,Ti=f+t}else Ei=1<<f|a<<h|l,Ti=t}function Wc(t){t.return!==null&&(ta(t,1),Im(t,1,0))}function Jc(t){for(;t===Go;)Go=Qa[--Ya],Qa[Ya]=null,Fo=Qa[--Ya],Qa[Ya]=null;for(;t===Jr;)Jr=Tn[--An],Tn[An]=null,Ti=Tn[--An],Tn[An]=null,Ei=Tn[--An],Tn[An]=null}var We=null,Le=null,Bt=!1,Mn=null,$n=!1,th=Error(s(519));function ea(t){var n=Error(s(418,""));throw ll(En(n,t)),th}function Nm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[De]=t,n[Te]=l,a){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Ot(Nl[a],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),qr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),jr(n);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),ir(n,l.value,l.defaultValue,l.children),jr(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Bp(n.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),l.onScroll!=null&&Ot("scroll",n),l.onScrollEnd!=null&&Ot("scrollend",n),l.onClick!=null&&(n.onclick=Su),n=!0):n=!1,n||ea(t)}function Om(t){for(We=t.return;We;)switch(We.tag){case 3:case 27:$n=!0;return;case 5:case 13:$n=!1;return;default:We=We.return}}function al(t){if(t!==We)return!1;if(!Bt)return Om(t),Bt=!0,!1;var n=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Tf(t.type,t.memoizedProps)),a=!a),a&&(n=!0),n&&Le&&ea(t),Om(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){Le=Ln(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}Le=null}}else Le=We?Ln(t.stateNode.nextSibling):null;return!0}function sl(){Le=We=null,Bt=!1}function ll(t){Mn===null?Mn=[t]:Mn.push(t)}var ol=Error(s(460)),xm=Error(s(474)),eh={then:function(){}};function Mm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qo(){}function Um(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Qo,Qo),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===ol?Error(s(483)):t;default:if(typeof n.status=="string")n.then(Qo,Qo);else{if(t=Xt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===ol?Error(s(483)):t}throw ul=n,ol}}var ul=null;function Lm(){if(ul===null)throw Error(s(459));var t=ul;return ul=null,t}var Ka=null,cl=0;function Yo(t){var n=cl;return cl+=1,Ka===null&&(Ka=[]),Um(Ka,t,n)}function hl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ko(t,n){throw n.$$typeof===c?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Pm(t){var n=t._init;return n(t._payload)}function zm(t){function n(L,N){if(t){var B=L.deletions;B===null?(L.deletions=[N],L.flags|=16):B.push(N)}}function a(L,N){if(!t)return null;for(;N!==null;)n(L,N),N=N.sibling;return null}function l(L){for(var N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function h(L,N){return L=yr(L,N),L.index=0,L.sibling=null,L}function f(L,N,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<N?(L.flags|=33554434,N):B):(L.flags|=33554434,N)):(L.flags|=1048576,N)}function _(L){return t&&L.alternate===null&&(L.flags|=33554434),L}function T(L,N,B,X){return N===null||N.tag!==6?(N=Xh(B,L.mode,X),N.return=L,N):(N=h(N,B),N.return=L,N)}function R(L,N,B,X){var ot=B.type;return ot===p?K(L,N,B.props.children,X,B.key):N!==null&&(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===Z&&Pm(ot)===N.type)?(N=h(N,B.props),hl(N,B),N.return=L,N):(N=fu(B.type,B.key,B.props,null,L.mode,X),hl(N,B),N.return=L,N)}function M(L,N,B,X){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=$h(B,L.mode,X),N.return=L,N):(N=h(N,B.children||[]),N.return=L,N)}function K(L,N,B,X,ot){return N===null||N.tag!==7?(N=ha(B,L.mode,X,ot),N.return=L,N):(N=h(N,B),N.return=L,N)}function tt(L,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Xh(""+N,L.mode,B),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case d:return B=fu(N.type,N.key,N.props,null,L.mode,B),hl(B,N),B.return=L,B;case m:return N=$h(N,L.mode,B),N.return=L,N;case Z:var X=N._init;return N=X(N._payload),tt(L,N,B)}if(at(N)||wt(N))return N=ha(N,L.mode,B,null),N.return=L,N;if(typeof N.then=="function")return tt(L,Yo(N),B);if(N.$$typeof===U)return tt(L,uu(L,N),B);Ko(L,N)}return null}function j(L,N,B,X){var ot=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ot!==null?null:T(L,N,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case d:return B.key===ot?R(L,N,B,X):null;case m:return B.key===ot?M(L,N,B,X):null;case Z:return ot=B._init,B=ot(B._payload),j(L,N,B,X)}if(at(B)||wt(B))return ot!==null?null:K(L,N,B,X,null);if(typeof B.then=="function")return j(L,N,Yo(B),X);if(B.$$typeof===U)return j(L,N,uu(L,B),X);Ko(L,B)}return null}function Y(L,N,B,X,ot){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(B)||null,T(N,L,""+X,ot);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case d:return L=L.get(X.key===null?B:X.key)||null,R(N,L,X,ot);case m:return L=L.get(X.key===null?B:X.key)||null,M(N,L,X,ot);case Z:var Vt=X._init;return X=Vt(X._payload),Y(L,N,B,X,ot)}if(at(X)||wt(X))return L=L.get(B)||null,K(N,L,X,ot,null);if(typeof X.then=="function")return Y(L,N,B,Yo(X),ot);if(X.$$typeof===U)return Y(L,N,B,uu(N,X),ot);Ko(N,X)}return null}function ct(L,N,B,X){for(var ot=null,Vt=null,dt=N,yt=N=0,xe=null;dt!==null&&yt<B.length;yt++){dt.index>yt?(xe=dt,dt=null):xe=dt.sibling;var jt=j(L,dt,B[yt],X);if(jt===null){dt===null&&(dt=xe);break}t&&dt&&jt.alternate===null&&n(L,dt),N=f(jt,N,yt),Vt===null?ot=jt:Vt.sibling=jt,Vt=jt,dt=xe}if(yt===B.length)return a(L,dt),Bt&&ta(L,yt),ot;if(dt===null){for(;yt<B.length;yt++)dt=tt(L,B[yt],X),dt!==null&&(N=f(dt,N,yt),Vt===null?ot=dt:Vt.sibling=dt,Vt=dt);return Bt&&ta(L,yt),ot}for(dt=l(dt);yt<B.length;yt++)xe=Y(dt,L,yt,B[yt],X),xe!==null&&(t&&xe.alternate!==null&&dt.delete(xe.key===null?yt:xe.key),N=f(xe,N,yt),Vt===null?ot=xe:Vt.sibling=xe,Vt=xe);return t&&dt.forEach(function(br){return n(L,br)}),Bt&&ta(L,yt),ot}function Tt(L,N,B,X){if(B==null)throw Error(s(151));for(var ot=null,Vt=null,dt=N,yt=N=0,xe=null,jt=B.next();dt!==null&&!jt.done;yt++,jt=B.next()){dt.index>yt?(xe=dt,dt=null):xe=dt.sibling;var br=j(L,dt,jt.value,X);if(br===null){dt===null&&(dt=xe);break}t&&dt&&br.alternate===null&&n(L,dt),N=f(br,N,yt),Vt===null?ot=br:Vt.sibling=br,Vt=br,dt=xe}if(jt.done)return a(L,dt),Bt&&ta(L,yt),ot;if(dt===null){for(;!jt.done;yt++,jt=B.next())jt=tt(L,jt.value,X),jt!==null&&(N=f(jt,N,yt),Vt===null?ot=jt:Vt.sibling=jt,Vt=jt);return Bt&&ta(L,yt),ot}for(dt=l(dt);!jt.done;yt++,jt=B.next())jt=Y(dt,L,yt,jt.value,X),jt!==null&&(t&&jt.alternate!==null&&dt.delete(jt.key===null?yt:jt.key),N=f(jt,N,yt),Vt===null?ot=jt:Vt.sibling=jt,Vt=jt);return t&&dt.forEach(function(vT){return n(L,vT)}),Bt&&ta(L,yt),ot}function le(L,N,B,X){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case d:t:{for(var ot=B.key;N!==null;){if(N.key===ot){if(ot=B.type,ot===p){if(N.tag===7){a(L,N.sibling),X=h(N,B.props.children),X.return=L,L=X;break t}}else if(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===Z&&Pm(ot)===N.type){a(L,N.sibling),X=h(N,B.props),hl(X,B),X.return=L,L=X;break t}a(L,N);break}else n(L,N);N=N.sibling}B.type===p?(X=ha(B.props.children,L.mode,X,B.key),X.return=L,L=X):(X=fu(B.type,B.key,B.props,null,L.mode,X),hl(X,B),X.return=L,L=X)}return _(L);case m:t:{for(ot=B.key;N!==null;){if(N.key===ot)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){a(L,N.sibling),X=h(N,B.children||[]),X.return=L,L=X;break t}else{a(L,N);break}else n(L,N);N=N.sibling}X=$h(B,L.mode,X),X.return=L,L=X}return _(L);case Z:return ot=B._init,B=ot(B._payload),le(L,N,B,X)}if(at(B))return ct(L,N,B,X);if(wt(B)){if(ot=wt(B),typeof ot!="function")throw Error(s(150));return B=ot.call(B),Tt(L,N,B,X)}if(typeof B.then=="function")return le(L,N,Yo(B),X);if(B.$$typeof===U)return le(L,N,uu(L,B),X);Ko(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(a(L,N.sibling),X=h(N,B),X.return=L,L=X):(a(L,N),X=Xh(B,L.mode,X),X.return=L,L=X),_(L)):a(L,N)}return function(L,N,B,X){try{cl=0;var ot=le(L,N,B,X);return Ka=null,ot}catch(dt){if(dt===ol)throw dt;var Vt=wn(29,dt,null,L.mode);return Vt.lanes=X,Vt.return=L,Vt}finally{}}}var na=zm(!0),km=zm(!1),Xa=zt(null),Xo=zt(0);function Bm(t,n){t=Oi,Ft(Xo,t),Ft(Xa,n),Oi=t|n.baseLanes}function nh(){Ft(Xo,Oi),Ft(Xa,Xa.current)}function ih(){Oi=Xo.current,ie(Xa),ie(Xo)}var Sn=zt(null),Zn=null;function sr(t){var n=t.alternate;Ft(be,be.current&1),Ft(Sn,t),Zn===null&&(n===null||Xa.current!==null||n.memoizedState!==null)&&(Zn=t)}function jm(t){if(t.tag===22){if(Ft(be,be.current),Ft(Sn,t),Zn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Zn=t)}}else lr()}function lr(){Ft(be,be.current),Ft(Sn,Sn.current)}function Ai(t){ie(Sn),Zn===t&&(Zn=null),ie(be)}var be=zt(0);function $o(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var aE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},sE=r.unstable_scheduleCallback,lE=r.unstable_NormalPriority,Re={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rh(){return{controller:new aE,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&sE(lE,function(){t.controller.abort()})}var dl=null,ah=0,$a=0,Za=null;function oE(t,n){if(dl===null){var a=dl=[];ah=0,$a=ff(),Za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ah++,n.then(qm,qm),n}function qm(){if(--ah===0&&dl!==null){Za!==null&&(Za.status="fulfilled");var t=dl;dl=null,$a=0,Za=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function uE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Hm=S.S;S.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&oE(t,n),Hm!==null&&Hm(t,n)};var ia=zt(null);function sh(){var t=ia.current;return t!==null?t:Xt.pooledCache}function Zo(t,n){n===null?Ft(ia,ia.current):Ft(ia,n.pool)}function Gm(){var t=sh();return t===null?null:{parent:Re._currentValue,pool:t}}var or=0,Ct=null,Qt=null,de=null,Wo=!1,Wa=!1,ra=!1,Jo=0,ml=0,Ja=null,cE=0;function ue(){throw Error(s(321))}function lh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ln(t[a],n[a]))return!1;return!0}function oh(t,n,a,l,h,f){return or=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=t===null||t.memoizedState===null?aa:ur,ra=!1,f=a(l,h),ra=!1,Wa&&(f=Qm(n,a,l,h)),Fm(t),f}function Fm(t){S.H=Wn;var n=Qt!==null&&Qt.next!==null;if(or=0,de=Qt=Ct=null,Wo=!1,ml=0,Ja=null,n)throw Error(s(300));t===null||Ne||(t=t.dependencies,t!==null&&ou(t)&&(Ne=!0))}function Qm(t,n,a,l){Ct=t;var h=0;do{if(Wa&&(Ja=null),ml=0,Wa=!1,25<=h)throw Error(s(301));if(h+=1,de=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}S.H=sa,f=n(a,l)}while(Wa);return f}function hE(){var t=S.H,n=t.useState()[0];return n=typeof n.then=="function"?gl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Ct.flags|=1024),n}function uh(){var t=Jo!==0;return Jo=0,t}function ch(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function hh(t){if(Wo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wo=!1}or=0,de=Qt=Ct=null,Wa=!1,ml=Jo=0,Ja=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Ct.memoizedState=de=t:de=de.next=t,de}function me(){if(Qt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=de===null?Ct.memoizedState:de.next;if(n!==null)de=n,Qt=t;else{if(t===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},de===null?Ct.memoizedState=de=t:de=de.next=t}return de}var tu;tu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function gl(t){var n=ml;return ml+=1,Ja===null&&(Ja=[]),t=Um(Ja,t,n),n=Ct,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?aa:ur),t}function eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===U)return He(t)}throw Error(s(438,String(t)))}function fh(t){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=tu(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=mt;return n.index++,a}function Si(t,n){return typeof n=="function"?n(t):n}function nu(t){var n=me();return dh(n,Qt,t)}function dh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=_=null,R=null,M=n,K=!1;do{var tt=M.lane&-536870913;if(tt!==M.lane?(Ut&tt)===tt:(or&tt)===tt){var j=M.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),tt===$a&&(K=!0);else if((or&j)===j){M=M.next,j===$a&&(K=!0);continue}else tt={lane:0,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},R===null?(T=R=tt,_=f):R=R.next=tt,Ct.lanes|=j,vr|=j;tt=M.action,ra&&a(f,tt),f=M.hasEagerState?M.eagerState:a(f,tt)}else j={lane:tt,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},R===null?(T=R=j,_=f):R=R.next=j,Ct.lanes|=tt,vr|=tt;M=M.next}while(M!==null&&M!==n);if(R===null?_=f:R.next=T,!ln(f,t.memoizedState)&&(Ne=!0,K&&(a=Za,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function mh(t){var n=me(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);ln(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Ym(t,n,a){var l=Ct,h=me(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!ln((Qt||h).memoizedState,a);if(_&&(h.memoizedState=a,Ne=!0),h=h.queue,yh($m.bind(null,l,h,t),[t]),h.getSnapshot!==n||_||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,ts(9,Xm.bind(null,l,h,a,n),{destroy:void 0},null),Xt===null)throw Error(s(349));f||(or&60)!==0||Km(l,n,a)}return a}function Km(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=tu(),Ct.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Xm(t,n,a,l){n.value=a,n.getSnapshot=l,Zm(n)&&Wm(t)}function $m(t,n,a){return a(function(){Zm(n)&&Wm(t)})}function Zm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ln(t,a)}catch{return!0}}function Wm(t){var n=ar(t,2);n!==null&&Je(n,t,2)}function gh(t){var n=nn();if(typeof t=="function"){var a=t;if(t=a(),ra){kn(!0);try{a()}finally{kn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},n}function Jm(t,n,a,l){return t.baseState=a,dh(t,Qt,typeof l=="function"?l:Si)}function fE(t,n,a,l,h){if(au(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};S.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,tg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function tg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=S.T,_={};S.T=_;try{var T=a(h,l),R=S.S;R!==null&&R(_,T),eg(t,n,T)}catch(M){ph(t,n,M)}finally{S.T=f}}else try{f=a(h,l),eg(t,n,f)}catch(M){ph(t,n,M)}}function eg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ng(t,n,l)},function(l){return ph(t,n,l)}):ng(t,n,a)}function ng(t,n,a){n.status="fulfilled",n.value=a,ig(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,tg(t,a)))}function ph(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,ig(n),n=n.next;while(n!==l)}t.action=null}function ig(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function rg(t,n){return n}function ag(t,n){if(Bt){var a=Xt.formState;if(a!==null){t:{var l=Ct;if(Bt){if(Le){e:{for(var h=Le,f=$n;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Le=Ln(h.nextSibling),l=h.data==="F!";break t}}ea(l)}l=!1}l&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rg,lastRenderedState:n},a.queue=l,a=Sg.bind(null,Ct,l),l.dispatch=a,l=gh(!1),f=Ah.bind(null,Ct,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=fE.bind(null,Ct,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function sg(t){var n=me();return lg(n,Qt,t)}function lg(t,n,a){n=dh(t,n,rg)[0],t=nu(Si)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?gl(n):n;var l=me(),h=l.queue,f=h.dispatch;return a!==l.memoizedState&&(Ct.flags|=2048,ts(9,dE.bind(null,h,a),{destroy:void 0},null)),[n,f,t]}function dE(t,n){t.action=n}function og(t){var n=me(),a=Qt;if(a!==null)return lg(n,a,t);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ts(t,n,a,l){return t={tag:t,create:n,inst:a,deps:l,next:null},n=Ct.updateQueue,n===null&&(n=tu(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function ug(){return me().memoizedState}function iu(t,n,a,l){var h=nn();Ct.flags|=t,h.memoizedState=ts(1|n,a,{destroy:void 0},l===void 0?null:l)}function ru(t,n,a,l){var h=me();l=l===void 0?null:l;var f=h.memoizedState.inst;Qt!==null&&l!==null&&lh(l,Qt.memoizedState.deps)?h.memoizedState=ts(n,a,f,l):(Ct.flags|=t,h.memoizedState=ts(1|n,a,f,l))}function cg(t,n){iu(8390656,8,t,n)}function yh(t,n){ru(2048,8,t,n)}function hg(t,n){return ru(4,2,t,n)}function fg(t,n){return ru(4,4,t,n)}function dg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function mg(t,n,a){a=a!=null?a.concat([t]):null,ru(4,4,dg.bind(null,n,t),a)}function vh(){}function gg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&lh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function pg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&lh(n,l[1]))return l[0];if(l=t(),ra){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[l,n],l}function _h(t,n,a){return a===void 0||(or&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=vp(),Ct.lanes|=t,vr|=t,a)}function yg(t,n,a,l){return ln(a,n)?a:Xa.current!==null?(t=_h(t,a,l),ln(t,n)||(Ne=!0),t):(or&42)===0?(Ne=!0,t.memoizedState=a):(t=vp(),Ct.lanes|=t,vr|=t,n)}function vg(t,n,a,l,h){var f=st.p;st.p=f!==0&&8>f?f:8;var _=S.T,T={};S.T=T,Ah(t,!1,n,a);try{var R=h(),M=S.S;if(M!==null&&M(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=uE(R,l);pl(t,n,K,hn(t))}else pl(t,n,l,hn(t))}catch(tt){pl(t,n,{then:function(){},status:"rejected",reason:tt},hn())}finally{st.p=f,S.T=_}}function mE(){}function Eh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=_g(t).queue;vg(t,h,n,Rt,a===null?mE:function(){return Eg(t),a(l)})}function _g(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Rt,baseState:Rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:Rt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Eg(t){var n=_g(t).next.queue;pl(t,n,{},hn())}function Th(){return He(Ll)}function Tg(){return me().memoizedState}function Ag(){return me().memoizedState}function gE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=hn();t=fr(a);var l=dr(n,t,a);l!==null&&(Je(l,n,a),_l(l,n,a)),n={cache:rh()},t.payload=n;return}n=n.return}}function pE(t,n,a){var l=hn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},au(t)?bg(n,a):(a=Zc(t,n,a,l),a!==null&&(Je(a,t,l),Rg(a,n,l)))}function Sg(t,n,a){var l=hn();pl(t,n,a,l)}function pl(t,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(au(t))bg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,T=f(_,a);if(h.hasEagerState=!0,h.eagerState=T,ln(T,_))return qo(t,n,h,0),Xt===null&&jo(),!1}catch{}finally{}if(a=Zc(t,n,h,l),a!==null)return Je(a,t,l),Rg(a,n,l),!0}return!1}function Ah(t,n,a,l){if(l={lane:2,revertLane:ff(),action:l,hasEagerState:!1,eagerState:null,next:null},au(t)){if(n)throw Error(s(479))}else n=Zc(t,a,l,2),n!==null&&Je(n,t,2)}function au(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function bg(t,n){Wa=Wo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Rg(t,n,a){if((a&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Xi(t,a)}}var Wn={readContext:He,use:eu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue};Wn.useCacheRefresh=ue,Wn.useMemoCache=ue,Wn.useHostTransitionStatus=ue,Wn.useFormState=ue,Wn.useActionState=ue,Wn.useOptimistic=ue;var aa={readContext:He,use:eu,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:cg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,iu(4194308,4,dg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return iu(4194308,4,t,n)},useInsertionEffect:function(t,n){iu(4,2,t,n)},useMemo:function(t,n){var a=nn();n=n===void 0?null:n;var l=t();if(ra){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=nn();if(a!==void 0){var h=a(n);if(ra){kn(!0);try{a(n)}finally{kn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=pE.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=gh(t);var n=t.queue,a=Sg.bind(null,Ct,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:vh,useDeferredValue:function(t,n){var a=nn();return _h(a,t,n)},useTransition:function(){var t=gh(!1);return t=vg.bind(null,Ct,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ct,h=nn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Xt===null)throw Error(s(349));(Ut&60)!==0||Km(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,cg($m.bind(null,l,f,t),[t]),l.flags|=2048,ts(9,Xm.bind(null,l,f,a,n),{destroy:void 0},null),a},useId:function(){var t=nn(),n=Xt.identifierPrefix;if(Bt){var a=Ti,l=Ei;a=(l&~(1<<32-Xe(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=Jo++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=cE++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return nn().memoizedState=gE.bind(null,Ct)}};aa.useMemoCache=fh,aa.useHostTransitionStatus=Th,aa.useFormState=ag,aa.useActionState=ag,aa.useOptimistic=function(t){var n=nn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Ah.bind(null,Ct,!0,a),a.dispatch=n,[t,n]};var ur={readContext:He,use:eu,useCallback:gg,useContext:He,useEffect:yh,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:pg,useReducer:nu,useRef:ug,useState:function(){return nu(Si)},useDebugValue:vh,useDeferredValue:function(t,n){var a=me();return yg(a,Qt.memoizedState,t,n)},useTransition:function(){var t=nu(Si)[0],n=me().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Ym,useId:Tg};ur.useCacheRefresh=Ag,ur.useMemoCache=fh,ur.useHostTransitionStatus=Th,ur.useFormState=sg,ur.useActionState=sg,ur.useOptimistic=function(t,n){var a=me();return Jm(a,Qt,t,n)};var sa={readContext:He,use:eu,useCallback:gg,useContext:He,useEffect:yh,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:pg,useReducer:mh,useRef:ug,useState:function(){return mh(Si)},useDebugValue:vh,useDeferredValue:function(t,n){var a=me();return Qt===null?_h(a,t,n):yg(a,Qt.memoizedState,t,n)},useTransition:function(){var t=mh(Si)[0],n=me().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Ym,useId:Tg};sa.useCacheRefresh=Ag,sa.useMemoCache=fh,sa.useHostTransitionStatus=Th,sa.useFormState=og,sa.useActionState=og,sa.useOptimistic=function(t,n){var a=me();return Qt!==null?Jm(a,Qt,t,n):(a.baseState=t,[t,a.queue.dispatch])};function Sh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:D({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var bh={isMounted:function(t){return(t=t._reactInternals)?gt(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var l=hn(),h=fr(l);h.payload=n,a!=null&&(h.callback=a),n=dr(t,h,l),n!==null&&(Je(n,t,l),_l(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=hn(),h=fr(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=dr(t,h,l),n!==null&&(Je(n,t,l),_l(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=hn(),l=fr(a);l.tag=2,n!=null&&(l.callback=n),n=dr(t,l,a),n!==null&&(Je(n,t,a),_l(n,t,a))}};function wg(t,n,a,l,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!il(a,l)||!il(h,f):!0}function Cg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&bh.enqueueReplaceState(n,n.state,null)}function la(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=D({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var su=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Dg(t){su(t)}function Vg(t){console.error(t)}function Ig(t){su(t)}function lu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ng(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Rh(t,n,a){return a=fr(a),a.tag=3,a.payload={element:null},a.callback=function(){lu(t,n)},a}function Og(t){return t=fr(t),t.tag=3,t}function xg(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Ng(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Ng(n,a,l),typeof h!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function yE(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&vl(n,a,h,!0),a=Sn.current,a!==null){switch(a.tag){case 13:return Zn===null?lf():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===eh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),uf(t,l,h)),!1;case 22:return a.flags|=65536,l===eh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),uf(t,l,h)),!1}throw Error(s(435,a.tag))}return uf(t,l,h),lf(),!1}if(Bt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==th&&(t=Error(s(422),{cause:l}),ll(En(t,a)))):(l!==th&&(n=Error(s(423),{cause:l}),ll(En(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=En(l,a),h=Rh(t.stateNode,l,h),Bh(t,h),se!==4&&(se=2)),!1;var f=Error(s(520),{cause:l});if(f=En(f,a),Cl===null?Cl=[f]:Cl.push(f),se!==4&&(se=2),n===null)return!0;l=En(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Rh(a.stateNode,l,t),Bh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(_r===null||!_r.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Og(h),xg(h,t,a,l),Bh(a,h),!1}a=a.return}while(a!==null);return!1}var Mg=Error(s(461)),Ne=!1;function Pe(t,n,a,l){n.child=t===null?km(n,null,a,l):na(n,t.child,a,l)}function Ug(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ua(n),l=oh(t,n,a,_,f,h),T=uh(),t!==null&&!Ne?(ch(t,n,h),bi(t,n,h)):(Bt&&T&&Wc(n),n.flags|=1,Pe(t,n,l,h),n.child)}function Lg(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Pg(t,n,f,l,h)):(t=fu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Mh(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(_,l)&&t.ref===n.ref)return bi(t,n,h)}return n.flags|=1,t=yr(f,l),t.ref=n.ref,t.return=n,n.child=t}function Pg(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(il(f,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,Mh(t,h))(t.flags&131072)!==0&&(Ne=!0);else return n.lanes=t.lanes,bi(t,n,h)}return wh(t,n,a,l,h)}function zg(t,n,a){var l=n.pendingProps,h=l.children,f=(n.stateNode._pendingVisibility&2)!==0,_=t!==null?t.memoizedState:null;if(yl(t,n),l.mode==="hidden"||f){if((n.flags&128)!==0){if(l=_!==null?_.baseLanes|a:a,t!==null){for(h=n.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return kg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zo(n,_!==null?_.cachePool:null),_!==null?Bm(n,_):nh(),jm(n);else return n.lanes=n.childLanes=536870912,kg(t,n,_!==null?_.baseLanes|a:a,a)}else _!==null?(Zo(n,_.cachePool),Bm(n,_),lr(),n.memoizedState=null):(t!==null&&Zo(n,null),nh(),lr());return Pe(t,n,h,a),n.child}function kg(t,n,a,l){var h=sh();return h=h===null?null:{parent:Re._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&Zo(n,null),nh(),jm(n),t!==null&&vl(t,n,l,!0),null}function yl(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=2097664)}}function wh(t,n,a,l,h){return ua(n),a=oh(t,n,a,l,void 0,h),l=uh(),t!==null&&!Ne?(ch(t,n,h),bi(t,n,h)):(Bt&&l&&Wc(n),n.flags|=1,Pe(t,n,a,h),n.child)}function Bg(t,n,a,l,h,f){return ua(n),n.updateQueue=null,a=Qm(n,l,a,h),Fm(t),l=uh(),t!==null&&!Ne?(ch(t,n,f),bi(t,n,f)):(Bt&&l&&Wc(n),n.flags|=1,Pe(t,n,a,f),n.child)}function jg(t,n,a,l,h){if(ua(n),n.stateNode===null){var f=Fa,_=a.contextType;typeof _=="object"&&_!==null&&(f=He(_)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=bh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},zh(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?He(_):Fa,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Sh(n,a,_,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&bh.enqueueReplaceState(f,f.state,null),Tl(n,l,f,h),El(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,R=la(a,T);f.props=R;var M=f.context,K=a.contextType;_=Fa,typeof K=="object"&&K!==null&&(_=He(K));var tt=a.getDerivedStateFromProps;K=typeof tt=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||M!==_)&&Cg(n,f,l,_),hr=!1;var j=n.memoizedState;f.state=j,Tl(n,l,f,h),El(),M=n.memoizedState,T||j!==M||hr?(typeof tt=="function"&&(Sh(n,a,tt,l),M=n.memoizedState),(R=hr||wg(n,a,R,l,j,M,_))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=M),f.props=l,f.state=M,f.context=_,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,kh(t,n),_=n.memoizedProps,K=la(a,_),f.props=K,tt=n.pendingProps,j=f.context,M=a.contextType,R=Fa,typeof M=="object"&&M!==null&&(R=He(M)),T=a.getDerivedStateFromProps,(M=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==tt||j!==R)&&Cg(n,f,l,R),hr=!1,j=n.memoizedState,f.state=j,Tl(n,l,f,h),El();var Y=n.memoizedState;_!==tt||j!==Y||hr||t!==null&&t.dependencies!==null&&ou(t.dependencies)?(typeof T=="function"&&(Sh(n,a,T,l),Y=n.memoizedState),(K=hr||wg(n,a,K,l,j,Y,R)||t!==null&&t.dependencies!==null&&ou(t.dependencies))?(M||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Y,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Y,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Y),f.props=l,f.state=Y,f.context=R,l=K):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,yl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=na(n,t.child,null,h),n.child=na(n,null,a,h)):Pe(t,n,a,h),n.memoizedState=f.state,t=n.child):t=bi(t,n,h),t}function qg(t,n,a,l){return sl(),n.flags|=256,Pe(t,n,a,l),n.child}var Ch={dehydrated:null,treeContext:null,retryLane:0};function Dh(t){return{baseLanes:t,cachePool:Gm()}}function Vh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Cn),t}function Hg(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(be.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(h?sr(n):lr(),Bt){var T=Le,R;if(R=T){t:{for(R=T,T=$n;R.nodeType!==8;){if(!T){T=null;break t}if(R=Ln(R.nextSibling),R===null){T=null;break t}}T=R}T!==null?(n.memoizedState={dehydrated:T,treeContext:Jr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912},R=wn(18,null,null,0),R.stateNode=T,R.return=n,n.child=R,We=n,Le=null,R=!0):R=!1}R||ea(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?n.lanes=16:n.lanes=536870912,null;Ai(n)}return T=l.children,l=l.fallback,h?(lr(),h=n.mode,T=Nh({mode:"hidden",children:T},h),l=ha(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=Dh(a),h.childLanes=Vh(t,_,a),n.memoizedState=Ch,l):(sr(n),Ih(n,T))}if(R=t.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(sr(n),n.flags&=-257,n=Oh(t,n,a)):n.memoizedState!==null?(lr(),n.child=t.child,n.flags|=128,n=null):(lr(),h=l.fallback,T=n.mode,l=Nh({mode:"visible",children:l.children},T),h=ha(h,T,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,na(n,t.child,null,a),l=n.child,l.memoizedState=Dh(a),l.childLanes=Vh(t,_,a),n.memoizedState=Ch,n=h);else if(sr(n),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var M=_.dgst;_=M,l=Error(s(419)),l.stack="",l.digest=_,ll({value:l,source:null,stack:null}),n=Oh(t,n,a)}else if(Ne||vl(t,n,a,!1),_=(a&t.childLanes)!==0,Ne||_){if(_=Xt,_!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane)throw R.retryLane=l,ar(t,l),Je(_,t,l),Mg}T.data==="$?"||lf(),n=Oh(t,n,a)}else T.data==="$?"?(n.flags|=128,n.child=t.child,n=OE.bind(null,t),T._reactRetry=n,n=null):(t=R.treeContext,Le=Ln(T.nextSibling),We=n,Bt=!0,Mn=null,$n=!1,t!==null&&(Tn[An++]=Ei,Tn[An++]=Ti,Tn[An++]=Jr,Ei=t.id,Ti=t.overflow,Jr=n),n=Ih(n,l.children),n.flags|=4096);return n}return h?(lr(),h=l.fallback,T=n.mode,R=t.child,M=R.sibling,l=yr(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&31457280,M!==null?h=yr(M,h):(h=ha(h,T,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=t.child.memoizedState,T===null?T=Dh(a):(R=T.cachePool,R!==null?(M=Re._currentValue,R=R.parent!==M?{parent:M,pool:M}:R):R=Gm(),T={baseLanes:T.baseLanes|a,cachePool:R}),h.memoizedState=T,h.childLanes=Vh(t,_,a),n.memoizedState=Ch,l):(sr(n),a=t.child,t=a.sibling,a=yr(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function Ih(t,n){return n=Nh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Nh(t,n){return gp(t,n,0,null)}function Oh(t,n,a){return na(n,t.child,null,a),t=Ih(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Gg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Lh(t.return,n,a)}function xh(t,n,a,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function Fg(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(Pe(t,n,l.children,a),l=be.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gg(t,a,n);else if(t.tag===19)Gg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ft(be,l),h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&$o(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),xh(n,!1,h,a,f);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&$o(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}xh(n,!0,a,null,f);break;case"together":xh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function bi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),vr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(vl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=yr(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=yr(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Mh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ou(t)))}function vE(t,n,a){switch(n.tag){case 3:Hi(n,n.stateNode.containerInfo),cr(n,Re,t.memoizedState.cache),sl();break;case 27:case 5:Ls(n);break;case 4:Hi(n,n.stateNode.containerInfo);break;case 10:cr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(sr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Hg(t,n,a):(sr(n),t=bi(t,n,a),t!==null?t.sibling:null);sr(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(vl(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Fg(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ft(be,be.current),l)break;return null;case 22:case 23:return n.lanes=0,zg(t,n,a);case 24:cr(n,Re,t.memoizedState.cache)}return bi(t,n,a)}function Qg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Mh(t,a)&&(n.flags&128)===0)return Ne=!1,vE(t,n,a);Ne=(t.flags&131072)!==0}else Ne=!1,Bt&&(n.flags&1048576)!==0&&Im(n,Fo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")Kh(l)?(t=la(l,t),n.tag=1,n=jg(null,n,l,t,a)):(n.tag=0,n=wh(null,n,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===P){n.tag=11,n=Ug(null,n,l,t,a);break t}else if(h===H){n.tag=14,n=Lg(null,n,l,t,a);break t}}throw n=w(l)||l,Error(s(306,n,""))}}return n;case 0:return wh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=la(l,n.pendingProps),jg(t,n,l,h,a);case 3:t:{if(Hi(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var f=n.pendingProps;h=n.memoizedState,l=h.element,kh(t,n),Tl(n,f,null,a);var _=n.memoizedState;if(f=_.cache,cr(n,Re,f),f!==h.cache&&Ph(n,[Re],a,!0),El(),f=_.element,h.isDehydrated)if(h={element:f,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=qg(t,n,f,a);break t}else if(f!==l){l=En(Error(s(424)),n),ll(l),n=qg(t,n,f,a);break t}else for(Le=Ln(n.stateNode.containerInfo.firstChild),We=n,Bt=!0,Mn=null,$n=!0,a=km(n,null,f,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(sl(),f===l){n=bi(t,n,a);break t}Pe(t,n,f,a)}n=n.child}return n;case 26:return yl(t,n),t===null?(a=Xp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,t=n.pendingProps,l=bu(fn.current).createElement(a),l[De]=n,l[Te]=t,ze(l,a,t),Wt(l),n.stateNode=l):n.memoizedState=Xp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ls(n),t===null&&Bt&&(l=n.stateNode=Qp(n.type,n.pendingProps,fn.current),We=n,$n=!0,Le=Ln(l.firstChild)),l=n.pendingProps.children,t!==null||Bt?Pe(t,n,l,a):n.child=na(n,null,l,a),yl(t,n),n.child;case 5:return t===null&&Bt&&((h=l=Le)&&(l=KE(l,n.type,n.pendingProps,$n),l!==null?(n.stateNode=l,We=n,Le=Ln(l.firstChild),$n=!1,h=!0):h=!1),h||ea(n)),Ls(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Tf(h,f)?l=null:_!==null&&Tf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=oh(t,n,hE,null,null,a),Ll._currentValue=h),yl(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&Bt&&((t=a=Le)&&(a=XE(a,n.pendingProps,$n),a!==null?(n.stateNode=a,We=n,Le=null,t=!0):t=!1),t||ea(n)),null;case 13:return Hg(t,n,a);case 4:return Hi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=na(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return Ug(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,cr(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ua(n),h=He(h),l=l(h),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return Lg(t,n,n.type,n.pendingProps,a);case 15:return Pg(t,n,n.type,n.pendingProps,a);case 19:return Fg(t,n,a);case 22:return zg(t,n,a);case 24:return ua(n),l=He(Re),t===null?(h=sh(),h===null&&(h=Xt,f=rh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},zh(n),cr(n,Re,h)):((t.lanes&a)!==0&&(kh(t,n),Tl(n,null,null,a),El()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),cr(n,Re,l)):(l=f.cache,cr(n,Re,l),l!==h.cache&&Ph(n,[Re],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var Uh=zt(null),oa=null,Ri=null;function cr(t,n,a){Ft(Uh,n._currentValue),n._currentValue=a}function wi(t){t._currentValue=Uh.current,ie(Uh)}function Lh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Ph(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Lh(f.return,a,t),l||(_=null);break t}f=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),Lh(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function vl(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;ln(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===qi.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}h=h.return}t!==null&&Ph(n,t,a,l),n.flags|=262144}function ou(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ua(t){oa=t,Ri=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return Yg(oa,t)}function uu(t,n){return oa===null&&ua(t),Yg(t,n)}function Yg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ri===null){if(t===null)throw Error(s(308));Ri=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ri=Ri.next=n;return a}var hr=!1;function zh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function dr(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(te&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Ho(t),Dm(t,null,a),n}return qo(t,l,n,a),Ho(t)}function _l(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Xi(t,a)}}function Bh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var jh=!1;function El(){if(jh){var t=Za;if(t!==null)throw t}}function Tl(t,n,a,l){jh=!1;var h=t.updateQueue;hr=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,M=R.next;R.next=null,_===null?f=M:_.next=M,_=R;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==_&&(T===null?K.firstBaseUpdate=M:T.next=M,K.lastBaseUpdate=R))}if(f!==null){var tt=h.baseState;_=0,K=M=R=null,T=f;do{var j=T.lane&-536870913,Y=j!==T.lane;if(Y?(Ut&j)===j:(l&j)===j){j!==0&&j===$a&&(jh=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ct=t,Tt=T;j=n;var le=a;switch(Tt.tag){case 1:if(ct=Tt.payload,typeof ct=="function"){tt=ct.call(le,tt,j);break t}tt=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Tt.payload,j=typeof ct=="function"?ct.call(le,tt,j):ct,j==null)break t;tt=D({},tt,j);break t;case 2:hr=!0}}j=T.callback,j!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[j]:Y.push(j))}else Y={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(M=K=Y,R=tt):K=K.next=Y,_|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);K===null&&(R=tt),h.baseState=R,h.firstBaseUpdate=M,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),vr|=_,t.lanes=_,t.memoizedState=tt}}function Kg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Xg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Kg(a[t],n)}function Al(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Kt(n,n.return,T)}}function mr(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var R=a;try{T()}catch(M){Kt(h,R,M)}}}l=l.next}while(l!==f)}}catch(M){Kt(n,n.return,M)}}function $g(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Xg(n,a)}catch(l){Kt(t,t.return,l)}}}function Zg(t,n,a){a.props=la(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Kt(t,n,l)}}function ca(t,n){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(f){Kt(t,n,f)}}function on(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Kt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Kt(t,n,h)}else a.current=null}function Wg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Kt(t,t.return,h)}}function Jg(t,n,a){try{var l=t.stateNode;HE(l,t.type,a,n),l[Te]=n}catch(h){Kt(t,t.return,h)}}function tp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function qh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||tp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Su));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Hh(t,n,a),t=t.sibling;t!==null;)Hh(t,n,a),t=t.sibling}function cu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(cu(t,n,a),t=t.sibling;t!==null;)cu(t,n,a),t=t.sibling}var Ci=!1,ae=!1,Gh=!1,ep=typeof WeakSet=="function"?WeakSet:Set,Oe=null,np=!1;function _E(t,n){if(t=t.containerInfo,_f=Iu,t=_m(t),Qc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var _=0,T=-1,R=-1,M=0,K=0,tt=t,j=null;e:for(;;){for(var Y;tt!==a||h!==0&&tt.nodeType!==3||(T=_+h),tt!==f||l!==0&&tt.nodeType!==3||(R=_+l),tt.nodeType===3&&(_+=tt.nodeValue.length),(Y=tt.firstChild)!==null;)j=tt,tt=Y;for(;;){if(tt===t)break e;if(j===a&&++M===h&&(T=_),j===f&&++K===l&&(R=_),(Y=tt.nextSibling)!==null)break;tt=j,j=tt.parentNode}tt=Y}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ef={focusedElem:t,selectionRange:a},Iu=!1,Oe=n;Oe!==null;)if(n=Oe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Oe=t;else for(;Oe!==null;){switch(n=Oe,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ct=la(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ct,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Tt){Kt(a,a.return,Tt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)bf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Oe=t;break}Oe=n.return}return ct=np,np=!1,ct}function ip(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Vi(t,a),l&4&&Al(5,a);break;case 1:if(Vi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(T){Kt(a,a.return,T)}else{var h=la(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Kt(a,a.return,T)}}l&64&&$g(a),l&512&&ca(a,a.return);break;case 3:if(Vi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Xg(l,t)}catch(T){Kt(a,a.return,T)}}break;case 26:Vi(t,a),l&512&&ca(a,a.return);break;case 27:case 5:Vi(t,a),n===null&&l&4&&Wg(a),l&512&&ca(a,a.return);break;case 12:Vi(t,a);break;case 13:Vi(t,a),l&4&&sp(t,a);break;case 22:if(h=a.memoizedState!==null||Ci,!h){n=n!==null&&n.memoizedState!==null||ae;var f=Ci,_=ae;Ci=h,(ae=n)&&!_?gr(t,a,(a.subtreeFlags&8772)!==0):Vi(t,a),Ci=f,ae=_}l&512&&(a.memoizedProps.mode==="manual"?ca(a,a.return):on(a,a.return));break;default:Vi(t,a)}}function rp(t){var n=t.alternate;n!==null&&(t.alternate=null,rp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Br(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ge=null,un=!1;function Di(t,n,a){for(a=a.child;a!==null;)ap(t,n,a),a=a.sibling}function ap(t,n,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Gi,a)}catch{}switch(a.tag){case 26:ae||on(a,n),Di(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ae||on(a,n);var l=ge,h=un;for(ge=a.stateNode,Di(t,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);Br(a),ge=l,un=h;break;case 5:ae||on(a,n);case 6:h=ge;var f=un;if(ge=null,Di(t,n,a),ge=h,un=f,ge!==null)if(un)try{t=ge,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(_){Kt(a,n,_)}else try{ge.removeChild(a.stateNode)}catch(_){Kt(a,n,_)}break;case 18:ge!==null&&(un?(n=ge,a=a.stateNode,n.nodeType===8?Sf(n.parentNode,a):n.nodeType===1&&Sf(n,a),Bl(n)):Sf(ge,a.stateNode));break;case 4:l=ge,h=un,ge=a.stateNode.containerInfo,un=!0,Di(t,n,a),ge=l,un=h;break;case 0:case 11:case 14:case 15:ae||mr(2,a,n),ae||mr(4,a,n),Di(t,n,a);break;case 1:ae||(on(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Zg(a,n,l)),Di(t,n,a);break;case 21:Di(t,n,a);break;case 22:ae||on(a,n),ae=(l=ae)||a.memoizedState!==null,Di(t,n,a),ae=l;break;default:Di(t,n,a)}}function sp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bl(t)}catch(a){Kt(n,n.return,a)}}function EE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ep),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ep),n;default:throw Error(s(435,t.tag))}}function Fh(t,n){var a=EE(t);n.forEach(function(l){var h=xE.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function bn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:case 5:ge=T.stateNode,un=!1;break t;case 3:ge=T.stateNode.containerInfo,un=!0;break t;case 4:ge=T.stateNode.containerInfo,un=!0;break t}T=T.return}if(ge===null)throw Error(s(160));ap(f,_,h),ge=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)lp(n,t),n=n.sibling}var Un=null;function lp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(n,t),Rn(t),l&4&&(mr(3,t,t.return),Al(3,t),mr(5,t,t.return));break;case 1:bn(n,t),Rn(t),l&512&&(ae||a===null||on(a,a.return)),l&64&&Ci&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Un;if(bn(n,t),Rn(t),l&512&&(ae||a===null||on(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Zi]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),ze(f,l,a),f[De]=t,Wt(f),l=f;break t;case"link":var _=Wp("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}f=h.createElement(l),ze(f,l,a),h.head.appendChild(f);break;case"meta":if(_=Wp("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}f=h.createElement(l),ze(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[De]=t,Wt(f),l=f}t.stateNode=l}else Jp(h,t.type,t.stateNode);else t.stateNode=Zp(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Jp(h,t.type,t.stateNode):Zp(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Jg(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,f=t.memoizedProps;try{for(var R=h.firstChild;R;){var M=R.nextSibling,K=R.nodeName;R[Zi]||K==="HEAD"||K==="BODY"||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&R.rel.toLowerCase()==="stylesheet"||h.removeChild(R),R=M}for(var tt=t.type,j=h.attributes;j.length;)h.removeAttributeNode(j[0]);ze(h,tt,f),h[De]=t,h[Te]=f}catch(ct){Kt(t,t.return,ct)}}case 5:if(bn(n,t),Rn(t),l&512&&(ae||a===null||on(a,a.return)),t.flags&32){h=t.stateNode;try{gn(h,"")}catch(ct){Kt(t,t.return,ct)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Jg(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Gh=!0);break;case 6:if(bn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ct){Kt(t,t.return,ct)}}break;case 3:if(Cu=null,h=Un,Un=Ru(n.containerInfo),bn(n,t),Un=h,Rn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Bl(n.containerInfo)}catch(ct){Kt(t,t.return,ct)}Gh&&(Gh=!1,op(t));break;case 4:l=Un,Un=Ru(t.stateNode.containerInfo),bn(n,t),Rn(t),Un=l;break;case 12:bn(n,t),Rn(t);break;case 13:bn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(tf=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Fh(t,l)));break;case 22:if(l&512&&(ae||a===null||on(a,a.return)),R=t.memoizedState!==null,M=a!==null&&a.memoizedState!==null,K=Ci,tt=ae,Ci=K||R,ae=tt||M,bn(n,t),ae=tt,Ci=K,Rn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=R?n._visibility&-2:n._visibility|1,R&&(n=Ci||ae,a===null||M||n||es(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(a=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){M=a=n;try{if(h=M.stateNode,R)f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{_=M.stateNode,T=M.memoizedProps.style;var Y=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ct){Kt(M,M.return,ct)}}}else if(n.tag===6){if(a===null){M=n;try{M.stateNode.nodeValue=R?"":M.memoizedProps}catch(ct){Kt(M,M.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Fh(t,a))));break;case 19:bn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Fh(t,l)));break;case 21:break;default:bn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var a=t.return;a!==null;){if(tp(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,f=qh(t);cu(t,f,h);break;case 5:var _=l.stateNode;l.flags&32&&(gn(_,""),l.flags&=-33);var T=qh(t);cu(t,T,_);break;case 3:case 4:var R=l.stateNode.containerInfo,M=qh(t);Hh(t,M,R);break;default:throw Error(s(161))}}}catch(K){Kt(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function op(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;op(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Vi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ip(t,n.alternate,n),n=n.sibling}function es(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:mr(4,n,n.return),es(n);break;case 1:on(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Zg(n,n.return,a),es(n);break;case 26:case 27:case 5:on(n,n.return),es(n);break;case 22:on(n,n.return),n.memoizedState===null&&es(n);break;default:es(n)}t=t.sibling}}function gr(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:gr(h,f,a),Al(4,f);break;case 1:if(gr(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(M){Kt(l,l.return,M)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Kg(R[h],T)}catch(M){Kt(l,l.return,M)}}a&&_&64&&$g(f),ca(f,f.return);break;case 26:case 27:case 5:gr(h,f,a),a&&l===null&&_&4&&Wg(f),ca(f,f.return);break;case 12:gr(h,f,a);break;case 13:gr(h,f,a),a&&_&4&&sp(h,f);break;case 22:f.memoizedState===null&&gr(h,f,a),ca(f,f.return);break;default:gr(h,f,a)}n=n.sibling}}function Qh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&fl(a))}function Yh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t))}function pr(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)up(t,n,a,l),n=n.sibling}function up(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pr(t,n,a,l),h&2048&&Al(9,n);break;case 3:pr(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t)));break;case 12:if(h&2048){pr(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Kt(n,n.return,R)}}else pr(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?pr(t,n,a,l):Sl(t,n):f._visibility&4?pr(t,n,a,l):(f._visibility|=4,ns(t,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&Qh(n.alternate,n);break;case 24:pr(t,n,a,l),h&2048&&Yh(n.alternate,n);break;default:pr(t,n,a,l)}}function ns(t,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,_=n,T=a,R=l,M=_.flags;switch(_.tag){case 0:case 11:case 15:ns(f,_,T,R,h),Al(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&4?ns(f,_,T,R,h):Sl(f,_):(K._visibility|=4,ns(f,_,T,R,h)),h&&M&2048&&Qh(_.alternate,_);break;case 24:ns(f,_,T,R,h),h&&M&2048&&Yh(_.alternate,_);break;default:ns(f,_,T,R,h)}n=n.sibling}}function Sl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Sl(a,l),h&2048&&Qh(l.alternate,l);break;case 24:Sl(a,l),h&2048&&Yh(l.alternate,l);break;default:Sl(a,l)}n=n.sibling}}var bl=8192;function is(t){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)cp(t),t=t.sibling}function cp(t){switch(t.tag){case 26:is(t),t.flags&bl&&t.memoizedState!==null&&oT(Un,t.memoizedState,t.memoizedProps);break;case 5:is(t);break;case 3:case 4:var n=Un;Un=Ru(t.stateNode.containerInfo),is(t),Un=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=bl,bl=16777216,is(t),bl=n):is(t));break;default:is(t)}}function hp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Rl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Oe=l,dp(l,t)}hp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fp(t),t=t.sibling}function fp(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&mr(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,hu(t)):Rl(t);break;default:Rl(t)}}function hu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Oe=l,dp(l,t)}hp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:mr(8,n,n.return),hu(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,hu(n));break;default:hu(n)}t=t.sibling}}function dp(t,n){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:mr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Oe=l;else t:for(a=t;Oe!==null;){l=Oe;var h=l.sibling,f=l.return;if(rp(l),l===a){Oe=null;break t}if(h!==null){h.return=f,Oe=h;break t}Oe=f}}}function TE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,n,a,l){return new TE(t,n,a,l)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yr(t,n){var a=t.alternate;return a===null?(a=wn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function mp(t,n){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function fu(t,n,a,l,h,f){var _=0;if(l=t,typeof t=="function")Kh(t)&&(_=1);else if(typeof t=="string")_=sT(t,a,Ke.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case p:return ha(a.children,h,f,n);case y:_=8,h|=24;break;case E:return t=wn(12,a,n,h|2),t.elementType=E,t.lanes=f,t;case G:return t=wn(13,a,n,h),t.elementType=G,t.lanes=f,t;case q:return t=wn(19,a,n,h),t.elementType=q,t.lanes=f,t;case J:return gp(a,h,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b:case U:_=10;break t;case V:_=9;break t;case P:_=11;break t;case H:_=14;break t;case Z:_=16,l=null;break t}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=wn(_,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function ha(t,n,a,l){return t=wn(7,t,l,n),t.lanes=a,t}function gp(t,n,a,l){t=wn(22,t,l,n),t.elementType=J,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var _=ar(f,2);_!==null&&(h._pendingVisibility|=2,Je(_,f,2))}},attach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var _=ar(f,2);_!==null&&(h._pendingVisibility&=-3,Je(_,f,2))}}};return t.stateNode=h,t}function Xh(t,n,a){return t=wn(6,t,null,n),t.lanes=a,t}function $h(t,n,a){return n=wn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Ii(t){t.flags|=4}function pp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ty(n)){if(n=Sn.current,n!==null&&((Ut&4194176)===Ut?Zn!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==Zn))throw ul=eh,xm;t.flags|=8192}}function du(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Yi():536870912,t.lanes|=n,as|=n)}function wl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Jt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function AE(t,n,a){var l=n.pendingProps;switch(Jc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(n),null;case 1:return Jt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),wi(Re),ui(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(al(n)?Ii(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Mn!==null&&(af(Mn),Mn=null))),Jt(n),null;case 26:return a=n.memoizedState,t===null?(Ii(n),a!==null?(Jt(n),pp(n,a)):(Jt(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Ii(n),Jt(n),pp(n,a)):(Jt(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ii(n),Jt(n),n.flags&=-16777217),null;case 27:ba(n),a=fn.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}t=Ke.current,al(n)?Nm(n):(t=Qp(h,l,a),n.stateNode=t,Ii(n))}return Jt(n),null;case 5:if(ba(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}if(t=Ke.current,al(n))Nm(n);else{switch(h=bu(fn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[De]=n,t[Te]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(ze(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ii(n)}}return Jt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=fn.current,al(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=We,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[De]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Bp(t.nodeValue,a)),t||ea(n)}else t=bu(t).createTextNode(l),t[De]=n,n.stateNode=t}return Jt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=al(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[De]=n}else sl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Jt(n),h=!1}else Mn!==null&&(af(Mn),Mn=null),h=!0;if(!h)return n.flags&256?(Ai(n),n):(Ai(n),null)}if(Ai(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),du(n,n.updateQueue),Jt(n),null;case 4:return ui(),t===null&&pf(n.stateNode.containerInfo),Jt(n),null;case 10:return wi(n.type),Jt(n),null;case 19:if(ie(be),h=n.memoizedState,h===null)return Jt(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)wl(h,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=$o(t),f!==null){for(n.flags|=128,wl(h,!1),t=f.updateQueue,n.updateQueue=t,du(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)mp(a,t),a=a.sibling;return Ft(be,be.current&1|2),n.child}t=t.sibling}h.tail!==null&&tn()>mu&&(n.flags|=128,l=!0,wl(h,!1),n.lanes=4194304)}else{if(!l)if(t=$o(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,du(n,t),wl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Bt)return Jt(n),null}else 2*tn()-h.renderingStartTime>mu&&a!==536870912&&(n.flags|=128,l=!0,wl(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(t=h.last,t!==null?t.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=tn(),n.sibling=null,t=be.current,Ft(be,l?t&1|2:t&1),n):(Jt(n),null);case 22:case 23:return Ai(n),ih(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Jt(n),n.subtreeFlags&6&&(n.flags|=8192)):Jt(n),a=n.updateQueue,a!==null&&du(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&ie(ia),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),wi(Re),Jt(n),null;case 25:return null}throw Error(s(156,n.tag))}function SE(t,n){switch(Jc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return wi(Re),ui(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ba(n),null;case 13:if(Ai(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));sl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ie(be),null;case 4:return ui(),null;case 10:return wi(n.type),null;case 22:case 23:return Ai(n),ih(),t!==null&&ie(ia),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return wi(Re),null;case 25:return null;default:return null}}function yp(t,n){switch(Jc(n),n.tag){case 3:wi(Re),ui();break;case 26:case 27:case 5:ba(n);break;case 4:ui();break;case 13:Ai(n);break;case 19:ie(be);break;case 10:wi(n.type);break;case 22:case 23:Ai(n),ih(),t!==null&&ie(ia);break;case 24:wi(Re)}}var bE={getCacheForType:function(t){var n=He(Re),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},RE=typeof WeakMap=="function"?WeakMap:Map,te=0,Xt=null,It=null,Ut=0,$t=0,cn=null,Ni=!1,rs=!1,Zh=!1,Oi=0,se=0,vr=0,fa=0,Wh=0,Cn=0,as=0,Cl=null,Jn=null,Jh=!1,tf=0,mu=1/0,gu=null,_r=null,pu=!1,da=null,Dl=0,ef=0,nf=null,Vl=0,rf=null;function hn(){if((te&2)!==0&&Ut!==0)return Ut&-Ut;if(S.T!==null){var t=$a;return t!==0?t:ff()}return Ao()}function vp(){Cn===0&&(Cn=(Ut&536870912)===0||Bt?js():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),Cn}function Je(t,n,a){(t===Xt&&$t===2||t.cancelPendingCommit!==null)&&(ss(t,0),xi(t,Ut,Cn,!1)),oe(t,a),((te&2)===0||t!==Xt)&&(t===Xt&&((te&2)===0&&(fa|=a),se===4&&xi(t,Ut,Cn,!1)),ti(t))}function _p(t,n,a){if((te&6)!==0)throw Error(s(327));var l=!a&&(n&60)===0&&(n&t.expiredLanes)===0||Qi(t,n),h=l?DE(t,n):of(t,n,!0),f=l;do{if(h===0){rs&&!l&&xi(t,n,0,!1);break}else if(h===6)xi(t,n,0,!Ni);else{if(a=t.current.alternate,f&&!wE(a)){h=of(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=t;h=Cl;var R=T.current.memoizedState.isDehydrated;if(R&&(ss(T,_).flags|=256),_=of(T,_,!1),_!==2){if(Zh&&!R){T.errorRecoveryDisabledLanes|=f,fa|=f,h=4;break t}f=Jn,Jn=h,f!==null&&af(f)}h=_}if(f=!1,h!==2)continue}}if(h===1){ss(t,0),xi(t,n,0,!0);break}t:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){xi(l,n,Cn,!Ni);break t}break;case 2:Jn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=n,(n&62914560)===n&&(f=tf+300-tn(),10<f)){if(xi(l,n,Cn,!Ni),dn(l,0)!==0)break t;l.timeoutHandle=Hp(Ep.bind(null,l,a,Jn,gu,Jh,n,Cn,fa,as,Ni,2,-0,0),f);break t}Ep(l,a,Jn,gu,Jh,n,Cn,fa,as,Ni,0,-0,0)}}break}while(!0);ti(t)}function af(t){Jn===null?Jn=t:Jn.push.apply(Jn,t)}function Ep(t,n,a,l,h,f,_,T,R,M,K,tt,j){var Y=n.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(Ul={stylesheets:null,count:0,unsuspend:lT},cp(n),n=uT(),n!==null)){t.cancelPendingCommit=n(Cp.bind(null,t,a,l,h,_,T,R,1,tt,j)),xi(t,f,_,!M);return}Cp(t,a,l,h,_,T,R,K,tt,j)}function wE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!ln(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xi(t,n,a,l){n&=~Wh,n&=~fa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Xe(h),_=1<<f;l[f]=-1,h&=~_}a!==0&&Ki(t,a,n)}function yu(){return(te&6)===0?(Il(0),!1):!0}function sf(){if(It!==null){if($t===0)var t=It.return;else t=It,Ri=oa=null,hh(t),Ka=null,cl=0,t=It;for(;t!==null;)yp(t.alternate,t),t=t.return;It=null}}function ss(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,FE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),sf(),Xt=t,It=a=yr(t.current,null),Ut=n,$t=0,cn=null,Ni=!1,rs=Qi(t,n),Zh=!1,as=Cn=Wh=fa=vr=se=0,Jn=Cl=null,Jh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Xe(l),f=1<<h;n|=t[h],l&=~f}return Oi=n,jo(),a}function Tp(t,n){Ct=null,S.H=Wn,n===ol?(n=Lm(),$t=3):n===xm?(n=Lm(),$t=4):$t=n===Mg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,It===null&&(se=1,lu(t,En(n,t.current)))}function Ap(){var t=S.H;return S.H=Wn,t===null?Wn:t}function Sp(){var t=S.A;return S.A=bE,t}function lf(){se=4,Ni||(Ut&4194176)!==Ut&&Sn.current!==null||(rs=!0),(vr&134217727)===0&&(fa&134217727)===0||Xt===null||xi(Xt,Ut,Cn,!1)}function of(t,n,a){var l=te;te|=2;var h=Ap(),f=Sp();(Xt!==t||Ut!==n)&&(gu=null,ss(t,n)),n=!1;var _=se;t:do try{if($t!==0&&It!==null){var T=It,R=cn;switch($t){case 8:sf(),_=6;break t;case 3:case 2:case 6:Sn.current===null&&(n=!0);var M=$t;if($t=0,cn=null,ls(t,T,R,M),a&&rs){_=0;break t}break;default:M=$t,$t=0,cn=null,ls(t,T,R,M)}}CE(),_=se;break}catch(K){Tp(t,K)}while(!0);return n&&t.shellSuspendCounter++,Ri=oa=null,te=l,S.H=h,S.A=f,It===null&&(Xt=null,Ut=0,jo()),_}function CE(){for(;It!==null;)bp(It)}function DE(t,n){var a=te;te|=2;var l=Ap(),h=Sp();Xt!==t||Ut!==n?(gu=null,mu=tn()+500,ss(t,n)):rs=Qi(t,n);t:do try{if($t!==0&&It!==null){n=It;var f=cn;e:switch($t){case 1:$t=0,cn=null,ls(t,n,f,1);break;case 2:if(Mm(f)){$t=0,cn=null,Rp(n);break}n=function(){$t===2&&Xt===t&&($t=7),ti(t)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Mm(f)?($t=0,cn=null,Rp(n)):($t=0,cn=null,ls(t,n,f,7));break;case 5:var _=null;switch(It.tag){case 26:_=It.memoizedState;case 5:case 27:var T=It;if(!_||ty(_)){$t=0,cn=null;var R=T.sibling;if(R!==null)It=R;else{var M=T.return;M!==null?(It=M,vu(M)):It=null}break e}}$t=0,cn=null,ls(t,n,f,5);break;case 6:$t=0,cn=null,ls(t,n,f,6);break;case 8:sf(),se=6;break t;default:throw Error(s(462))}}VE();break}catch(K){Tp(t,K)}while(!0);return Ri=oa=null,S.H=l,S.A=h,te=a,It!==null?0:(Xt=null,Ut=0,jo(),se)}function VE(){for(;It!==null&&!Uc();)bp(It)}function bp(t){var n=Qg(t.alternate,t,Oi);t.memoizedProps=t.pendingProps,n===null?vu(t):It=n}function Rp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Bg(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Bg(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:hh(n);default:yp(a,n),n=It=mp(n,Oi),n=Qg(a,n,Oi)}t.memoizedProps=t.pendingProps,n===null?vu(t):It=n}function ls(t,n,a,l){Ri=oa=null,hh(n),Ka=null,cl=0;var h=n.return;try{if(yE(t,h,n,a,Ut)){se=1,lu(t,En(a,t.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;se=1,lu(t,En(a,t.current)),It=null;return}n.flags&32768?(Bt||l===1?t=!0:rs||(Ut&536870912)!==0?t=!1:(Ni=t=!0,(l===2||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),wp(n,t)):vu(n)}function vu(t){var n=t;do{if((n.flags&32768)!==0){wp(n,Ni);return}t=n.return;var a=AE(n.alternate,n,Oi);if(a!==null){It=a;return}if(n=n.sibling,n!==null){It=n;return}It=n=t}while(n!==null);se===0&&(se=5)}function wp(t,n){do{var a=SE(t.alternate,t);if(a!==null){a.flags&=32767,It=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){It=t;return}It=t=a}while(t!==null);se=6,It=null}function Cp(t,n,a,l,h,f,_,T,R,M){var K=S.T,tt=st.p;try{st.p=2,S.T=null,IE(t,n,a,l,tt,h,f,_,T,R,M)}finally{S.T=K,st.p=tt}}function IE(t,n,a,l,h,f,_,T){do os();while(da!==null);if((te&6)!==0)throw Error(s(327));var R=t.finishedWork;if(l=t.finishedLanes,R===null)return null;if(t.finishedWork=null,t.finishedLanes=0,R===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var M=R.lanes|R.childLanes;if(M|=$c,Eo(t,l,M,f,_,T),t===Xt&&(It=Xt=null,Ut=0),(R.subtreeFlags&10256)===0&&(R.flags&10256)===0||pu||(pu=!0,ef=M,nf=a,ME(ci,function(){return os(),null})),a=(R.flags&15990)!==0,(R.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,f=st.p,st.p=2,_=te,te|=4,_E(t,R),lp(R,t),tE(Ef,t.containerInfo),Iu=!!_f,Ef=_f=null,t.current=R,ip(t,R.alternate,R),Ps(),te=_,st.p=f,S.T=a):t.current=R,pu?(pu=!1,da=t,Dl=l):Dp(t,M),M=t.pendingLanes,M===0&&(_r=null),ks(R.stateNode),ti(t),n!==null)for(h=t.onRecoverableError,R=0;R<n.length;R++)M=n[R],h(M.value,{componentStack:M.stack});return(Dl&3)!==0&&os(),M=t.pendingLanes,(l&4194218)!==0&&(M&42)!==0?t===rf?Vl++:(Vl=0,rf=t):Vl=0,Il(0),null}function Dp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,fl(n)))}function os(){if(da!==null){var t=da,n=ef;ef=0;var a=To(Dl),l=S.T,h=st.p;try{if(st.p=32>a?32:a,S.T=null,da===null)var f=!1;else{a=nf,nf=null;var _=da,T=Dl;if(da=null,Dl=0,(te&6)!==0)throw Error(s(331));var R=te;if(te|=4,fp(_.current),up(_,_.current,T,a),te=R,Il(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Gi,_)}catch{}f=!0}return f}finally{st.p=h,S.T=l,Dp(t,n)}}return!1}function Vp(t,n,a){n=En(a,n),n=Rh(t.stateNode,n,2),t=dr(t,n,2),t!==null&&(oe(t,2),ti(t))}function Kt(t,n,a){if(t.tag===3)Vp(t,t,a);else for(;n!==null;){if(n.tag===3){Vp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(_r===null||!_r.has(l))){t=En(a,t),a=Og(2),l=dr(n,a,2),l!==null&&(xg(a,l,n,t),oe(l,2),ti(l));break}}n=n.return}}function uf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new RE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Zh=!0,h.add(a),t=NE.bind(null,t,n,a),n.then(t,t))}function NE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Xt===t&&(Ut&a)===a&&(se===4||se===3&&(Ut&62914560)===Ut&&300>tn()-tf?(te&2)===0&&ss(t,0):Wh|=a,as===Ut&&(as=0)),ti(t)}function Ip(t,n){n===0&&(n=Yi()),t=ar(t,n),t!==null&&(oe(t,n),ti(t))}function OE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Ip(t,a)}function xE(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Ip(t,a)}function ME(t,n){return Pr(t,n)}var _u=null,us=null,cf=!1,Eu=!1,hf=!1,ma=0;function ti(t){t!==us&&t.next===null&&(us===null?_u=us=t:us=us.next=t),Eu=!0,cf||(cf=!0,LE(UE))}function Il(t,n){if(!hf&&Eu){hf=!0;do for(var a=!1,l=_u;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Xe(42|t)+1)-1,f&=h&~(_&~T),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,xp(l,f))}else f=Ut,f=dn(l,l===Xt?f:0),(f&3)===0||Qi(l,f)||(a=!0,xp(l,f));l=l.next}while(a);hf=!1}}function UE(){Eu=cf=!1;var t=0;ma!==0&&(GE()&&(t=ma),ma=0);for(var n=tn(),a=null,l=_u;l!==null;){var h=l.next,f=Np(l,n);f===0?(l.next=null,a===null?_u=h:a.next=h,h===null&&(us=a)):(a=l,(t!==0||(f&3)!==0)&&(Eu=!0)),l=h}Il(t)}function Np(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-Xe(f),T=1<<_,R=h[_];R===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Ca(T,n)):R<=n&&(t.expiredLanes|=T),f&=~T}if(n=Xt,a=Ut,a=dn(t,t===n?a:0),l=t.callbackNode,a===0||t===n&&$t===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&wa(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Qi(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&wa(l),To(a)){case 2:case 8:a=Ce;break;case 32:a=ci;break;case 268435456:a=zs;break;default:a=ci}return l=Op.bind(null,t),a=Pr(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&wa(l),t.callbackPriority=2,t.callbackNode=null,2}function Op(t,n){var a=t.callbackNode;if(os()&&t.callbackNode!==a)return null;var l=Ut;return l=dn(t,t===Xt?l:0),l===0?null:(_p(t,l,n),Np(t,tn()),t.callbackNode!=null&&t.callbackNode===a?Op.bind(null,t):null)}function xp(t,n){if(os())return null;_p(t,n,!0)}function LE(t){QE(function(){(te&6)!==0?Pr(Ee,t):t()})}function ff(){return ma===0&&(ma=js()),ma}function Mp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Hn(""+t)}function Up(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function PE(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=Mp((h[Te]||null).action),_=l.submitter;_&&(n=(n=_[Te]||null)?Mp(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var T=new Ma("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ma!==0){var R=_?Up(h,_):new FormData(h);Eh(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=_?Up(h,_):new FormData(h),Eh(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var df=0;df<Cm.length;df++){var mf=Cm[df],zE=mf.toLowerCase(),kE=mf[0].toUpperCase()+mf.slice(1);xn(zE,"on"+kE)}xn(Am,"onAnimationEnd"),xn(Sm,"onAnimationIteration"),xn(bm,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(nE,"onTransitionRun"),xn(iE,"onTransitionStart"),xn(rE,"onTransitionCancel"),xn(Rm,"onTransitionEnd"),en("onMouseEnter",["mouseout","mouseover"]),en("onMouseLeave",["mouseout","mouseover"]),en("onPointerEnter",["pointerout","pointerover"]),en("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function Lp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],R=T.instance,M=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=M;try{f(h)}catch(K){su(K)}h.currentTarget=null,f=R}else for(_=0;_<l.length;_++){if(T=l[_],R=T.instance,M=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=M;try{f(h)}catch(K){su(K)}h.currentTarget=null,f=R}}}}function Ot(t,n){var a=n[kr];a===void 0&&(a=n[kr]=new Set);var l=t+"__bubble";a.has(l)||(Pp(n,t,2,!1),a.add(l))}function gf(t,n,a){var l=0;n&&(l|=4),Pp(a,t,l,n)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function pf(t){if(!t[Tu]){t[Tu]=!0,Hs.forEach(function(a){a!=="selectionchange"&&(BE.has(a)||gf(a,!1,t),gf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Tu]||(n[Tu]=!0,gf("selectionchange",!1,n))}}function Pp(t,n,a,l){switch(sy(n)){case 2:var h=fT;break;case 8:h=dT;break;default:h=Vf}a=h.bind(null,n,a,t),h=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function yf(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=l.return;_!==null;){var R=_.tag;if((R===3||R===4)&&(R=_.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;_=_.return}for(;T!==null;){if(_=On(T),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){l=f=_;continue t}T=T.parentNode}}l=l.return}wo(function(){var M=f,K=xa(a),tt=[];t:{var j=wm.get(t);if(j!==void 0){var Y=Ma,ct=t;switch(t){case"keypress":if(Fn(a)===0)break t;case"keydown":case"keyup":Y=Ba;break;case"focusin":ct="focus",Y=Pa;break;case"focusout":ct="blur",Y=Pa;break;case"beforeblur":case"afterblur":Y=Pa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Mo;break;case Am:case Sm:case bm:Y=za;break;case Rm:Y=Lo;break;case"scroll":case"scrollend":Y=Co;break;case"wheel":Y=ja;break;case"copy":case"cut":case"paste":Y=ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=el;break;case"toggle":case"beforetoggle":Y=zo}var Tt=(n&4)!==0,le=!Tt&&(t==="scroll"||t==="scrollend"),L=Tt?j!==null?j+"Capture":null:j;Tt=[];for(var N=M,B;N!==null;){var X=N;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||L===null||(X=Gr(N,L),X!=null&&Tt.push(Ol(N,X,B))),le)break;N=N.return}0<Tt.length&&(j=new Y(j,ct,null,a,K),tt.push({event:j,listeners:Tt}))}}if((n&7)===0){t:{if(j=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",j&&a!==pn&&(ct=a.relatedTarget||a.fromElement)&&(On(ct)||ct[hi]))break t;if((Y||j)&&(j=K.window===K?K:(j=K.ownerDocument)?j.defaultView||j.parentWindow:window,Y?(ct=a.relatedTarget||a.toElement,Y=M,ct=ct?On(ct):null,ct!==null&&(le=gt(ct),Tt=ct.tag,ct!==le||Tt!==5&&Tt!==27&&Tt!==6)&&(ct=null)):(Y=null,ct=M),Y!==ct)){if(Tt=vn,X="onMouseLeave",L="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(Tt=el,X="onPointerLeave",L="onPointerEnter",N="pointer"),le=Y==null?j:Wi(Y),B=ct==null?j:Wi(ct),j=new Tt(X,N+"leave",Y,a,K),j.target=le,j.relatedTarget=B,X=null,On(K)===M&&(Tt=new Tt(L,N+"enter",ct,a,K),Tt.target=B,Tt.relatedTarget=le,X=Tt),le=X,Y&&ct)e:{for(Tt=Y,L=ct,N=0,B=Tt;B;B=cs(B))N++;for(B=0,X=L;X;X=cs(X))B++;for(;0<N-B;)Tt=cs(Tt),N--;for(;0<B-N;)L=cs(L),B--;for(;N--;){if(Tt===L||L!==null&&Tt===L.alternate)break e;Tt=cs(Tt),L=cs(L)}Tt=null}else Tt=null;Y!==null&&zp(tt,j,Y,Tt,!1),ct!==null&&le!==null&&zp(tt,le,ct,Tt,!0)}}t:{if(j=M?Wi(M):window,Y=j.nodeName&&j.nodeName.toLowerCase(),Y==="select"||Y==="input"&&j.type==="file")var ot=hm;else if(Se(j))if(fm)ot=W0;else{ot=$0;var Vt=X0}else Y=j.nodeName,!Y||Y.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?M&&Ks(M.elementType)&&(ot=hm):ot=Z0;if(ot&&(ot=ot(t,M))){_i(tt,ot,a,K);break t}Vt&&Vt(t,j,M),t==="focusout"&&M&&j.type==="number"&&M.memoizedProps.value!=null&&Oa(j,"number",j.value)}switch(Vt=M?Wi(M):window,t){case"focusin":(Se(Vt)||Vt.contentEditable==="true")&&(qa=Vt,Yc=M,rl=null);break;case"focusout":rl=Yc=qa=null;break;case"mousedown":Kc=!0;break;case"contextmenu":case"mouseup":case"dragend":Kc=!1,Em(tt,a,K);break;case"selectionchange":if(eE)break;case"keydown":case"keyup":Em(tt,a,K)}var dt;if(Kn)t:{switch(t){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else xt?F(t,a)&&(yt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(yt="onCompositionStart");yt&&(v&&a.locale!=="ko"&&(xt||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&xt&&(dt=$s()):(Gn=K,rr="value"in Gn?Gn.value:Gn.textContent,xt=!0)),Vt=Au(M,yt),0<Vt.length&&(yt=new Js(yt,t,null,a,K),tt.push({event:yt,listeners:Vt}),dt?yt.data=dt:(dt=it(a),dt!==null&&(yt.data=dt)))),(dt=g?Ae(t,a):Mt(t,a))&&(yt=Au(M,"onBeforeInput"),0<yt.length&&(Vt=new Js("onBeforeInput","beforeinput",null,a,K),tt.push({event:Vt,listeners:yt}),Vt.data=dt)),PE(tt,t,M,a,K)}Lp(tt,n)})}function Ol(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Au(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gr(t,a),h!=null&&l.unshift(Ol(t,h,f)),h=Gr(t,n),h!=null&&l.push(Ol(t,h,f))),t=t.return}return l}function cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zp(t,n,a,l,h){for(var f=n._reactName,_=[];a!==null&&a!==l;){var T=a,R=T.alternate,M=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||M===null||(R=M,h?(M=Gr(a,f),M!=null&&_.unshift(Ol(a,M,R))):h||(M=Gr(a,f),M!=null&&_.push(Ol(a,M,R)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var jE=/\r\n?/g,qE=/\u0000|\uFFFD/g;function kp(t){return(typeof t=="string"?t:""+t).replace(jE,`
`).replace(qE,"")}function Bp(t,n){return n=kp(n),kp(t)===n}function Su(){}function Yt(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":er(t,"class",l);break;case"tabIndex":er(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":er(t,a,l);break;case"style":Ro(t,l,f);break;case"data":if(n!=="object"){er(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Hn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Yt(t,n,"name",h.name,h,null),Yt(t,n,"formEncType",h.formEncType,h,null),Yt(t,n,"formMethod",h.formMethod,h,null),Yt(t,n,"formTarget",h.formTarget,h,null)):(Yt(t,n,"encType",h.encType,h,null),Yt(t,n,"method",h.method,h,null),Yt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Hn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Su);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Hn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ot("beforetoggle",t),Ot("toggle",t),tr(t,"popover",l);break;case"xlinkActuate":mn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":mn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":mn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":mn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":mn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":mn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":mn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":mn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":mn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":tr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bc.get(a)||a,tr(t,a,l))}}function vf(t,n,a,l,h,f){switch(a){case"style":Ro(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Su);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ia.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Te]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):tr(t,a,l)}}}function ze(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",t),Ot("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,f,_,a,null)}}h&&Yt(t,n,"srcSet",a.srcSet,a,null),l&&Yt(t,n,"src",a.src,a,null);return;case"input":Ot("invalid",t);var T=f=_=h=null,R=null,M=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":_=K;break;case"checked":R=K;break;case"defaultChecked":M=K;break;case"value":f=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:Yt(t,n,l,K,a,null)}}qr(t,f,T,R,M,_,h,!1),jr(t);return;case"select":Ot("invalid",t),l=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Yt(t,n,h,T,a,null)}n=f,a=_,t.multiple=!!l,n!=null?kt(t,!!l,n,!1):a!=null&&kt(t,!!l,a,!0);return;case"textarea":Ot("invalid",t),f=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Yt(t,n,_,T,a,null)}ir(t,l,h,f),jr(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,R,l,a,null)}return;case"dialog":Ot("cancel",t),Ot("close",t);break;case"iframe":case"object":Ot("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Ot(Nl[l],t);break;case"image":Ot("error",t),Ot("load",t);break;case"details":Ot("toggle",t);break;case"embed":case"source":case"link":Ot("error",t),Ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,M,l,a,null)}return;default:if(Ks(n)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&vf(t,n,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Yt(t,n,T,l,a,null))}function HE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,T=null,R=null,M=null,K=null;for(Y in a){var tt=a[Y];if(a.hasOwnProperty(Y)&&tt!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":R=tt;default:l.hasOwnProperty(Y)||Yt(t,n,Y,null,l,tt)}}for(var j in l){var Y=l[j];if(tt=a[j],l.hasOwnProperty(j)&&(Y!=null||tt!=null))switch(j){case"type":f=Y;break;case"name":h=Y;break;case"checked":M=Y;break;case"defaultChecked":K=Y;break;case"value":_=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:Y!==tt&&Yt(t,n,j,Y,l,tt)}}nr(t,_,T,R,M,K,f,h);return;case"select":Y=_=T=j=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":Y=R;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,R)}for(h in l)if(f=l[h],R=a[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==R&&Yt(t,n,h,f,l,R)}n=T,a=_,l=Y,j!=null?kt(t,!!a,j,!1):!!l!=!!a&&(n!=null?kt(t,!!a,n,!0):kt(t,!!a,a?[]:"",!1));return;case"textarea":Y=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(t,n,T,null,l,h)}for(_ in l)if(h=l[_],f=a[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":j=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Yt(t,n,_,h,l,f)}Hr(t,j,Y);return;case"option":for(var ct in a)if(j=a[ct],a.hasOwnProperty(ct)&&j!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":t.selected=!1;break;default:Yt(t,n,ct,null,l,j)}for(R in l)if(j=l[R],Y=a[R],l.hasOwnProperty(R)&&j!==Y&&(j!=null||Y!=null))switch(R){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Yt(t,n,R,j,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)j=a[Tt],a.hasOwnProperty(Tt)&&j!=null&&!l.hasOwnProperty(Tt)&&Yt(t,n,Tt,null,l,j);for(M in l)if(j=l[M],Y=a[M],l.hasOwnProperty(M)&&j!==Y&&(j!=null||Y!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Yt(t,n,M,j,l,Y)}return;default:if(Ks(n)){for(var le in a)j=a[le],a.hasOwnProperty(le)&&j!==void 0&&!l.hasOwnProperty(le)&&vf(t,n,le,void 0,l,j);for(K in l)j=l[K],Y=a[K],!l.hasOwnProperty(K)||j===Y||j===void 0&&Y===void 0||vf(t,n,K,j,l,Y);return}}for(var L in a)j=a[L],a.hasOwnProperty(L)&&j!=null&&!l.hasOwnProperty(L)&&Yt(t,n,L,null,l,j);for(tt in l)j=l[tt],Y=a[tt],!l.hasOwnProperty(tt)||j===Y||j==null&&Y==null||Yt(t,n,tt,j,l,Y)}var _f=null,Ef=null;function bu(t){return t.nodeType===9?t:t.ownerDocument}function jp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Tf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Af=null;function GE(){var t=window.event;return t&&t.type==="popstate"?t===Af?!1:(Af=t,!0):(Af=null,!1)}var Hp=typeof setTimeout=="function"?setTimeout:void 0,FE=typeof clearTimeout=="function"?clearTimeout:void 0,Gp=typeof Promise=="function"?Promise:void 0,QE=typeof queueMicrotask=="function"?queueMicrotask:typeof Gp<"u"?function(t){return Gp.resolve(null).then(t).catch(YE)}:Hp;function YE(t){setTimeout(function(){throw t})}function Sf(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),Bl(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Bl(n)}function bf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bf(a),Br(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function KE(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Zi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function XE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function Ln(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function Fp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Qp(t,n,a){switch(n=bu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Dn=new Map,Yp=new Set;function Ru(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Mi=st.d;st.d={f:$E,r:ZE,D:WE,C:JE,L:tT,m:eT,X:iT,S:nT,M:rT};function $E(){var t=Mi.f(),n=yu();return t||n}function ZE(t){var n=fi(t);n!==null&&n.tag===5&&n.type==="form"?Eg(n):Mi.r(t)}var hs=typeof document>"u"?null:document;function Kp(t,n,a){var l=hs;if(l&&typeof n=="string"&&n){var h=re(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Yp.has(h)||(Yp.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ze(n,"link",t),Wt(n),l.head.appendChild(n)))}}function WE(t){Mi.D(t),Kp("dns-prefetch",t,null)}function JE(t,n){Mi.C(t,n),Kp("preconnect",t,n)}function tT(t,n,a){Mi.L(t,n,a);var l=hs;if(l&&t&&n){var h='link[rel="preload"][as="'+re(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+re(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+re(a.imageSizes)+'"]')):h+='[href="'+re(t)+'"]';var f=h;switch(n){case"style":f=fs(t);break;case"script":f=ds(t)}Dn.has(f)||(t=D({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Dn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(xl(f))||n==="script"&&l.querySelector(Ml(f))||(n=l.createElement("link"),ze(n,"link",t),Wt(n),l.head.appendChild(n)))}}function eT(t,n){Mi.m(t,n);var a=hs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+re(l)+'"][href="'+re(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ds(t)}if(!Dn.has(f)&&(t=D({rel:"modulepreload",href:t},n),Dn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(f)))return}l=a.createElement("link"),ze(l,"link",t),Wt(l),a.head.appendChild(l)}}}function nT(t,n,a){Mi.S(t,n,a);var l=hs;if(l&&t){var h=Ji(l).hoistableStyles,f=fs(t);n=n||"default";var _=h.get(f);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(xl(f)))T.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Dn.get(f))&&Rf(t,a);var R=_=l.createElement("link");Wt(R),ze(R,"link",t),R._p=new Promise(function(M,K){R.onload=M,R.onerror=K}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,wu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(f,_)}}}function iT(t,n){Mi.X(t,n);var a=hs;if(a&&t){var l=Ji(a).hoistableScripts,h=ds(t),f=l.get(h);f||(f=a.querySelector(Ml(h)),f||(t=D({src:t,async:!0},n),(n=Dn.get(h))&&wf(t,n),f=a.createElement("script"),Wt(f),ze(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function rT(t,n){Mi.M(t,n);var a=hs;if(a&&t){var l=Ji(a).hoistableScripts,h=ds(t),f=l.get(h);f||(f=a.querySelector(Ml(h)),f||(t=D({src:t,async:!0,type:"module"},n),(n=Dn.get(h))&&wf(t,n),f=a.createElement("script"),Wt(f),ze(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Xp(t,n,a,l){var h=(h=fn.current)?Ru(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=fs(a.href),a=Ji(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=fs(a.href);var f=Ji(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(xl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Dn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(t,a),f||aT(h,t,a,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ds(a),a=Ji(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function fs(t){return'href="'+re(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function $p(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function aT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",a),Wt(n),t.head.appendChild(n))}function ds(t){return'[src="'+re(t)+'"]'}function Ml(t){return"script[async]"+t}function Zp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+re(a.href)+'"]');if(l)return n.instance=l,Wt(l),l;var h=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Wt(l),ze(l,"style",h),wu(l,a.precedence,t),n.instance=l;case"stylesheet":h=fs(a.href);var f=t.querySelector(xl(h));if(f)return n.state.loading|=4,n.instance=f,Wt(f),f;l=$p(a),(h=Dn.get(h))&&Rf(l,h),f=(t.ownerDocument||t).createElement("link"),Wt(f);var _=f;return _._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),ze(f,"link",l),n.state.loading|=4,wu(f,a.precedence,t),n.instance=f;case"script":return f=ds(a.src),(h=t.querySelector(Ml(f)))?(n.instance=h,Wt(h),h):(l=a,(h=Dn.get(f))&&(l=D({},a),wf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Wt(h),ze(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,wu(l,a.precedence,t));return n.instance}function wu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function wf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Cu=null;function Wp(t,n,a){if(Cu===null){var l=new Map,h=Cu=new Map;h.set(a,l)}else h=Cu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Zi]||f[De]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var T=l.get(_);T?T.push(f):l.set(_,[f])}}return l}function Jp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function sT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ty(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ul=null;function lT(){}function oT(t,n,a){if(Ul===null)throw Error(s(475));var l=Ul;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=fs(a.href),f=t.querySelector(xl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Du.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,Wt(f);return}f=t.ownerDocument||t,a=$p(a),(h=Dn.get(h))&&Rf(a,h),f=f.createElement("link"),Wt(f);var _=f;_._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),ze(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Du.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function uT(){if(Ul===null)throw Error(s(475));var t=Ul;return t.stylesheets&&t.count===0&&Cf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Cf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Du(){if(this.count--,this.count===0){if(this.stylesheets)Cf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vu=null;function Cf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vu=new Map,n.forEach(cT,t),Vu=null,Du.call(t))}function cT(t,n){if(!(n.state.loading&4)){var a=Vu.get(t);if(a)var l=a.get(null);else{a=new Map,Vu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,h),a.set(_,h),this.count++,l=Du.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Ll={$$typeof:U,Provider:null,Consumer:null,_currentValue:Rt,_currentValue2:Rt,_threadCount:0};function hT(t,n,a,l,h,f,_,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.hiddenUpdates=Da(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function ey(t,n,a,l,h,f,_,T,R,M,K,tt){return t=new hT(t,n,a,_,T,R,M,tt),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),t.current=f,f.stateNode=t,n=rh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},zh(f),t}function ny(t){return t?(t=Fa,t):Fa}function iy(t,n,a,l,h,f){h=ny(h),l.context===null?l.context=h:l.pendingContext=h,l=fr(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=dr(t,l,n),a!==null&&(Je(a,t,n),_l(a,t,n))}function ry(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Df(t,n){ry(t,n),(t=t.alternate)&&ry(t,n)}function ay(t){if(t.tag===13){var n=ar(t,67108864);n!==null&&Je(n,t,67108864),Df(t,67108864)}}var Iu=!0;function fT(t,n,a,l){var h=S.T;S.T=null;var f=st.p;try{st.p=2,Vf(t,n,a,l)}finally{st.p=f,S.T=h}}function dT(t,n,a,l){var h=S.T;S.T=null;var f=st.p;try{st.p=8,Vf(t,n,a,l)}finally{st.p=f,S.T=h}}function Vf(t,n,a,l){if(Iu){var h=If(l);if(h===null)yf(t,n,l,Nu,a),ly(t,l);else if(gT(h,t,n,a,l))l.stopPropagation();else if(ly(t,l),n&4&&-1<mT.indexOf(t)){for(;h!==null;){var f=fi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Nn(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var R=1<<31-Xe(_);T.entanglements[1]|=R,_&=~R}ti(f),(te&6)===0&&(mu=tn()+500,Il(0))}}break;case 13:T=ar(f,2),T!==null&&Je(T,f,2),yu(),Df(f,2)}if(f=If(l),f===null&&yf(t,n,l,Nu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else yf(t,n,l,null,a)}}function If(t){return t=xa(t),Nf(t)}var Nu=null;function Nf(t){if(Nu=null,t=On(t),t!==null){var n=gt(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=qt(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Nu=t,null}function sy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(po()){case Ee:return 2;case Ce:return 8;case ci:case yo:return 32;case zs:return 268435456;default:return 32}default:return 32}}var Of=!1,Er=null,Tr=null,Ar=null,Pl=new Map,zl=new Map,Sr=[],mT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ly(t,n){switch(t){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":Pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function kl(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=fi(n),n!==null&&ay(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function gT(t,n,a,l,h){switch(n){case"focusin":return Er=kl(Er,t,n,a,l,h),!0;case"dragenter":return Tr=kl(Tr,t,n,a,l,h),!0;case"mouseover":return Ar=kl(Ar,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Pl.set(f,kl(Pl.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,zl.set(f,kl(zl.get(f)||null,t,n,a,l,h)),!0}return!1}function oy(t){var n=On(t.target);if(n!==null){var a=gt(n);if(a!==null){if(n=a.tag,n===13){if(n=qt(a),n!==null){t.blockedOn=n,$i(t.priority,function(){if(a.tag===13){var l=hn(),h=ar(a,l);h!==null&&Je(h,a,l),Df(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ou(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=If(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);pn=l,a.target.dispatchEvent(l),pn=null}else return n=fi(a),n!==null&&ay(n),t.blockedOn=a,!1;n.shift()}return!0}function uy(t,n,a){Ou(t)&&a.delete(n)}function pT(){Of=!1,Er!==null&&Ou(Er)&&(Er=null),Tr!==null&&Ou(Tr)&&(Tr=null),Ar!==null&&Ou(Ar)&&(Ar=null),Pl.forEach(uy),zl.forEach(uy)}function xu(t,n){t.blockedOn===n&&(t.blockedOn=null,Of||(Of=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pT)))}var Mu=null;function cy(t){Mu!==t&&(Mu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Mu===t&&(Mu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Nf(l||a)===null)continue;break}var f=fi(a);f!==null&&(t.splice(n,3),n-=3,Eh(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Bl(t){function n(R){return xu(R,t)}Er!==null&&xu(Er,t),Tr!==null&&xu(Tr,t),Ar!==null&&xu(Ar,t),Pl.forEach(n),zl.forEach(n);for(var a=0;a<Sr.length;a++){var l=Sr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Sr.length&&(a=Sr[0],a.blockedOn===null);)oy(a),a.blockedOn===null&&Sr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],_=h[Te]||null;if(typeof f=="function")_||cy(a);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Te]||null)T=_.formAction;else if(Nf(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),cy(a)}}}function xf(t){this._internalRoot=t}Uu.prototype.render=xf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=hn();iy(a,l,t,n,null,null)},Uu.prototype.unmount=xf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&os(),iy(t.current,2,null,t,null,null),yu(),n[hi]=null}};function Uu(t){this._internalRoot=t}Uu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ao();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Sr.length&&n!==0&&n<Sr[a].priority;a++);Sr.splice(a,0,t),a===0&&oy(t)}};var hy=e.version;if(hy!=="19.0.0")throw Error(s(527,hy,"19.0.0"));st.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=et(n),t=t!==null?ft(t):null,t=t===null?null:t.stateNode,t};var yT={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:On,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{Gi=Lu.inject(yT),qe=Lu}catch{}}return ql.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=Dg,f=Vg,_=Ig,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=ey(t,1,!1,null,null,a,l,h,f,_,T,null),t[hi]=n.current,pf(t.nodeType===8?t.parentNode:t),new xf(n)},ql.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=Dg,_=Vg,T=Ig,R=null,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(M=a.formState)),n=ey(t,1,!0,n,a??null,l,h,f,_,T,R,M),n.context=ny(null),a=n.current,l=hn(),h=fr(l),h.callback=null,dr(a,h,l),n.current.lanes=l,oe(n,l),ti(n),t[hi]=n.current,pf(t),new Uu(n)},ql.version="19.0.0",ql}var Ty;function DT(){if(Ty)return Lf.exports;Ty=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Lf.exports=CT(),Lf.exports}var VT=DT(),Hl={},Ay;function IT(){if(Ay)return Hl;Ay=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.parse=d,Hl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const V=function(){};return V.prototype=Object.create(null),V})();function d(V,U){const P=new c,G=V.length;if(G<2)return P;const q=(U==null?void 0:U.decode)||E;let H=0;do{const Z=V.indexOf("=",H);if(Z===-1)break;const J=V.indexOf(";",H),mt=J===-1?G:J;if(Z>mt){H=V.lastIndexOf(";",Z-1)+1;continue}const ht=m(V,H,Z),wt=p(V,Z,ht),x=V.slice(ht,wt);if(P[x]===void 0){let w=m(V,Z+1,mt),S=p(V,mt,w);const D=q(V.slice(w,S));P[x]=D}H=mt+1}while(H<G);return P}function m(V,U,P){do{const G=V.charCodeAt(U);if(G!==32&&G!==9)return U}while(++U<P);return P}function p(V,U,P){for(;U>P;){const G=V.charCodeAt(--U);if(G!==32&&G!==9)return U+1}return P}function y(V,U,P){const G=(P==null?void 0:P.encode)||encodeURIComponent;if(!r.test(V))throw new TypeError(`argument name is invalid: ${V}`);const q=G(U);if(!e.test(q))throw new TypeError(`argument val is invalid: ${U}`);let H=V+"="+q;if(!P)return H;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);H+="; Max-Age="+P.maxAge}if(P.domain){if(!i.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);H+="; Domain="+P.domain}if(P.path){if(!s.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);H+="; Path="+P.path}if(P.expires){if(!b(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);H+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(H+="; HttpOnly"),P.secure&&(H+="; Secure"),P.partitioned&&(H+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return H}function E(V){if(V.indexOf("%")===-1)return V;try{return decodeURIComponent(V)}catch{return V}}function b(V){return o.call(V)==="[object Date]"}return Hl}IT();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Sy="popstate";function NT(r={}){function e(s,o){let{pathname:c,search:d,hash:m}=s.location;return $f("",{pathname:c,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:Wl(o)}return xT(e,i,null,r)}function ee(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ri(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OT(){return Math.random().toString(36).substring(2,10)}function by(r,e){return{usr:r.state,key:r.key,idx:e}}function $f(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ds(e):e,state:i,key:e&&e.key||s||OT()}}function Wl({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Ds(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function xT(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,m="POP",p=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function b(){m="POP";let q=E(),H=q==null?null:q-y;y=q,p&&p({action:m,location:G.location,delta:H})}function V(q,H){m="PUSH";let Z=$f(G.location,q,H);y=E()+1;let J=by(Z,y),mt=G.createHref(Z);try{d.pushState(J,"",mt)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;o.location.assign(mt)}c&&p&&p({action:m,location:G.location,delta:1})}function U(q,H){m="REPLACE";let Z=$f(G.location,q,H);y=E();let J=by(Z,y),mt=G.createHref(Z);d.replaceState(J,"",mt),c&&p&&p({action:m,location:G.location,delta:0})}function P(q){let H=o.location.origin!=="null"?o.location.origin:o.location.href,Z=typeof q=="string"?q:Wl(q);return Z=Z.replace(/ $/,"%20"),ee(H,`No window.location.(origin|href) available to create URL for href: ${Z}`),new URL(Z,H)}let G={get action(){return m},get location(){return r(o,d)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Sy,b),p=q,()=>{o.removeEventListener(Sy,b),p=null}},createHref(q){return e(o,q)},createURL:P,encodeLocation(q){let H=P(q);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:V,replace:U,go(q){return d.go(q)}};return G}function jv(r,e,i="/"){return MT(r,e,i,!1)}function MT(r,e,i,s){let o=typeof e=="string"?Ds(e):e,c=zi(o.pathname||"/",i);if(c==null)return null;let d=qv(r);UT(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let y=QT(c);m=GT(d[p],y,s)}return m}function qv(r,e=[],i=[],s=""){let o=(c,d,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(ee(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Li([s,p.relativePath]),E=i.concat(p);c.children&&c.children.length>0&&(ee(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),qv(c.children,e,E,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:qT(y,c.index),routesMeta:E})};return r.forEach((c,d)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))o(c,d);else for(let p of Hv(c.path))o(c,d,p)}),e}function Hv(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=Hv(s.join("/")),m=[];return m.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...d),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function UT(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:HT(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var LT=/^:[\w-]+$/,PT=3,zT=2,kT=1,BT=10,jT=-2,Ry=r=>r==="*";function qT(r,e){let i=r.split("/"),s=i.length;return i.some(Ry)&&(s+=jT),e&&(s+=zT),i.filter(o=>!Ry(o)).reduce((o,c)=>o+(LT.test(c)?PT:c===""?kT:BT),s)}function HT(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function GT(r,e,i=!1){let{routesMeta:s}=r,o={},c="/",d=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",b=Ju({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),V=p.route;if(!b&&y&&i&&!s[s.length-1].route.index&&(b=Ju({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:Li([c,b.pathname]),pathnameBase:$T(Li([c,b.pathnameBase])),route:V}),b.pathnameBase!=="/"&&(c=Li([c,b.pathnameBase]))}return d}function Ju(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=FT(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},V)=>{if(E==="*"){let P=m[V]||"";d=c.slice(0,c.length-P.length).replace(/(.)\/+$/,"$1")}const U=m[V];return b&&!U?y[E]=void 0:y[E]=(U||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:r}}function FT(r,e=!1,i=!0){ri(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function QT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function zi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function YT(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Ds(r):r;return{pathname:i?i.startsWith("/")?i:KT(i,e):e,search:ZT(s),hash:WT(o)}}function KT(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Bf(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XT(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Gv(r){let e=XT(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Fv(r,e,i,s=!1){let o;typeof r=="string"?o=Ds(r):(o={...r},ee(!o.pathname||!o.pathname.includes("?"),Bf("?","pathname","search",o)),ee(!o.pathname||!o.pathname.includes("#"),Bf("#","pathname","hash",o)),ee(!o.search||!o.search.includes("#"),Bf("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,m;if(d==null)m=i;else{let b=e.length-1;if(!s&&d.startsWith("..")){let V=d.split("/");for(;V[0]==="..";)V.shift(),b-=1;o.pathname=V.join("/")}m=b>=0?e[b]:"/"}let p=YT(o,m),y=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Li=r=>r.join("/").replace(/\/\/+/g,"/"),$T=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ZT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,WT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function JT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Qv=["POST","PUT","PATCH","DELETE"];new Set(Qv);var tA=["GET",...Qv];new Set(tA);var Vs=Q.createContext(null);Vs.displayName="DataRouter";var _c=Q.createContext(null);_c.displayName="DataRouterState";var Yv=Q.createContext({isTransitioning:!1});Yv.displayName="ViewTransition";var eA=Q.createContext(new Map);eA.displayName="Fetchers";var nA=Q.createContext(null);nA.displayName="Await";var si=Q.createContext(null);si.displayName="Navigation";var lo=Q.createContext(null);lo.displayName="Location";var li=Q.createContext({outlet:null,matches:[],isDataRoute:!1});li.displayName="Route";var Ad=Q.createContext(null);Ad.displayName="RouteError";function iA(r,{relative:e}={}){ee(oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=Q.useContext(si),{hash:o,pathname:c,search:d}=uo(r,{relative:e}),m=c;return i!=="/"&&(m=c==="/"?i:Li([i,c])),s.createHref({pathname:m,search:d,hash:o})}function oo(){return Q.useContext(lo)!=null}function _a(){return ee(oo(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(lo).location}var Kv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xv(r){Q.useContext(si).static||Q.useLayoutEffect(r)}function Sd(){let{isDataRoute:r}=Q.useContext(li);return r?yA():rA()}function rA(){ee(oo(),"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(Vs),{basename:e,navigator:i}=Q.useContext(si),{matches:s}=Q.useContext(li),{pathname:o}=_a(),c=JSON.stringify(Gv(s)),d=Q.useRef(!1);return Xv(()=>{d.current=!0}),Q.useCallback((p,y={})=>{if(ri(d.current,Kv),!d.current)return;if(typeof p=="number"){i.go(p);return}let E=Fv(p,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Li([e,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[e,i,c,o,r])}Q.createContext(null);function aA(){let{matches:r}=Q.useContext(li),e=r[r.length-1];return e?e.params:{}}function uo(r,{relative:e}={}){let{matches:i}=Q.useContext(li),{pathname:s}=_a(),o=JSON.stringify(Gv(i));return Q.useMemo(()=>Fv(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function sA(r,e){return $v(r,e)}function $v(r,e,i,s){var Z;ee(oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=Q.useContext(si),{matches:d}=Q.useContext(li),m=d[d.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let J=b&&b.path||"";Zv(y,!b||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let V=_a(),U;if(e){let J=typeof e=="string"?Ds(e):e;ee(E==="/"||((Z=J.pathname)==null?void 0:Z.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${J.pathname}" was given in the \`location\` prop.`),U=J}else U=V;let P=U.pathname||"/",G=P;if(E!=="/"){let J=E.replace(/^\//,"").split("/");G="/"+P.replace(/^\//,"").split("/").slice(J.length).join("/")}let q=!c&&i&&i.matches&&i.matches.length>0?i.matches:jv(r,{pathname:G});ri(b||q!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),ri(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=hA(q&&q.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:Li([E,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?E:Li([E,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),d,i,s);return e&&H?Q.createElement(lo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},H):H}function lA(){let r=pA(),e=JT(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:c},"ErrorBoundary")," or"," ",Q.createElement("code",{style:c},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),i?Q.createElement("pre",{style:o},i):null,d)}var oA=Q.createElement(lA,null),uA=class extends Q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Q.createElement(li.Provider,{value:this.props.routeContext},Q.createElement(Ad.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cA({routeContext:r,match:e,children:i}){let s=Q.useContext(Vs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(li.Provider,{value:r},i)}function hA(r,e=[],i=null,s=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let o=r,c=i==null?void 0:i.errors;if(c!=null){let p=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);ee(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,m=-1;if(i)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:b}=i,V=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||V){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let b,V=!1,U=null,P=null;i&&(b=c&&y.route.id?c[y.route.id]:void 0,U=y.route.errorElement||oA,d&&(m<0&&E===0?(Zv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,P=null):m===E&&(V=!0,P=y.route.hydrateFallbackElement||null)));let G=e.concat(o.slice(0,E+1)),q=()=>{let H;return b?H=U:V?H=P:y.route.Component?H=Q.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=p,Q.createElement(cA,{match:y,routeContext:{outlet:p,matches:G,isDataRoute:i!=null},children:H})};return i&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?Q.createElement(uA,{location:i.location,revalidation:i.revalidation,component:U,error:b,children:q(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):q()},null)}function bd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fA(r){let e=Q.useContext(Vs);return ee(e,bd(r)),e}function dA(r){let e=Q.useContext(_c);return ee(e,bd(r)),e}function mA(r){let e=Q.useContext(li);return ee(e,bd(r)),e}function Rd(r){let e=mA(r),i=e.matches[e.matches.length-1];return ee(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function gA(){return Rd("useRouteId")}function pA(){var s;let r=Q.useContext(Ad),e=dA("useRouteError"),i=Rd("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[i]}function yA(){let{router:r}=fA("useNavigate"),e=Rd("useNavigate"),i=Q.useRef(!1);return Xv(()=>{i.current=!0}),Q.useCallback(async(o,c={})=>{ri(i.current,Kv),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var wy={};function Zv(r,e,i){!e&&!wy[r]&&(wy[r]=!0,ri(!1,i))}Q.memo(vA);function vA({routes:r,future:e,state:i}){return $v(r,void 0,i,e)}function Gu(r){ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _A({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){ee(!oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=Ds(i));let{pathname:p="/",search:y="",hash:E="",state:b=null,key:V="default"}=i,U=Q.useMemo(()=>{let P=zi(p,d);return P==null?null:{location:{pathname:P,search:y,hash:E,state:b,key:V},navigationType:s}},[d,p,y,E,b,V,s]);return ri(U!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:Q.createElement(si.Provider,{value:m},Q.createElement(lo.Provider,{children:e,value:U}))}function EA({children:r,location:e}){return sA(Zf(r),e)}function Zf(r,e=[]){let i=[];return Q.Children.forEach(r,(s,o)=>{if(!Q.isValidElement(s))return;let c=[...e,o];if(s.type===Q.Fragment){i.push.apply(i,Zf(s.props.children,c));return}ee(s.type===Gu,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ee(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Zf(s.props.children,c)),i.push(d)}),i}var Fu="get",Qu="application/x-www-form-urlencoded";function Ec(r){return r!=null&&typeof r.tagName=="string"}function TA(r){return Ec(r)&&r.tagName.toLowerCase()==="button"}function AA(r){return Ec(r)&&r.tagName.toLowerCase()==="form"}function SA(r){return Ec(r)&&r.tagName.toLowerCase()==="input"}function bA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function RA(r,e){return r.button===0&&(!e||e==="_self")&&!bA(r)}var Pu=null;function wA(){if(Pu===null)try{new FormData(document.createElement("form"),0),Pu=!1}catch{Pu=!0}return Pu}var CA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jf(r){return r!=null&&!CA.has(r)?(ri(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qu}"`),null):r}function DA(r,e){let i,s,o,c,d;if(AA(r)){let m=r.getAttribute("action");s=m?zi(m,e):null,i=r.getAttribute("method")||Fu,o=jf(r.getAttribute("enctype"))||Qu,c=new FormData(r)}else if(TA(r)||SA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?zi(p,e):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||Fu,o=jf(r.getAttribute("formenctype"))||jf(m.getAttribute("enctype"))||Qu,c=new FormData(m,r),!wA()){let{name:y,type:E,value:b}=r;if(E==="image"){let V=y?`${y}.`:"";c.append(`${V}x`,"0"),c.append(`${V}y`,"0")}else y&&c.append(y,b)}}else{if(Ec(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Fu,s=null,o=Qu,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}function wd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function VA(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function NA(r,e,i){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await VA(c,i);return d.links?d.links():[]}return[]}));return UA(s.flat(1).filter(IA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Cy(r,e,i,s,o,c){let d=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,m=(p,y)=>{var E;return i[y].pathname!==p.pathname||((E=i[y].route.path)==null?void 0:E.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,y)=>d(p,y)||m(p,y)):c==="data"?e.filter((p,y)=>{var b;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(d(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let V=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=i[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof V=="boolean")return V}return!0}):[]}function OA(r,e,{includeHydrateFallback:i}={}){return xA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function xA(r){return[...new Set(r)]}function MA(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function UA(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(MA(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function LA(r,e){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname="_root.data":e&&zi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function Wv(){let r=Q.useContext(Vs);return wd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function PA(){let r=Q.useContext(_c);return wd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Cd=Q.createContext(void 0);Cd.displayName="FrameworkContext";function Jv(){let r=Q.useContext(Cd);return wd(r,"You must render this element inside a <HydratedRouter> element"),r}function zA(r,e){let i=Q.useContext(Cd),[s,o]=Q.useState(!1),[c,d]=Q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,V=Q.useRef(null);Q.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let G=H=>{H.forEach(Z=>{d(Z.isIntersecting)})},q=new IntersectionObserver(G,{threshold:.5});return V.current&&q.observe(V.current),()=>{q.disconnect()}}},[r]),Q.useEffect(()=>{if(s){let G=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(G)}}},[s]);let U=()=>{o(!0)},P=()=>{o(!1),d(!1)};return i?r!=="intent"?[c,V,{}]:[c,V,{onFocus:Gl(m,U),onBlur:Gl(p,P),onMouseEnter:Gl(y,U),onMouseLeave:Gl(E,P),onTouchStart:Gl(b,U)}]:[!1,V,{}]}function Gl(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function kA({page:r,...e}){let{router:i}=Wv(),s=Q.useMemo(()=>jv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?Q.createElement(jA,{page:r,matches:s,...e}):null}function BA(r){let{manifest:e,routeModules:i}=Jv(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let c=!1;return NA(r,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[r,e,i]),s}function jA({page:r,matches:e,...i}){let s=_a(),{manifest:o,routeModules:c}=Jv(),{basename:d}=Wv(),{loaderData:m,matches:p}=PA(),y=Q.useMemo(()=>Cy(r,e,p,o,s,"data"),[r,e,p,o,s]),E=Q.useMemo(()=>Cy(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=Q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let P=new Set,G=!1;if(e.forEach(H=>{var J;let Z=o.routes[H.route.id];!Z||!Z.hasLoader||(!y.some(mt=>mt.route.id===H.route.id)&&H.route.id in m&&((J=c[H.route.id])!=null&&J.shouldRevalidate)||Z.hasClientLoader?G=!0:P.add(H.route.id))}),P.size===0)return[];let q=LA(r,d);return G&&P.size>0&&q.searchParams.set("_routes",e.filter(H=>P.has(H.route.id)).map(H=>H.route.id).join(",")),[q.pathname+q.search]},[d,m,s,o,y,e,r,c]),V=Q.useMemo(()=>OA(E,o),[E,o]),U=BA(E);return Q.createElement(Q.Fragment,null,b.map(P=>Q.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...i})),V.map(P=>Q.createElement("link",{key:P,rel:"modulepreload",href:P,...i})),U.map(({key:P,link:G})=>Q.createElement("link",{key:P,...G})))}function qA(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var t_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{t_&&(window.__reactRouterVersion="7.4.0")}catch{}function HA({basename:r,children:e,window:i}){let s=Q.useRef();s.current==null&&(s.current=NT({window:i,v5Compat:!0}));let o=s.current,[c,d]=Q.useState({action:o.action,location:o.location}),m=Q.useCallback(p=>{Q.startTransition(()=>d(p))},[d]);return Q.useLayoutEffect(()=>o.listen(m),[o,m]),Q.createElement(_A,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var e_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n_=Q.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:m,target:p,to:y,preventScrollReset:E,viewTransition:b,...V},U){let{basename:P}=Q.useContext(si),G=typeof y=="string"&&e_.test(y),q,H=!1;if(typeof y=="string"&&G&&(q=y,t_))try{let S=new URL(window.location.href),D=y.startsWith("//")?new URL(S.protocol+y):new URL(y),O=zi(D.pathname,P);D.origin===S.origin&&O!=null?y=O+D.search+D.hash:H=!0}catch{ri(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=iA(y,{relative:o}),[J,mt,ht]=zA(s,V),wt=YA(y,{replace:d,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b});function x(S){e&&e(S),S.defaultPrevented||wt(S)}let w=Q.createElement("a",{...V,...ht,href:q||Z,onClick:H||c?e:x,ref:qA(U,mt),target:p,"data-discover":!G&&i==="render"?"true":void 0});return J&&!G?Q.createElement(Q.Fragment,null,w,Q.createElement(kA,{page:Z})):w});n_.displayName="Link";var GA=Q.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:m,children:p,...y},E){let b=uo(d,{relative:y.relative}),V=_a(),U=Q.useContext(_c),{navigator:P,basename:G}=Q.useContext(si),q=U!=null&&WA(b)&&m===!0,H=P.encodeLocation?P.encodeLocation(b).pathname:b.pathname,Z=V.pathname,J=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;i||(Z=Z.toLowerCase(),J=J?J.toLowerCase():null,H=H.toLowerCase()),J&&G&&(J=zi(J,G)||J);const mt=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ht=Z===H||!o&&Z.startsWith(H)&&Z.charAt(mt)==="/",wt=J!=null&&(J===H||!o&&J.startsWith(H)&&J.charAt(H.length)==="/"),x={isActive:ht,isPending:wt,isTransitioning:q},w=ht?e:void 0,S;typeof s=="function"?S=s(x):S=[s,ht?"active":null,wt?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let D=typeof c=="function"?c(x):c;return Q.createElement(n_,{...y,"aria-current":w,className:S,ref:E,style:D,to:d,viewTransition:m},typeof p=="function"?p(x):p)});GA.displayName="NavLink";var FA=Q.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=Fu,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:b,...V},U)=>{let P=$A(),G=ZA(m,{relative:y}),q=d.toLowerCase()==="get"?"get":"post",H=typeof m=="string"&&e_.test(m),Z=J=>{if(p&&p(J),J.defaultPrevented)return;J.preventDefault();let mt=J.nativeEvent.submitter,ht=(mt==null?void 0:mt.getAttribute("formmethod"))||d;P(mt||J.currentTarget,{fetcherKey:e,method:ht,navigate:i,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:b})};return Q.createElement("form",{ref:U,method:q,action:G,onSubmit:s?p:Z,...V,"data-discover":!H&&r==="render"?"true":void 0})});FA.displayName="Form";function QA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i_(r){let e=Q.useContext(Vs);return ee(e,QA(r)),e}function YA(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let m=Sd(),p=_a(),y=uo(r,{relative:c});return Q.useCallback(E=>{if(RA(E,e)){E.preventDefault();let b=i!==void 0?i:Wl(p)===Wl(y);m(r,{replace:b,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[p,m,y,i,s,e,r,o,c,d])}var KA=0,XA=()=>`__${String(++KA)}__`;function $A(){let{router:r}=i_("useSubmit"),{basename:e}=Q.useContext(si),i=gA();return Q.useCallback(async(s,o={})=>{let{action:c,method:d,encType:m,formData:p,body:y}=DA(s,e);if(o.navigate===!1){let E=o.fetcherKey||XA();await r.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,i])}function ZA(r,{relative:e}={}){let{basename:i}=Q.useContext(si),s=Q.useContext(li);ee(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...uo(r||".",{relative:e})},d=_a();if(r==null){c.search=d.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Li([i,c.pathname])),Wl(c)}function WA(r,e={}){let i=Q.useContext(Yv);ee(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=i_("useViewTransitionState"),o=uo(r,{relative:e.relative});if(!i.isTransitioning)return!1;let c=zi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=zi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Ju(o.pathname,d)!=null||Ju(o.pathname,c)!=null}new TextEncoder;const Dy=r=>{let e;const i=new Set,s=(y,E)=>{const b=typeof y=="function"?y(e):y;if(!Object.is(b,e)){const V=e;e=E??(typeof b!="object"||b===null)?b:Object.assign({},e,b),i.forEach(U=>U(e,V))}},o=()=>e,m={setState:s,getState:o,getInitialState:()=>p,subscribe:y=>(i.add(y),()=>i.delete(y))},p=e=r(s,o,m);return m},JA=r=>r?Dy(r):Dy,tS=r=>r;function eS(r,e=tS){const i=Ui.useSyncExternalStore(r.subscribe,()=>e(r.getState()),()=>e(r.getInitialState()));return Ui.useDebugValue(i),i}const nS=r=>{const e=JA(r),i=s=>eS(e,s);return Object.assign(i,e),i},iS=r=>nS;function r_(r,e){let i;try{i=r()}catch{return}return{getItem:o=>{var c;const d=p=>p===null?null:JSON.parse(p,void 0),m=(c=i.getItem(o))!=null?c:null;return m instanceof Promise?m.then(d):d(m)},setItem:(o,c)=>i.setItem(o,JSON.stringify(c,void 0)),removeItem:o=>i.removeItem(o)}}const Wf=r=>e=>{try{const i=r(e);return i instanceof Promise?i:{then(s){return Wf(s)(i)},catch(s){return this}}}catch(i){return{then(s){return this},catch(s){return Wf(s)(i)}}}},rS=(r,e)=>(i,s,o)=>{let c={storage:r_(()=>localStorage),partialize:G=>G,version:0,merge:(G,q)=>({...q,...G}),...e},d=!1;const m=new Set,p=new Set;let y=c.storage;if(!y)return r((...G)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),i(...G)},s,o);const E=()=>{const G=c.partialize({...s()});return y.setItem(c.name,{state:G,version:c.version})},b=o.setState;o.setState=(G,q)=>{b(G,q),E()};const V=r((...G)=>{i(...G),E()},s,o);o.getInitialState=()=>V;let U;const P=()=>{var G,q;if(!y)return;d=!1,m.forEach(Z=>{var J;return Z((J=s())!=null?J:V)});const H=((q=c.onRehydrateStorage)==null?void 0:q.call(c,(G=s())!=null?G:V))||void 0;return Wf(y.getItem.bind(y))(c.name).then(Z=>{if(Z)if(typeof Z.version=="number"&&Z.version!==c.version){if(c.migrate){const J=c.migrate(Z.state,Z.version);return J instanceof Promise?J.then(mt=>[!0,mt]):[!0,J]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,Z.state];return[!1,void 0]}).then(Z=>{var J;const[mt,ht]=Z;if(U=c.merge(ht,(J=s())!=null?J:V),i(U,!0),mt)return E()}).then(()=>{H==null||H(U,void 0),U=s(),d=!0,p.forEach(Z=>Z(U))}).catch(Z=>{H==null||H(void 0,Z)})};return o.persist={setOptions:G=>{c={...c,...G},G.storage&&(y=G.storage)},clearStorage:()=>{y==null||y.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>P(),hasHydrated:()=>d,onHydrate:G=>(m.add(G),()=>{m.delete(G)}),onFinishHydration:G=>(p.add(G),()=>{p.delete(G)})},c.skipHydration||P(),U||V},aS=rS,a_=iS()(aS(r=>({brokers:[],total:0,setInitialData:(e,i)=>r({brokers:i,total:e})}),{name:"investment-storage",storage:r_(()=>sessionStorage)}));var s_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Vy=Ui.createContext&&Ui.createContext(s_),sS=["attr","size","title"];function lS(r,e){if(r==null)return{};var i=oS(r,e),s,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);for(o=0;o<c.length;o++)s=c[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(i[s]=r[s])}return i}function oS(r,e){if(r==null)return{};var i={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;i[s]=r[s]}return i}function tc(){return tc=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])}return r},tc.apply(this,arguments)}function Iy(r,e){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),i.push.apply(i,s)}return i}function ec(r){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Iy(Object(i),!0).forEach(function(s){uS(r,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Iy(Object(i)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(i,s))})}return r}function uS(r,e,i){return e=cS(e),e in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i,r}function cS(r){var e=hS(r,"string");return typeof e=="symbol"?e:e+""}function hS(r,e){if(typeof r!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function l_(r){return r&&r.map((e,i)=>Ui.createElement(e.tag,ec({key:i},e.attr),l_(e.child)))}function Dd(r){return e=>Ui.createElement(fS,tc({attr:ec({},r.attr)},e),l_(r.child))}function fS(r){var e=i=>{var{attr:s,size:o,title:c}=r,d=lS(r,sS),m=o||i.size||"1em",p;return i.className&&(p=i.className),r.className&&(p=(p?p+" ":"")+r.className),Ui.createElement("svg",tc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,s,d,{className:p,style:ec(ec({color:r.color||i.color},i.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&Ui.createElement("title",null,c),r.children)};return Vy!==void 0?Ui.createElement(Vy.Consumer,null,i=>e(i)):e(s_)}function dS(r){return Dd({attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18 10h-4v-4c0-1.104-.896-2-2-2s-2 .896-2 2l.071 4h-4.071c-1.104 0-2 .896-2 2s.896 2 2 2l4.071-.071-.071 4.071c0 1.104.896 2 2 2s2-.896 2-2v-4.071l4 .071c1.104 0 2-.896 2-2s-.896-2-2-2z"},child:[]}]})(r)}const mS=[{label:"Dólar Blue",value:"blue"},{label:"Dólar CCL",value:"contadoconliqui"},{label:"Dólar Oficial",value:"oficial"}],gS=[{label:"BTC/USD",value:"btc/usd"},{label:"ETH/USD",value:"eth/usd"},{label:"USDT/USD",value:"usd/usd"},{label:"ARS/BTC",value:"ars/btc"}];function Ny({type:r}){var y;const[e,i]=Q.useState(r==="Cripto"?"btc/usd":"blue"),[s,o]=Q.useState(null),[c,d]=Q.useState(!0),m=r==="Cripto"?gS:mS;Q.useEffect(()=>{p()},[e]);const p=async()=>{d(!0);const b=await(await fetch(`https://dolarapi.com/v1/${r==="Cripto"?"exchanges/monedas":"dolares"}/${e}`,{method:"GET"})).json();o(r==="Cripto"?{compra:b[0].compra,venta:b[0].venta}:{compra:b.compra,venta:b.venta}),d(!1)};return nt.jsxs("div",{className:"bg-white rounded-xl shadow p-4 w-full max-w-sm mx-auto mt-2",children:[nt.jsxs("div",{className:"flex items-center justify-between mb-4",children:[nt.jsxs("div",{className:"flex items-center gap-2",children:[nt.jsx("img",{src:"https://flagcdn.com/w40/us.png",alt:"USA flag",className:"w-5 h-5 rounded"}),nt.jsx("span",{className:"font-semibold text-lg text-gray-700",children:(y=m.find(E=>E.value===e))==null?void 0:y.label})]}),nt.jsx("select",{value:e,onChange:E=>i(E.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 w-fit",children:m.map(E=>nt.jsx("option",{value:E.value,children:E.label},E.value))})]}),c?nt.jsxs("div",{className:"animate-pulse space-y-2",children:[nt.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),nt.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]}):s?nt.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[nt.jsxs("div",{children:[nt.jsx("p",{className:"text-xs",children:"Venta"}),nt.jsxs("p",{className:"text-lg font-bold",children:["$"," ",s.venta.toLocaleString("es-AR",{minimumFractionDigits:2})]})]}),nt.jsxs("div",{className:"border-l px-4",children:[nt.jsx("p",{className:"text-xs",children:"Compra"}),nt.jsxs("p",{className:"text-lg font-bold",children:["$"," ",s.compra.toLocaleString("es-AR",{minimumFractionDigits:2})]})]})]}):nt.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Error al cargar cotización"})]})}function pS({nombre:r,total:e,onClick:i}){return nt.jsxs("div",{onClick:i,className:"bg-white text-gray-800 p-4 rounded-xl shadow-sm flex justify-between items-center cursor-pointer hover:shadow transition",children:[nt.jsxs("div",{children:[nt.jsxs("div",{className:"flex items-center gap-2 font-medium text-base",children:[nt.jsx("span",{className:"text-blue-500",children:"↩"}),nt.jsx("span",{children:r})]}),nt.jsx("div",{className:"text-xs text-gray-500 mt-1",children:r.toUpperCase()})]}),nt.jsxs("div",{className:"text-lg font-bold text-right text-gray-900",children:["$"," ",e.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})}function yS(){const r=Sd(),{total:e,brokers:i}=a_(),[s,o]=Q.useState(!0);return Q.useEffect(()=>{i.length>0&&o(!1)},[i]),nt.jsxs("div",{className:"min-h-screen bg-black text-white p-6 relative",children:[nt.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Inversiones"}),nt.jsxs("p",{className:"text-xl mb-6",children:["Total: $ ",e.toLocaleString()]}),nt.jsxs("div",{className:"border-t border-gray-700 pt-2",children:[nt.jsx(Ny,{type:"Dolar"}),nt.jsx(Ny,{type:"Cripto"}),nt.jsxs("div",{className:"mt-4",children:[nt.jsx("h2",{className:"text-xl font-bold mb-4",children:"Mis Brokers"}),nt.jsx("div",{className:"space-y-3",children:s?Array.from({length:3}).map((c,d)=>nt.jsx("div",{className:"animate-pulse bg-gray-800 h-[72px] rounded-xl"},d)):i.map(c=>nt.jsx(pS,{nombre:c.broker,total:c.total,onClick:()=>r(`/broker/${c.broker.toLowerCase()}`)},c.broker))})]})]}),nt.jsx("div",{onClick:()=>r("/add"),className:`fixed h-12 w-12 bottom-6 right-6 bg-gradient-to-r from-blue-500 
          to-purple-500 text-white font-bold text-xl hover:shadow-lg rounded-full flex items-center justify-center
          hover:scale-110`,children:nt.jsx(dS,{})})]})}const vS=()=>{};var Oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},_S=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],m=r[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},u_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,m=d?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=c>>2,b=(c&3)<<4|m>>4;let V=(m&15)<<2|y>>6,U=y&63;p||(U=64,d||(V=64)),s.push(i[E],i[b],i[V],i[U])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(o_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):_S(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],m=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const b=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||m==null||y==null||b==null)throw new ES;const V=c<<2|m>>4;if(s.push(V),y!==64){const U=m<<4&240|y>>2;if(s.push(U),b!==64){const P=y<<6&192|b;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ES extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TS=function(r){const e=o_(r);return u_.encodeByteArray(e,!0)},nc=function(r){return TS(r).replace(/\./g,"")},AS=function(r){try{return u_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=()=>SS().__FIREBASE_DEFAULTS__,RS=()=>{if(typeof process>"u"||typeof Oy>"u")return;const r=Oy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},wS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&AS(r[1]);return e&&JSON.parse(e)},Vd=()=>{try{return vS()||bS()||RS()||wS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},CS=r=>{var e,i;return(i=(e=Vd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},DS=r=>{const e=CS(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},c_=()=>{var r;return(r=Vd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[nc(JSON.stringify(i)),nc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OS(){var r;const e=(r=Vd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xS(){return!OS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MS(){try{return typeof indexedDB=="object"}catch{return!1}}function US(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="FirebaseError";class Is extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=LS,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,h_.prototype.create)}}class h_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?PS(c,s):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Is(o,m,s)}}function PS(r,e){return r.replace(zS,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const zS=/\{\$([^}]+)}/g;function ic(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],d=e[o];if(xy(c)&&xy(d)){if(!ic(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function xy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(r){return r&&r._delegate?r._delegate:r}class Jl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new VS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jS(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:BS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BS(r){return r===ga?void 0:r}function jS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new kS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const HS={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},GS=Pt.INFO,FS={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},QS=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=FS[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class f_{constructor(e){this.name=e,this._logLevel=GS,this._logHandler=QS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const YS=(r,e)=>e.some(i=>r instanceof i);let My,Uy;function KS(){return My||(My=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XS(){return Uy||(Uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d_=new WeakMap,Jf=new WeakMap,m_=new WeakMap,qf=new WeakMap,Id=new WeakMap;function $S(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(wr(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&d_.set(i,r)}).catch(()=>{}),Id.set(e,r),e}function ZS(r){if(Jf.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Jf.set(r,e)}let td={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Jf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||m_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return wr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function WS(r){td=r(td)}function JS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Hf(this),e,...i);return m_.set(s,e.sort?e.sort():[e]),wr(s)}:XS().includes(r)?function(...e){return r.apply(Hf(this),e),wr(d_.get(this))}:function(...e){return wr(r.apply(Hf(this),e))}}function tb(r){return typeof r=="function"?JS(r):(r instanceof IDBTransaction&&ZS(r),YS(r,KS())?new Proxy(r,td):r)}function wr(r){if(r instanceof IDBRequest)return $S(r);if(qf.has(r))return qf.get(r);const e=tb(r);return e!==r&&(qf.set(r,e),Id.set(e,r)),e}const Hf=r=>Id.get(r);function eb(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),m=wr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(wr(d.result),p.oldVersion,p.newVersion,wr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const nb=["get","getKey","getAll","getAllKeys","count"],ib=["put","add","delete","clear"],Gf=new Map;function Ly(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Gf.get(e))return Gf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=ib.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||nb.includes(i)))return;const c=async function(d,...m){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),o&&p.done]))[0]};return Gf.set(e,c),c}WS(r=>({...r,get:(e,i,s)=>Ly(e,i)||r.get(e,i,s),has:(e,i)=>!!Ly(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ab(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function ab(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ed="@firebase/app",Py="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new f_("@firebase/app"),sb="@firebase/app-compat",lb="@firebase/analytics-compat",ob="@firebase/analytics",ub="@firebase/app-check-compat",cb="@firebase/app-check",hb="@firebase/auth",fb="@firebase/auth-compat",db="@firebase/database",mb="@firebase/data-connect",gb="@firebase/database-compat",pb="@firebase/functions",yb="@firebase/functions-compat",vb="@firebase/installations",_b="@firebase/installations-compat",Eb="@firebase/messaging",Tb="@firebase/messaging-compat",Ab="@firebase/performance",Sb="@firebase/performance-compat",bb="@firebase/remote-config",Rb="@firebase/remote-config-compat",wb="@firebase/storage",Cb="@firebase/storage-compat",Db="@firebase/firestore",Vb="@firebase/vertexai",Ib="@firebase/firestore-compat",Nb="firebase",Ob="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="[DEFAULT]",xb={[ed]:"fire-core",[sb]:"fire-core-compat",[ob]:"fire-analytics",[lb]:"fire-analytics-compat",[cb]:"fire-app-check",[ub]:"fire-app-check-compat",[hb]:"fire-auth",[fb]:"fire-auth-compat",[db]:"fire-rtdb",[mb]:"fire-data-connect",[gb]:"fire-rtdb-compat",[pb]:"fire-fn",[yb]:"fire-fn-compat",[vb]:"fire-iid",[_b]:"fire-iid-compat",[Eb]:"fire-fcm",[Tb]:"fire-fcm-compat",[Ab]:"fire-perf",[Sb]:"fire-perf-compat",[bb]:"fire-rc",[Rb]:"fire-rc-compat",[wb]:"fire-gcs",[Cb]:"fire-gcs-compat",[Db]:"fire-fst",[Ib]:"fire-fst-compat",[Vb]:"fire-vertex","fire-js":"fire-js",[Nb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new Map,Mb=new Map,id=new Map;function zy(r,e){try{r.container.addComponent(e)}catch(i){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function ac(r){const e=r.name;if(id.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;id.set(e,r);for(const i of rc.values())zy(i,r);for(const i of Mb.values())zy(i,r);return!0}function Ub(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Lb(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new h_("app","Firebase",Pb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Jl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=Ob;function g_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:nd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Cr.create("bad-app-name",{appName:String(o)});if(i||(i=c_()),!i)throw Cr.create("no-options");const c=rc.get(o);if(c){if(ic(i,c.options)&&ic(s,c.config))return c;throw Cr.create("duplicate-app",{appName:o})}const d=new qS(o);for(const p of id.values())d.addComponent(p);const m=new zb(i,s,d);return rc.set(o,m),m}function Bb(r=nd){const e=rc.get(r);if(!e&&r===nd&&c_())return g_();if(!e)throw Cr.create("no-app",{appName:r});return e}function vs(r,e,i){var s;let o=(s=xb[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const m=[`Unable to register library "${o}" with version "${e}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(m.join(" "));return}ac(new Jl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="firebase-heartbeat-database",qb=1,to="firebase-heartbeat-store";let Ff=null;function p_(){return Ff||(Ff=eb(jb,qb,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(to)}catch(i){console.warn(i)}}}}).catch(r=>{throw Cr.create("idb-open",{originalErrorMessage:r.message})})),Ff}async function Hb(r){try{const i=(await p_()).transaction(to),s=await i.objectStore(to).get(y_(r));return await i.done,s}catch(e){if(e instanceof Is)ki.warn(e.message);else{const i=Cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ki.warn(i.message)}}}async function ky(r,e){try{const s=(await p_()).transaction(to,"readwrite");await s.objectStore(to).put(e,y_(r)),await s.done}catch(i){if(i instanceof Is)ki.warn(i.message);else{const s=Cr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ki.warn(s.message)}}}function y_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=1024,Fb=30;class Qb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Kb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=By();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>Fb){const d=Xb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ki.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=By(),{heartbeatsToSend:s,unsentEntries:o}=Yb(this._heartbeatsCache.heartbeats),c=nc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return ki.warn(i),""}}}function By(){return new Date().toISOString().substring(0,10)}function Yb(r,e=Gb){const i=[];let s=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),jy(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),jy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Kb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MS()?US().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Hb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return ky(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return ky(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function jy(r){return nc(JSON.stringify({version:2,heartbeats:r})).length}function Xb(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(r){ac(new Jl("platform-logger",e=>new rb(e),"PRIVATE")),ac(new Jl("heartbeat",e=>new Qb(e),"PRIVATE")),vs(ed,Py,r),vs(ed,Py,"esm2017"),vs("fire-js","")}$b("");var Zb="firebase",Wb="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(Zb,Wb,"app");var qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dr,v_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,w){function S(){}S.prototype=w.prototype,x.D=w.prototype,x.prototype=new S,x.prototype.constructor=x,x.C=function(D,O,k){for(var C=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)C[_e-2]=arguments[_e];return w.prototype[O].apply(D,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,w,S){S||(S=0);var D=Array(16);if(typeof w=="string")for(var O=0;16>O;++O)D[O]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(O=0;16>O;++O)D[O]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=x.g[0],S=x.g[1],O=x.g[2];var k=x.g[3],C=w+(k^S&(O^k))+D[0]+3614090360&4294967295;w=S+(C<<7&4294967295|C>>>25),C=k+(O^w&(S^O))+D[1]+3905402710&4294967295,k=w+(C<<12&4294967295|C>>>20),C=O+(S^k&(w^S))+D[2]+606105819&4294967295,O=k+(C<<17&4294967295|C>>>15),C=S+(w^O&(k^w))+D[3]+3250441966&4294967295,S=O+(C<<22&4294967295|C>>>10),C=w+(k^S&(O^k))+D[4]+4118548399&4294967295,w=S+(C<<7&4294967295|C>>>25),C=k+(O^w&(S^O))+D[5]+1200080426&4294967295,k=w+(C<<12&4294967295|C>>>20),C=O+(S^k&(w^S))+D[6]+2821735955&4294967295,O=k+(C<<17&4294967295|C>>>15),C=S+(w^O&(k^w))+D[7]+4249261313&4294967295,S=O+(C<<22&4294967295|C>>>10),C=w+(k^S&(O^k))+D[8]+1770035416&4294967295,w=S+(C<<7&4294967295|C>>>25),C=k+(O^w&(S^O))+D[9]+2336552879&4294967295,k=w+(C<<12&4294967295|C>>>20),C=O+(S^k&(w^S))+D[10]+4294925233&4294967295,O=k+(C<<17&4294967295|C>>>15),C=S+(w^O&(k^w))+D[11]+2304563134&4294967295,S=O+(C<<22&4294967295|C>>>10),C=w+(k^S&(O^k))+D[12]+1804603682&4294967295,w=S+(C<<7&4294967295|C>>>25),C=k+(O^w&(S^O))+D[13]+4254626195&4294967295,k=w+(C<<12&4294967295|C>>>20),C=O+(S^k&(w^S))+D[14]+2792965006&4294967295,O=k+(C<<17&4294967295|C>>>15),C=S+(w^O&(k^w))+D[15]+1236535329&4294967295,S=O+(C<<22&4294967295|C>>>10),C=w+(O^k&(S^O))+D[1]+4129170786&4294967295,w=S+(C<<5&4294967295|C>>>27),C=k+(S^O&(w^S))+D[6]+3225465664&4294967295,k=w+(C<<9&4294967295|C>>>23),C=O+(w^S&(k^w))+D[11]+643717713&4294967295,O=k+(C<<14&4294967295|C>>>18),C=S+(k^w&(O^k))+D[0]+3921069994&4294967295,S=O+(C<<20&4294967295|C>>>12),C=w+(O^k&(S^O))+D[5]+3593408605&4294967295,w=S+(C<<5&4294967295|C>>>27),C=k+(S^O&(w^S))+D[10]+38016083&4294967295,k=w+(C<<9&4294967295|C>>>23),C=O+(w^S&(k^w))+D[15]+3634488961&4294967295,O=k+(C<<14&4294967295|C>>>18),C=S+(k^w&(O^k))+D[4]+3889429448&4294967295,S=O+(C<<20&4294967295|C>>>12),C=w+(O^k&(S^O))+D[9]+568446438&4294967295,w=S+(C<<5&4294967295|C>>>27),C=k+(S^O&(w^S))+D[14]+3275163606&4294967295,k=w+(C<<9&4294967295|C>>>23),C=O+(w^S&(k^w))+D[3]+4107603335&4294967295,O=k+(C<<14&4294967295|C>>>18),C=S+(k^w&(O^k))+D[8]+1163531501&4294967295,S=O+(C<<20&4294967295|C>>>12),C=w+(O^k&(S^O))+D[13]+2850285829&4294967295,w=S+(C<<5&4294967295|C>>>27),C=k+(S^O&(w^S))+D[2]+4243563512&4294967295,k=w+(C<<9&4294967295|C>>>23),C=O+(w^S&(k^w))+D[7]+1735328473&4294967295,O=k+(C<<14&4294967295|C>>>18),C=S+(k^w&(O^k))+D[12]+2368359562&4294967295,S=O+(C<<20&4294967295|C>>>12),C=w+(S^O^k)+D[5]+4294588738&4294967295,w=S+(C<<4&4294967295|C>>>28),C=k+(w^S^O)+D[8]+2272392833&4294967295,k=w+(C<<11&4294967295|C>>>21),C=O+(k^w^S)+D[11]+1839030562&4294967295,O=k+(C<<16&4294967295|C>>>16),C=S+(O^k^w)+D[14]+4259657740&4294967295,S=O+(C<<23&4294967295|C>>>9),C=w+(S^O^k)+D[1]+2763975236&4294967295,w=S+(C<<4&4294967295|C>>>28),C=k+(w^S^O)+D[4]+1272893353&4294967295,k=w+(C<<11&4294967295|C>>>21),C=O+(k^w^S)+D[7]+4139469664&4294967295,O=k+(C<<16&4294967295|C>>>16),C=S+(O^k^w)+D[10]+3200236656&4294967295,S=O+(C<<23&4294967295|C>>>9),C=w+(S^O^k)+D[13]+681279174&4294967295,w=S+(C<<4&4294967295|C>>>28),C=k+(w^S^O)+D[0]+3936430074&4294967295,k=w+(C<<11&4294967295|C>>>21),C=O+(k^w^S)+D[3]+3572445317&4294967295,O=k+(C<<16&4294967295|C>>>16),C=S+(O^k^w)+D[6]+76029189&4294967295,S=O+(C<<23&4294967295|C>>>9),C=w+(S^O^k)+D[9]+3654602809&4294967295,w=S+(C<<4&4294967295|C>>>28),C=k+(w^S^O)+D[12]+3873151461&4294967295,k=w+(C<<11&4294967295|C>>>21),C=O+(k^w^S)+D[15]+530742520&4294967295,O=k+(C<<16&4294967295|C>>>16),C=S+(O^k^w)+D[2]+3299628645&4294967295,S=O+(C<<23&4294967295|C>>>9),C=w+(O^(S|~k))+D[0]+4096336452&4294967295,w=S+(C<<6&4294967295|C>>>26),C=k+(S^(w|~O))+D[7]+1126891415&4294967295,k=w+(C<<10&4294967295|C>>>22),C=O+(w^(k|~S))+D[14]+2878612391&4294967295,O=k+(C<<15&4294967295|C>>>17),C=S+(k^(O|~w))+D[5]+4237533241&4294967295,S=O+(C<<21&4294967295|C>>>11),C=w+(O^(S|~k))+D[12]+1700485571&4294967295,w=S+(C<<6&4294967295|C>>>26),C=k+(S^(w|~O))+D[3]+2399980690&4294967295,k=w+(C<<10&4294967295|C>>>22),C=O+(w^(k|~S))+D[10]+4293915773&4294967295,O=k+(C<<15&4294967295|C>>>17),C=S+(k^(O|~w))+D[1]+2240044497&4294967295,S=O+(C<<21&4294967295|C>>>11),C=w+(O^(S|~k))+D[8]+1873313359&4294967295,w=S+(C<<6&4294967295|C>>>26),C=k+(S^(w|~O))+D[15]+4264355552&4294967295,k=w+(C<<10&4294967295|C>>>22),C=O+(w^(k|~S))+D[6]+2734768916&4294967295,O=k+(C<<15&4294967295|C>>>17),C=S+(k^(O|~w))+D[13]+1309151649&4294967295,S=O+(C<<21&4294967295|C>>>11),C=w+(O^(S|~k))+D[4]+4149444226&4294967295,w=S+(C<<6&4294967295|C>>>26),C=k+(S^(w|~O))+D[11]+3174756917&4294967295,k=w+(C<<10&4294967295|C>>>22),C=O+(w^(k|~S))+D[2]+718787259&4294967295,O=k+(C<<15&4294967295|C>>>17),C=S+(k^(O|~w))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+k&4294967295}s.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var S=w-this.blockSize,D=this.B,O=this.h,k=0;k<w;){if(O==0)for(;k<=S;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<w;)if(D[O++]=x.charCodeAt(k++),O==this.blockSize){o(this,D),O=0;break}}else for(;k<w;)if(D[O++]=x[k++],O==this.blockSize){o(this,D),O=0;break}}this.h=O,this.o+=w},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var S=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=S&255,S/=256;for(this.u(x),x=Array(16),w=S=0;4>w;++w)for(var D=0;32>D;D+=8)x[S++]=this.g[w]>>>D&255;return x};function c(x,w){var S=m;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=w(x)}function d(x,w){this.h=w;for(var S=[],D=!0,O=x.length-1;0<=O;O--){var k=x[O]|0;D&&k==w||(S[O]=k,D=!1)}this.g=S}var m={};function p(x){return-128<=x&&128>x?c(x,function(w){return new d([w|0],0>w?-1:0)}):new d([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return b;if(0>x)return q(y(-x));for(var w=[],S=1,D=0;x>=S;D++)w[D]=x/S|0,S*=4294967296;return new d(w,0)}function E(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return q(E(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(w,8)),D=b,O=0;O<x.length;O+=8){var k=Math.min(8,x.length-O),C=parseInt(x.substring(O,O+k),w);8>k?(k=y(Math.pow(w,k)),D=D.j(k).add(y(C))):(D=D.j(S),D=D.add(y(C)))}return D}var b=p(0),V=p(1),U=p(16777216);r=d.prototype,r.m=function(){if(G(this))return-q(this).m();for(var x=0,w=1,S=0;S<this.g.length;S++){var D=this.i(S);x+=(0<=D?D:4294967296+D)*w,w*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P(this))return"0";if(G(this))return"-"+q(this).toString(x);for(var w=y(Math.pow(x,6)),S=this,D="";;){var O=mt(S,w).g;S=H(S,O.j(w));var k=((0<S.g.length?S.g[0]:S.h)>>>0).toString(x);if(S=O,P(S))return k+D;for(;6>k.length;)k="0"+k;D=k+D}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function P(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function G(x){return x.h==-1}r.l=function(x){return x=H(this,x),G(x)?-1:P(x)?0:1};function q(x){for(var w=x.g.length,S=[],D=0;D<w;D++)S[D]=~x.g[D];return new d(S,~x.h).add(V)}r.abs=function(){return G(this)?q(this):this},r.add=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],D=0,O=0;O<=w;O++){var k=D+(this.i(O)&65535)+(x.i(O)&65535),C=(k>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);D=C>>>16,k&=65535,C&=65535,S[O]=C<<16|k}return new d(S,S[S.length-1]&-2147483648?-1:0)};function H(x,w){return x.add(q(w))}r.j=function(x){if(P(this)||P(x))return b;if(G(this))return G(x)?q(this).j(q(x)):q(q(this).j(x));if(G(x))return q(this.j(q(x)));if(0>this.l(U)&&0>x.l(U))return y(this.m()*x.m());for(var w=this.g.length+x.g.length,S=[],D=0;D<2*w;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var O=0;O<x.g.length;O++){var k=this.i(D)>>>16,C=this.i(D)&65535,_e=x.i(O)>>>16,he=x.i(O)&65535;S[2*D+2*O]+=C*he,Z(S,2*D+2*O),S[2*D+2*O+1]+=k*he,Z(S,2*D+2*O+1),S[2*D+2*O+1]+=C*_e,Z(S,2*D+2*O+1),S[2*D+2*O+2]+=k*_e,Z(S,2*D+2*O+2)}for(D=0;D<w;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=w;D<2*w;D++)S[D]=0;return new d(S,0)};function Z(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function J(x,w){this.g=x,this.h=w}function mt(x,w){if(P(w))throw Error("division by zero");if(P(x))return new J(b,b);if(G(x))return w=mt(q(x),w),new J(q(w.g),q(w.h));if(G(w))return w=mt(x,q(w)),new J(q(w.g),w.h);if(30<x.g.length){if(G(x)||G(w))throw Error("slowDivide_ only works with positive integers.");for(var S=V,D=w;0>=D.l(x);)S=ht(S),D=ht(D);var O=wt(S,1),k=wt(D,1);for(D=wt(D,2),S=wt(S,2);!P(D);){var C=k.add(D);0>=C.l(x)&&(O=O.add(S),k=C),D=wt(D,1),S=wt(S,1)}return w=H(x,O.j(w)),new J(O,w)}for(O=b;0<=x.l(w);){for(S=Math.max(1,Math.floor(x.m()/w.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),k=y(S),C=k.j(w);G(C)||0<C.l(x);)S-=D,k=y(S),C=k.j(w);P(k)&&(k=V),O=O.add(k),x=H(x,C)}return new J(O,x)}r.A=function(x){return mt(this,x).h},r.and=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],D=0;D<w;D++)S[D]=this.i(D)&x.i(D);return new d(S,this.h&x.h)},r.or=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],D=0;D<w;D++)S[D]=this.i(D)|x.i(D);return new d(S,this.h|x.h)},r.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],D=0;D<w;D++)S[D]=this.i(D)^x.i(D);return new d(S,this.h^x.h)};function ht(x){for(var w=x.g.length+1,S=[],D=0;D<w;D++)S[D]=x.i(D)<<1|x.i(D-1)>>>31;return new d(S,x.h)}function wt(x,w){var S=w>>5;w%=32;for(var D=x.g.length-S,O=[],k=0;k<D;k++)O[k]=0<w?x.i(k+S)>>>w|x.i(k+S+1)<<32-w:x.i(k+S);return new d(O,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,v_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Dr=d}).apply(typeof qy<"u"?qy:typeof self<"u"?self:typeof window<"u"?window:{});var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var __,Fl,E_,Yu,rd,T_,A_,S_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,v){return u==Array.prototype||u==Object.prototype||(u[g]=v.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zu=="object"&&zu];for(var g=0;g<u.length;++g){var v=u[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function o(u,g){if(g)t:{var v=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var z=u[A];if(!(z in v))break t;v=v[z]}u=u[u.length-1],A=v[u],g=g(A),g!=A&&g!=null&&e(v,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var v=0,A=!1,z={next:function(){if(!A&&v<u.length){var F=v++;return{value:g(F,u[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return c(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function E(u,g,v){return u.call.apply(u.bind,arguments)}function b(u,g,v){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),u.apply(g,z)}}return function(){return u.apply(g,arguments)}}function V(u,g,v){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,V.apply(null,arguments)}function U(u,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function P(u,g){function v(){}v.prototype=g.prototype,u.aa=g.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(A,z,F){for(var it=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)it[xt-2]=arguments[xt];return g.prototype[z].apply(A,it)}}function G(u){const g=u.length;if(0<g){const v=Array(g);for(let A=0;A<g;A++)v[A]=u[A];return v}return[]}function q(u,g){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const z=u.length||0,F=A.length||0;u.length=z+F;for(let it=0;it<F;it++)u[z+it]=A[it]}else u.push(A)}}class H{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Z(u){return/^[\s\xa0]*$/.test(u)}function J(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function mt(u){return mt[" "](u),u}mt[" "]=function(){};var ht=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function wt(u,g,v){for(const A in u)g.call(v,u[A],A,u)}function x(u,g){for(const v in u)g.call(void 0,u[v],v,u)}function w(u){const g={};for(const v in u)g[v]=u[v];return g}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,g){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)u[v]=A[v];for(let F=0;F<S.length;F++)v=S[F],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function O(u){var g=1;u=u.split(":");const v=[];for(;0<g&&u.length;)v.push(u.shift()),g--;return u.length&&v.push(u.join(":")),v}function k(u){m.setTimeout(()=>{throw u},0)}function C(){var u=qt;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class _e{constructor(){this.h=this.g=null}add(g,v){const A=he.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var he=new H(()=>new rt,u=>u.reset());class rt{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let vt,gt=!1,qt=new _e,I=()=>{const u=m.Promise.resolve(void 0);vt=()=>{u.then(et)}};var et=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(v){k(v)}var g=he;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}gt=!1};function ft(){this.s=this.s,this.C=this.C}ft.prototype.s=!1,ft.prototype.ma=function(){this.s||(this.s=!0,this.N())},ft.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var st=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return u}();function Rt(u,g){if(at.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ht){t:{try{mt(g.nodeName);var z=!0;break t}catch{}z=!1}z||(g=null)}}else v=="mouseover"?g=u.fromElement:v=="mouseout"&&(g=u.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:St[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}P(Rt,at);var St={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),zt=0;function ie(u,g,v,A,z){this.listener=u,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=z,this.key=++zt,this.da=this.fa=!1}function Ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ke(u){this.src=u,this.g={},this.h=0}Ke.prototype.add=function(u,g,v,A,z){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var it=fn(u,g,A,z);return-1<it?(g=u[it],v||(g.fa=!1)):(g=new ie(g,this.src,F,!!A,z),g.fa=v,u.push(g)),g};function oi(u,g){var v=g.type;if(v in u.g){var A=u.g[v],z=Array.prototype.indexOf.call(A,g,void 0),F;(F=0<=z)&&Array.prototype.splice.call(A,z,1),F&&(Ft(g),u.g[v].length==0&&(delete u.g[v],u.h--))}}function fn(u,g,v,A){for(var z=0;z<u.length;++z){var F=u[z];if(!F.da&&F.listener==g&&F.capture==!!v&&F.ha==A)return z}return-1}var qi="closure_lm_"+(1e6*Math.random()|0),Hi={};function ui(u,g,v,A,z){if(Array.isArray(g)){for(var F=0;F<g.length;F++)ui(u,g[F],v,A,z);return null}return v=po(v),u&&u[fe]?u.K(g,v,y(A)?!!A.capture:!1,z):Ls(u,g,v,!1,A,z)}function Ls(u,g,v,A,z,F){if(!g)throw Error("Invalid event type");var it=y(z)?!!z.capture:!!z,xt=Ps(u);if(xt||(u[qi]=xt=new Ke(u)),v=xt.add(g,v,A,it,F),v.proxy)return v;if(A=ba(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)st||(z=it),z===void 0&&(z=!1),u.addEventListener(g.toString(),A,z);else if(u.attachEvent)u.attachEvent(wa(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ba(){function u(v){return g.call(u.src,u.listener,v)}const g=Uc;return u}function Ra(u,g,v,A,z){if(Array.isArray(g))for(var F=0;F<g.length;F++)Ra(u,g[F],v,A,z);else A=y(A)?!!A.capture:!!A,v=po(v),u&&u[fe]?(u=u.i,g=String(g).toString(),g in u.g&&(F=u.g[g],v=fn(F,v,A,z),-1<v&&(Ft(F[v]),Array.prototype.splice.call(F,v,1),F.length==0&&(delete u.g[g],u.h--)))):u&&(u=Ps(u))&&(g=u.g[g.toString()],u=-1,g&&(u=fn(g,v,A,z)),(v=-1<u?g[u]:null)&&Pr(v))}function Pr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[fe])oi(g.i,u);else{var v=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(v,A,u.capture):g.detachEvent?g.detachEvent(wa(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=Ps(g))?(oi(v,u),v.h==0&&(v.src=null,g[qi]=null)):Ft(u)}}}function wa(u){return u in Hi?Hi[u]:Hi[u]="on"+u}function Uc(u,g){if(u.da)u=!0;else{g=new Rt(g,this);var v=u.listener,A=u.ha||u.src;u.fa&&Pr(u),u=v.call(A,g)}return u}function Ps(u){return u=u[qi],u instanceof Ke?u:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function po(u){return typeof u=="function"?u:(u[tn]||(u[tn]=function(g){return u.handleEvent(g)}),u[tn])}function Ee(){ft.call(this),this.i=new Ke(this),this.M=this,this.F=null}P(Ee,ft),Ee.prototype[fe]=!0,Ee.prototype.removeEventListener=function(u,g,v,A){Ra(this,u,g,v,A)};function Ce(u,g){var v,A=u.F;if(A)for(v=[];A;A=A.F)v.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new at(g,u);else if(g instanceof at)g.target=g.target||u;else{var z=g;g=new at(A,u),D(g,z)}if(z=!0,v)for(var F=v.length-1;0<=F;F--){var it=g.g=v[F];z=ci(it,A,!0,g)&&z}if(it=g.g=u,z=ci(it,A,!0,g)&&z,z=ci(it,A,!1,g)&&z,v)for(F=0;F<v.length;F++)it=g.g=v[F],z=ci(it,A,!1,g)&&z}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var v=u.g[g],A=0;A<v.length;A++)Ft(v[A]);delete u.g[g],u.h--}}this.F=null},Ee.prototype.K=function(u,g,v,A){return this.i.add(String(u),g,!1,v,A)},Ee.prototype.L=function(u,g,v,A){return this.i.add(String(u),g,!0,v,A)};function ci(u,g,v,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,F=0;F<g.length;++F){var it=g[F];if(it&&!it.da&&it.capture==v){var xt=it.listener,Ae=it.ha||it.src;it.fa&&oi(u.i,it),z=xt.call(Ae,A)!==!1&&z}}return z&&!A.defaultPrevented}function yo(u,g,v){if(typeof u=="function")v&&(u=V(u,v));else if(u&&typeof u.handleEvent=="function")u=V(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(u,g||0)}function zs(u){u.g=yo(()=>{u.g=null,u.i&&(u.i=!1,zs(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Lc extends ft{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:zs(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(u){ft.call(this),this.h=u,this.g={}}P(zr,ft);var Gi=[];function qe(u){wt(u.g,function(g,v){this.g.hasOwnProperty(v)&&Pr(g)},u),u.g={}}zr.prototype.N=function(){zr.aa.N.call(this),qe(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ks=m.JSON.stringify,kn=m.JSON.parse,Xe=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function Bs(){}Bs.prototype.h=null;function vo(u){return u.h||(u.h=u.i())}function _o(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fi(){at.call(this,"d")}P(Fi,at);function Nn(){at.call(this,"c")}P(Nn,at);var dn={},Qi=null;function Ca(){return Qi=Qi||new Ee}dn.La="serverreachability";function js(u){at.call(this,dn.La,u)}P(js,at);function Yi(u){const g=Ca();Ce(g,new js(g))}dn.STAT_EVENT="statevent";function Da(u,g){at.call(this,dn.STAT_EVENT,u),this.stat=g}P(Da,at);function oe(u){const g=Ca();Ce(g,new Da(g,u))}dn.Ma="timingevent";function Eo(u,g){at.call(this,dn.Ma,u),this.size=g}P(Eo,at);function Ki(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},g)}function Xi(){this.g=!0}Xi.prototype.xa=function(){this.g=!1};function To(u,g,v,A,z,F){u.info(function(){if(u.g)if(F)for(var it="",xt=F.split("&"),Ae=0;Ae<xt.length;Ae++){var Mt=xt[Ae].split("=");if(1<Mt.length){var Ie=Mt[0];Mt=Mt[1];var Se=Ie.split("_");it=2<=Se.length&&Se[1]=="type"?it+(Ie+"="+Mt+"&"):it+(Ie+"=redacted&")}}else it=null;else it=F;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+g+`
`+v+`
`+it})}function Ao(u,g,v,A,z,F,it){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+g+`
`+v+`
`+F+" "+it})}function $i(u,g,v,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+De(u,v)+(A?" "+A:"")})}function jn(u,g){u.info(function(){return"TIMEOUT: "+g})}Xi.prototype.info=function(){};function De(u,g){if(!u.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var A=v[u];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var F=z[0];if(F!="noop"&&F!="stop"&&F!="close")for(var it=1;it<z.length;it++)z[it]=""}}}}return ks(v)}catch{return g}}var Te={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kr;function Va(){}P(Va,Bs),Va.prototype.g=function(){return new XMLHttpRequest},Va.prototype.i=function(){return{}},kr=new Va;function qn(u,g,v,A){this.j=u,this.i=g,this.l=v,this.R=A||1,this.U=new zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qs}function qs(){this.i=null,this.g="",this.h=!1}var Zi={},Br={};function On(u,g,v){u.L=1,u.v=Hr(re(g)),u.m=v,u.P=!0,fi(u,null)}function fi(u,g){u.F=Date.now(),Wt(u),u.A=re(u.v);var v=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),gi(v.i,"t",A),u.C=0,v=u.j.J,u.h=new qs,u.g=Lo(u.j,v?g:null,!u.m),0<u.O&&(u.M=new Lc(V(u.Y,u,u.g),u.O)),g=u.U,v=u.g,A=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(Gi[0]=z.toString()),z=Gi);for(var F=0;F<z.length;F++){var it=ui(v,z[F],A||g.handleEvent,!1,g.h||g);if(!it)break;g.g[it.key]=it}g=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Yi(),To(u.i,u.u,u.A,u.l,u.R,u.m)}qn.prototype.ca=function(u){u=u.target;const g=this.M;g&&vn(u)==3?g.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)t:{const Se=vn(this.g);var g=this.g.Ba();const _i=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||Do(this.g)))){this.J||Se!=4||g==7||(g==8||0>=_i?Yi(3):Yi(2)),Ia(this);var v=this.g.Z();this.X=v;e:if(Wi(this)){var A=Do(this.g);u="";var z=A.length,F=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),an(this);var it="";break e}this.h.i=new m.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,u+=this.h.i.decode(A[g],{stream:!(F&&g==z-1)});A.length=0,this.h.g+=u,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=v==200,Ao(this.i,this.u,this.A,this.l,this.R,Se,v),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,Ae=this.g;if((xt=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(xt)){var Mt=xt;break e}}Mt=null}if(v=Mt)$i(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sn(this,v);else{this.o=!1,this.s=3,oe(12),en(this),an(this);break t}}if(this.P){v=!0;let Ue;for(;!this.J&&this.C<it.length;)if(Ue=Ji(this,it),Ue==Br){Se==4&&(this.s=4,oe(14),v=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Zi){this.s=4,oe(15),$i(this.i,this.l,it,"[Invalid Chunk]"),v=!1;break}else $i(this.i,this.l,Ue,null),sn(this,Ue);if(Wi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||it.length!=0||this.h.h||(this.s=1,oe(16),v=!1),this.o=this.o&&v,!v)$i(this.i,this.l,it,"[Invalid Chunked Response]"),en(this),an(this);else if(0<it.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),$r(Ie),Ie.M=!0,oe(11))}}else $i(this.i,this.l,it,null),sn(this,it);Se==4&&en(this),this.o&&!this.J&&(Se==4?xo(this.j,this):(this.o=!1,Wt(this)))}else qc(this.g),v==400&&0<it.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),en(this),an(this)}}}catch{}finally{}};function Wi(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ji(u,g){var v=u.C,A=g.indexOf(`
`,v);return A==-1?Br:(v=Number(g.substring(v,A)),isNaN(v)?Zi:(A+=1,A+v>g.length?Br:(g=g.slice(A,A+v),u.C=A+v,g)))}qn.prototype.cancel=function(){this.J=!0,en(this)};function Wt(u){u.S=Date.now()+u.I,Hs(u,u.I)}function Hs(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ki(V(u.ba,u),g)}function Ia(u){u.B&&(m.clearTimeout(u.B),u.B=null)}qn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(jn(this.i,this.A),this.L!=2&&(Yi(),oe(17)),en(this),this.s=2,an(this)):Hs(this,this.S-u)};function an(u){u.j.G==0||u.J||xo(u.j,u)}function en(u){Ia(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,qe(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function sn(u,g){try{var v=u.j;if(v.G!=0&&(v.g==u||tr(v.h,u))){if(!u.K&&tr(v.h,u)&&v.G==3){try{var A=v.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Ba(v),za(v);else break t;tl(v),oe(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ki(V(v.Za,v),6e3));if(1>=So(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else vi(v,11)}else if((u.K||v.g==u)&&Ba(v),!Z(g))for(z=v.Da.g.parse(g),g=0;g<z.length;g++){let Mt=z[g];if(v.T=Mt[0],Mt=Mt[1],v.G==2)if(Mt[0]=="c"){v.K=Mt[1],v.ia=Mt[2];const Ie=Mt[3];Ie!=null&&(v.la=Ie,v.j.info("VER="+v.la));const Se=Mt[4];Se!=null&&(v.Aa=Se,v.j.info("SVER="+v.Aa));const _i=Mt[5];_i!=null&&typeof _i=="number"&&0<_i&&(A=1.5*_i,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Ue=u.g;if(Ue){const Xn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var F=A.h;F.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(er(F,F.h),F.h=null))}if(A.D){const nl=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(A.ya=nl,kt(A.I,A.D,nl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var it=u;if(A.qa=Uo(A,A.J?A.ia:null,A.W),it.K){mn(A.h,it);var xt=it,Ae=A.L;Ae&&(xt.I=Ae),xt.B&&(Ia(xt),Wt(xt)),A.g=it}else No(A);0<v.i.length&&ka(v)}else Mt[0]!="stop"&&Mt[0]!="close"||vi(v,7);else v.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?vi(v,7):Ws(v):Mt[0]!="noop"&&v.l&&v.l.ta(Mt),v.v=0)}}Yi(4)}catch{}}var Pc=class{constructor(u,g){this.g=u,this.map=g}};function Gs(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function So(u){return u.h?1:u.g?u.g.size:0}function tr(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function er(u,g){u.g?u.g.add(g):u.h=g}function mn(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Gs.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $e(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const v of u.g.values())g=g.concat(v.D);return g}return G(u.i)}function bo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],v=u.length,A=0;A<v;A++)g.push(u[A]);return g}g=[],v=0;for(A in u)g[v++]=u[A];return g}function zc(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var v=0;v<u;v++)g.push(v);return g}g=[],v=0;for(const A in u)g[v++]=A;return g}}}function jr(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var v=zc(u),A=bo(u),z=A.length,F=0;F<z;F++)g.call(void 0,A[F],v&&v[F],u)}var Qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(u,g){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var A=u[v].indexOf("="),z=null;if(0<=A){var F=u[v].substring(0,A);z=u[v].substring(A+1)}else F=u[v];g(F,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function di(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof di){this.h=u.h,nr(this,u.j),this.o=u.o,this.g=u.g,qr(this,u.s),this.l=u.l;var g=u.i,v=new Hn;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Oa(this,v),this.m=u.m}else u&&(g=String(u).match(Qs))?(this.h=!1,nr(this,g[1]||"",!0),this.o=ir(g[2]||""),this.g=ir(g[3]||"",!0),qr(this,g[4]),this.l=ir(g[5]||"",!0),Oa(this,g[6]||"",!0),this.m=ir(g[7]||"")):(this.h=!1,this.i=new Hn(null,this.h))}di.prototype.toString=function(){var u=[],g=this.j;g&&u.push(gn(g,Ys,!0),":");var v=this.g;return(v||g=="file")&&(u.push("//"),(g=this.o)&&u.push(gn(g,Ys,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(gn(v,v.charAt(0)=="/"?Ks:Ro,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",gn(v,jc)),u.join("")};function re(u){return new di(u)}function nr(u,g,v){u.j=v?ir(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function qr(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Oa(u,g,v){g instanceof Hn?(u.i=g,Xs(u.i,u.h)):(v||(g=gn(g,Bc)),u.i=new Hn(g,u.h))}function kt(u,g,v){u.i.set(g,v)}function Hr(u){return kt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ir(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gn(u,g,v){return typeof u=="string"?(u=encodeURI(u).replace(g,kc),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function kc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ys=/[#\/\?@]/g,Ro=/[#\?:]/g,Ks=/[#\?]/g,Bc=/[#\?@]/g,jc=/#/g;function Hn(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&Na(u.i,function(g,v){u.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Hn.prototype,r.add=function(u,g){pn(this),this.i=null,u=pi(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(g),this.h+=1,this};function xa(u,g){pn(u),g=pi(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function mi(u,g){return pn(u),g=pi(u,g),u.g.has(g)}r.forEach=function(u,g){pn(this),this.g.forEach(function(v,A){v.forEach(function(z){u.call(g,z,A,this)},this)},this)},r.na=function(){pn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let A=0;A<g.length;A++){const z=u[A];for(let F=0;F<z.length;F++)v.push(g[A])}return v},r.V=function(u){pn(this);let g=[];if(typeof u=="string")mi(this,u)&&(g=g.concat(this.g.get(pi(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)g=g.concat(u[v])}return g},r.set=function(u,g){return pn(this),this.i=null,u=pi(this,u),mi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},r.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function gi(u,g,v){xa(u,g),0<v.length&&(u.i=null,u.g.set(pi(u,g),G(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var A=g[v];const F=encodeURIComponent(String(A)),it=this.V(A);for(A=0;A<it.length;A++){var z=F;it[A]!==""&&(z+="="+encodeURIComponent(String(it[A]))),u.push(z)}}return this.i=u.join("&")};function pi(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Xs(u,g){g&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(v,A){var z=A.toLowerCase();A!=z&&(xa(this,A),gi(this,z,v))},u)),u.j=g}function wo(u,g){const v=new Xi;if(m.Image){const A=new Image;A.onload=U(yn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=U(yn,v,"TestLoadImage: error",!1,g,A),A.onabort=U(yn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=U(yn,v,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function Gr(u,g){const v=new Xi,A=new AbortController,z=setTimeout(()=>{A.abort(),yn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(F=>{clearTimeout(z),F.ok?yn(v,"TestPingServer: ok",!0,g):yn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),yn(v,"TestPingServer: error",!1,g)})}function yn(u,g,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function Fr(){this.g=new Xe}function Gn(u,g,v){const A=v||"";try{jr(u,function(z,F){let it=z;y(z)&&(it=ks(z)),g.push(A+F+"="+encodeURIComponent(it))})}catch(z){throw g.push(A+"type="+encodeURIComponent("_badmap")),z}}function rr(u){this.l=u.Ub||null,this.j=u.eb||!1}P(rr,Bs),rr.prototype.g=function(){return new yi(this.l,this.j)},rr.prototype.i=function(u){return function(){return u}}({});function yi(u,g){Ee.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(yi,Ee),r=yi.prototype,r.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Qn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$s(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function $s(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Fn(this):Qn(this),this.readyState==3&&$s(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Fn(this))},r.Qa=function(u){this.g&&(this.response=u,Fn(this))},r.ga=function(){this.g&&Fn(this)};function Fn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Qn(u)}r.setRequestHeader=function(u,g){this.u.append(u,g)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=g.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Zs(u){let g="";return wt(u,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function Ve(u,g,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Zs(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):kt(u,g,v))}function Ht(u){Ee.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ht,Ee);var Ma=/^https?$/i,Qr=["POST","PUT"];r=Ht.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kr.g(),this.v=this.o?vo(this.o):vo(kr),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(F){Co(this,F);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())v.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),z=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Qr,g,void 0))||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,it]of v)this.g.setRequestHeader(F,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yr(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){Co(this,F)}};function Co(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Ua(u),Yn(u)}function Ua(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ce(this,"complete"),Ce(this,"abort"),Yn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?La(this):this.bb())},r.bb=function(){La(this)};function La(u){if(u.h&&typeof d<"u"&&(!u.v[1]||vn(u)!=4||u.Z()!=2)){if(u.u&&vn(u)==4)yo(u.Ea,0,u);else if(Ce(u,"readystatechange"),vn(u)==4){u.h=!1;try{const it=u.Z();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var A;if(A=it===0){var z=String(u.D).match(Qs)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),A=!Ma.test(z?z.toLowerCase():"")}v=A}if(v)Ce(u,"complete"),Ce(u,"success");else{u.m=6;try{var F=2<vn(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",Ua(u)}}finally{Yn(u)}}}}function Yn(u,g){if(u.g){Yr(u);const v=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Ce(u,"ready");try{v.onreadystatechange=A}catch{}}}function Yr(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function vn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),kn(g)}};function Do(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function qc(u){const g={};u=(u.g&&2<=vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(Z(u[A]))continue;var v=O(u[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=g[z]||[];g[z]=F,F.push(v)}x(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kr(u,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||g}function Pa(u){this.Aa=0,this.i=[],this.j=new Xi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kr("baseRetryDelayMs",5e3,u),this.cb=Kr("retryDelaySeedMs",1e4,u),this.Wa=Kr("forwardChannelMaxRetries",2,u),this.wa=Kr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Gs(u&&u.concurrentRequestLimit),this.Da=new Fr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Pa.prototype,r.la=8,r.G=1,r.connect=function(u,g,v,A){oe(0),this.W=u,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Uo(this,null,this.W),ka(this)};function Ws(u){if(Vo(u),u.G==3){var g=u.U++,v=re(u.I);if(kt(v,"SID",u.K),kt(v,"RID",g),kt(v,"TYPE","terminate"),Xr(u,v),g=new qn(u,u.j,g),g.L=2,g.v=Hr(re(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=Lo(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Wt(g)}Mo(u)}function za(u){u.g&&($r(u),u.g.cancel(),u.g=null)}function Vo(u){za(u),u.u&&(m.clearTimeout(u.u),u.u=null),Ba(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function ka(u){if(!Fs(u.h)&&!u.s){u.s=!0;var g=u.Ga;vt||I(),gt||(vt(),gt=!0),qt.add(g,u),u.B=0}}function Hc(u,g){return So(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ki(V(u.Ga,u,g),el(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new qn(this,this.j,u);let F=this.o;if(this.S&&(F?(F=w(F),D(F,this.S)):F=this.S),this.m!==null||this.O||(z.H=F,F=null),this.P)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=Io(this,z,g),v=re(this.I),kt(v,"RID",u),kt(v,"CVER",22),this.D&&kt(v,"X-HTTP-Session-Id",this.D),Xr(this,v),F&&(this.O?g="headers="+encodeURIComponent(String(Zs(F)))+"&"+g:this.m&&Ve(v,this.m,F)),er(this.h,z),this.Ua&&kt(v,"TYPE","init"),this.P?(kt(v,"$req",g),kt(v,"SID","null"),z.T=!0,On(z,v,null)):On(z,v,g),this.G=2}}else this.G==3&&(u?Js(this,u):this.i.length==0||Fs(this.h)||Js(this))};function Js(u,g){var v;g?v=g.l:v=u.U++;const A=re(u.I);kt(A,"SID",u.K),kt(A,"RID",v),kt(A,"AID",u.T),Xr(u,A),u.m&&u.o&&Ve(A,u.m,u.o),v=new qn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Io(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),er(u.h,v),On(v,A,g)}function Xr(u,g){u.H&&wt(u.H,function(v,A){kt(g,A,v)}),u.l&&jr({},function(v,A){kt(g,A,v)})}function Io(u,g,v){v=Math.min(u.i.length,v);var A=u.l?V(u.l.Na,u.l,u):null;t:{var z=u.i;let F=-1;for(;;){const it=["count="+v];F==-1?0<v?(F=z[0].g,it.push("ofs="+F)):F=0:it.push("ofs="+F);let xt=!0;for(let Ae=0;Ae<v;Ae++){let Mt=z[Ae].g;const Ie=z[Ae].map;if(Mt-=F,0>Mt)F=Math.max(0,z[Ae].g-100),xt=!1;else try{Gn(Ie,it,"req"+Mt+"_")}catch{A&&A(Ie)}}if(xt){A=it.join("&");break t}}}return u=u.i.splice(0,v),g.D=u,A}function No(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;vt||I(),gt||(vt(),gt=!0),qt.add(g,u),u.v=0}}function tl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ki(V(u.Fa,u),el(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Oo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ki(V(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),za(this),Oo(this))};function $r(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function Oo(u){u.g=new qn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=re(u.qa);kt(g,"RID","rpc"),kt(g,"SID",u.K),kt(g,"AID",u.T),kt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&kt(g,"TO",u.ja),kt(g,"TYPE","xmlhttp"),Xr(u,g),u.m&&u.o&&Ve(g,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Hr(re(g)),v.m=null,v.P=!0,fi(v,u)}r.Za=function(){this.C!=null&&(this.C=null,za(this),tl(this),oe(19))};function Ba(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function xo(u,g){var v=null;if(u.g==g){Ba(u),$r(u),u.g=null;var A=2}else if(tr(u.h,g))v=g.D,mn(u.h,g),A=1;else return;if(u.G!=0){if(g.o)if(A==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var z=u.B;A=Ca(),Ce(A,new Eo(A,v)),ka(u)}else No(u);else if(z=g.s,z==3||z==0&&0<g.X||!(A==1&&Hc(u,g)||A==2&&tl(u)))switch(v&&0<v.length&&(g=u.h,g.i=g.i.concat(v)),z){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function el(u,g){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*g}function vi(u,g){if(u.j.info("Error code "+g),g==2){var v=V(u.fb,u),A=u.Xa;const z=!A;A=new di(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||nr(A,"https"),Hr(A),z?wo(A.toString(),v):Gr(A.toString(),v)}else oe(2);u.G=0,u.l&&u.l.sa(g),Mo(u),Vo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function Mo(u){if(u.G=0,u.ka=[],u.l){const g=$e(u.h);(g.length!=0||u.i.length!=0)&&(q(u.ka,g),q(u.ka,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.ra()}}function Uo(u,g,v){var A=v instanceof di?re(v):new di(v);if(A.g!="")g&&(A.g=g+"."+A.g),qr(A,A.s);else{var z=m.location;A=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var F=new di(null);A&&nr(F,A),g&&(F.g=g),z&&qr(F,z),v&&(F.l=v),A=F}return v=u.D,g=u.ya,v&&g&&kt(A,v,g),kt(A,"VER",u.la),Xr(u,A),A}function Lo(u,g,v){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Ht(new rr({eb:v})):new Ht(u.pa),g.Ha(u.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Po(){}r=Po.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ja(){}ja.prototype.g=function(u,g){return new Ze(u,g)};function Ze(u,g){Ee.call(this),this.g=new Pa(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!Z(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Z(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Kn(this)}P(Ze,Ee),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Ws(this.g)},Ze.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=ks(u),u=v);g.i.push(new Pc(g.Ya++,u)),g.G==3&&ka(g)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Ws(this.g),delete this.g,Ze.aa.N.call(this)};function zo(u){Fi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const v in g){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}P(zo,Fi);function ko(){Nn.call(this),this.status=1}P(ko,Nn);function Kn(u){this.g=u}P(Kn,Po),Kn.prototype.ua=function(){Ce(this.g,"a")},Kn.prototype.ta=function(u){Ce(this.g,new zo(u))},Kn.prototype.sa=function(u){Ce(this.g,new ko)},Kn.prototype.ra=function(){Ce(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,S_=function(){return new ja},A_=function(){return Ca()},T_=dn,rd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Te.NO_ERROR=0,Te.TIMEOUT=8,Te.HTTP_ERROR=6,Yu=Te,hi.COMPLETE="complete",E_=hi,_o.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,Fl=_o,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,__=Ht}).apply(typeof zu<"u"?zu:typeof self<"u"?self:typeof window<"u"?window:{});const Hy="@firebase/firestore",Gy="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ns="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new f_("@firebase/firestore");function ms(){return ya.logLevel}function lt(r,...e){if(ya.logLevel<=Pt.DEBUG){const i=e.map(Nd);ya.debug(`Firestore (${Ns}): ${r}`,...i)}}function Bi(r,...e){if(ya.logLevel<=Pt.ERROR){const i=e.map(Nd);ya.error(`Firestore (${Ns}): ${r}`,...i)}}function Ts(r,...e){if(ya.logLevel<=Pt.WARN){const i=e.map(Nd);ya.warn(`Firestore (${Ns}): ${r}`,...i)}}function Nd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r="Unexpected state"){const e=`FIRESTORE (${Ns}) INTERNAL ASSERTION FAILED: `+r;throw Bi(e),new Error(e)}function Gt(r,e){r||_t()}function At(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Is{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Jb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class t1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class e1{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Vr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Vr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new b_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string"),new Qe(e)}}class n1{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class i1{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new n1(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r1{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Lb(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Gt(this.o===void 0);const s=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Fy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Gt(typeof i.token=="string"),this.R=i.token,new Fy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=a1(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Dt(r,e){return r<e?-1:r>e?1:0}function ad(r,e){let i=0;for(;i<r.length&&i<e.length;){const s=r.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return Dt(s,o);{const c=R_(),d=s1(c.encode(Qy(r,i)),c.encode(Qy(e,i)));return d!==0?d:Dt(s,o)}}i+=s>65535?2:1}return Dt(r.length,e.length)}function Qy(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function s1(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return Dt(r[i],e[i]);return Dt(r.length,e.length)}function As(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=-62135596800,Ky=1e6;class ve{static now(){return ve.fromMillis(Date.now())}static fromDate(e){return ve.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Ky);return new ve(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Yy)throw new ut(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ky}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Yy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new ve(0,0))}static max(){return new Et(new ve(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="__name__";class ei{constructor(e,i,s){i===void 0?i=0:i>e.length&&_t(),s===void 0?s=e.length-i:s>e.length-i&&_t(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ei.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ei?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=ei.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Dt(e.length,i.length)}static compareSegments(e,i){const s=ei.isNumericId(e),o=ei.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ei.extractNumericId(e).compare(ei.extractNumericId(i)):ad(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Dr.fromString(e.substring(4,e.length-2))}}class Zt extends ei{construct(e,i,s){return new Zt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ut(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Zt(i)}static emptyPath(){return new Zt([])}}const l1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ei{construct(e,i,s){return new Be(e,i,s)}static isValidIdentifier(e){return l1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xy}static keyField(){return new Be([Xy])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ut(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ut(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(s+=m,o++):(c(),o++)}if(c(),d)throw new ut(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(Zt.fromString(e))}static fromName(e){return new pt(Zt.fromString(e).popFirst(5))}static empty(){return new pt(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Zt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=-1;function o1(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new ve(i+1,0):new ve(i,s));return new Nr(o,pt.empty(),e)}function u1(r){return new Nr(r.readTime,r.key,eo)}class Nr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Nr(Et.min(),pt.empty(),eo)}static max(){return new Nr(Et.max(),pt.empty(),eo)}}function c1(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,e.documentKey),i!==0?i:Dt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Os(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==h1)throw r;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):$.reject(i)}static resolve(e){return new $((i,s)=>{i(e)})}static reject(e){return new $((i,s)=>{s(e)})}static waitFor(e){return new $((i,s)=>{let o=0,c=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++c,d&&c===o&&i()},p=>s(p))}),d=!0,c===o&&i()})}static or(e){let i=$.resolve(!1);for(const s of e)i=i.next(o=>o?$.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(e,i){return new $((s,o)=>{const c=e.length,d=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;i(e[y]).next(E=>{d[y]=E,++m,m===c&&s(d)},E=>o(E))}})}static doWhile(e,i){return new $((s,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):s()};c()})}}function d1(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Tc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=-1;function Ac(r){return r==null}function sc(r){return r===0&&1/r==-1/0}function m1(r){return typeof r=="number"&&Number.isInteger(r)&&!sc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="";function g1(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=$y(e)),e=p1(r.get(i),e);return $y(e)}function p1(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case C_:i+="";break;default:i+=c}}return i}function $y(r){return r+C_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ea(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function D_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||ke.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ku(this.root,e,this.comparator,!0)}}class ku{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??ke.RED,this.left=o??ke.EMPTY,this.right=c??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new ke(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(e,i,s,o,c){return this}insert(e,i,s){return new ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Wy(this.data.getIterator())}getIteratorFrom(e){return new Wy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class Wy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new Pn([])}unionWith(e){let i=new we(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Pn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return As(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new V_("Invalid base64 string: "+c):c}}(e);return new je(i)}static fromUint8Array(e){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}je.EMPTY_BYTE_STRING=new je("");const y1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(r){if(Gt(!!r),typeof r=="string"){let e=0;const i=y1.exec(r);if(Gt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ce(r.seconds),nanos:ce(r.nanos)}}function ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function xr(r){return typeof r=="string"?je.fromBase64String(r):je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="server_timestamp",N_="__type__",O_="__previous_value__",x_="__local_write_time__";function xd(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[N_])===null||i===void 0?void 0:i.stringValue)===I_}function Sc(r){const e=r.mapValue.fields[O_];return xd(e)?Sc(e):e}function no(r){const e=Or(r.mapValue.fields[x_].timestampValue);return new ve(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,i,s,o,c,d,m,p,y){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const lc="(default)";class io{constructor(e,i){this.projectId=e,this.database=i||lc}static empty(){return new io("","")}get isDefaultDatabase(){return this.database===lc}isEqual(e){return e instanceof io&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="__type__",_1="__max__",Bu={mapValue:{}},U_="__vector__",oc="value";function Mr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?xd(r)?4:T1(r)?9007199254740991:E1(r)?10:11:_t()}function ai(r,e){if(r===e)return!0;const i=Mr(r);if(i!==Mr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return no(r).isEqual(no(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Or(o.timestampValue),m=Or(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return xr(o.bytesValue).isEqual(xr(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return ce(o.geoPointValue.latitude)===ce(c.geoPointValue.latitude)&&ce(o.geoPointValue.longitude)===ce(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return ce(o.integerValue)===ce(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ce(o.doubleValue),m=ce(c.doubleValue);return d===m?sc(d)===sc(m):isNaN(d)&&isNaN(m)}return!1}(r,e);case 9:return As(r.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},m=c.mapValue.fields||{};if(Zy(d)!==Zy(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!ai(d[p],m[p])))return!1;return!0}(r,e);default:return _t()}}function ro(r,e){return(r.values||[]).find(i=>ai(i,e))!==void 0}function Ss(r,e){if(r===e)return 0;const i=Mr(r),s=Mr(e);if(i!==s)return Dt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(r.booleanValue,e.booleanValue);case 2:return function(c,d){const m=ce(c.integerValue||c.doubleValue),p=ce(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return Jy(r.timestampValue,e.timestampValue);case 4:return Jy(no(r),no(e));case 5:return ad(r.stringValue,e.stringValue);case 6:return function(c,d){const m=xr(c),p=xr(d);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(c,d){const m=c.split("/"),p=d.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Dt(m[y],p[y]);if(E!==0)return E}return Dt(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,d){const m=Dt(ce(c.latitude),ce(d.latitude));return m!==0?m:Dt(ce(c.longitude),ce(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return tv(r.arrayValue,e.arrayValue);case 10:return function(c,d){var m,p,y,E;const b=c.fields||{},V=d.fields||{},U=(m=b[oc])===null||m===void 0?void 0:m.arrayValue,P=(p=V[oc])===null||p===void 0?void 0:p.arrayValue,G=Dt(((y=U==null?void 0:U.values)===null||y===void 0?void 0:y.length)||0,((E=P==null?void 0:P.values)===null||E===void 0?void 0:E.length)||0);return G!==0?G:tv(U,P)}(r.mapValue,e.mapValue);case 11:return function(c,d){if(c===Bu.mapValue&&d===Bu.mapValue)return 0;if(c===Bu.mapValue)return 1;if(d===Bu.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=d.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const V=ad(p[b],E[b]);if(V!==0)return V;const U=Ss(m[p[b]],y[E[b]]);if(U!==0)return U}return Dt(p.length,E.length)}(r.mapValue,e.mapValue);default:throw _t()}}function Jy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Dt(r,e);const i=Or(r),s=Or(e),o=Dt(i.seconds,s.seconds);return o!==0?o:Dt(i.nanos,s.nanos)}function tv(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Ss(i[o],s[o]);if(c)return c}return Dt(i.length,s.length)}function bs(r){return sd(r)}function sd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Or(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return xr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return pt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=sd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${sd(i.fields[d])}`;return o+"}"}(r.mapValue):_t()}function Ku(r){switch(Mr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sc(r);return e?16+Ku(e):16;case 5:return 2*r.stringValue.length;case 6:return xr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+Ku(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Ea(s.fields,(c,d)=>{o+=c.length+Ku(d)}),o}(r.mapValue);default:throw _t()}}function ev(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ld(r){return!!r&&"integerValue"in r}function Md(r){return!!r&&"arrayValue"in r}function nv(r){return!!r&&"nullValue"in r}function iv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Xu(r){return!!r&&"mapValue"in r}function E1(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[M_])===null||i===void 0?void 0:i.stringValue)===U_}function Kl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ea(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Kl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Kl(r.arrayValue.values[i]);return e}return Object.assign({},r)}function T1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===_1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Xu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(i)}setAll(e){let i=Be.emptyPath(),s={},o=[];e.forEach((d,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=m.popLast()}d?s[m.lastSegment()]=Kl(d):o.push(m.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());Xu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Xu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Ea(i,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new Vn(Kl(this.value))}}function L_(r){const e=[];return Ea(r.fields,(i,s)=>{const o=new Be([i]);if(Xu(s)){const c=L_(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,s,o,c,d,m){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Ye(e,0,Et.min(),Et.min(),Et.min(),Vn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ye(e,1,i,Et.min(),s,o,0)}static newNoDocument(e,i){return new Ye(e,2,i,Et.min(),Et.min(),Vn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,Et.min(),Et.min(),Vn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i){this.position=e,this.inclusive=i}}function rv(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?s=pt.comparator(pt.fromName(d.referenceValue),i.key):s=Ss(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function av(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ai(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,i="asc"){this.field=e,this.dir=i}}function A1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{}class ye extends P_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new b1(e,i,s):i==="array-contains"?new C1(e,s):i==="in"?new D1(e,s):i==="not-in"?new V1(e,s):i==="array-contains-any"?new I1(e,s):new ye(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new R1(e,s):new w1(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Ss(i,this.value)):i!==null&&Mr(this.value)===Mr(i)&&this.matchesComparison(Ss(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends P_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new zn(e,i)}matches(e){return z_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function z_(r){return r.op==="and"}function k_(r){return S1(r)&&z_(r)}function S1(r){for(const e of r.filters)if(e instanceof zn)return!1;return!0}function od(r){if(r instanceof ye)return r.field.canonicalString()+r.op.toString()+bs(r.value);if(k_(r))return r.filters.map(e=>od(e)).join(",");{const e=r.filters.map(i=>od(i)).join(",");return`${r.op}(${e})`}}function B_(r,e){return r instanceof ye?function(s,o){return o instanceof ye&&s.op===o.op&&s.field.isEqual(o.field)&&ai(s.value,o.value)}(r,e):r instanceof zn?function(s,o){return o instanceof zn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,m)=>c&&B_(d,o.filters[m]),!0):!1}(r,e):void _t()}function j_(r){return r instanceof ye?function(i){return`${i.field.canonicalString()} ${i.op} ${bs(i.value)}`}(r):r instanceof zn?function(i){return i.op.toString()+" {"+i.getFilters().map(j_).join(" ,")+"}"}(r):"Filter"}class b1 extends ye{constructor(e,i,s){super(e,i,s),this.key=pt.fromName(s.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class R1 extends ye{constructor(e,i){super(e,"in",i),this.keys=q_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class w1 extends ye{constructor(e,i){super(e,"not-in",i),this.keys=q_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function q_(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>pt.fromName(s.referenceValue))}class C1 extends ye{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Md(i)&&ro(i.arrayValue,this.value)}}class D1 extends ye{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ro(this.value.arrayValue,i)}}class V1 extends ye{constructor(e,i){super(e,"not-in",i)}matches(e){if(ro(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!ro(this.value.arrayValue,i)}}class I1 extends ye{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Md(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>ro(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,i=null,s=[],o=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.le=null}}function sv(r,e=null,i=[],s=[],o=null,c=null,d=null){return new N1(r,e,i,s,o,c,d)}function Ud(r){const e=At(r);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>od(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Ac(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>bs(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>bs(s)).join(",")),e.le=i}return e.le}function Ld(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!A1(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!B_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!av(r.startAt,e.startAt)&&av(r.endAt,e.endAt)}function ud(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,i=null,s=[],o=[],c=null,d="F",m=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function O1(r,e,i,s,o,c,d,m){return new co(r,e,i,s,o,c,d,m)}function H_(r){return new co(r)}function lv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function G_(r){return r.collectionGroup!==null}function Xl(r){const e=At(r);if(e.he===null){e.he=[];const i=new Set;for(const c of e.explicitOrderBy)e.he.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new we(Be.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.he.push(new cc(c,s))}),i.has(Be.keyField().canonicalString())||e.he.push(new cc(Be.keyField(),s))}return e.he}function ni(r){const e=At(r);return e.Pe||(e.Pe=x1(e,Xl(r))),e.Pe}function x1(r,e){if(r.limitType==="F")return sv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new cc(o.field,c)});const i=r.endAt?new uc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new uc(r.startAt.position,r.startAt.inclusive):null;return sv(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function cd(r,e){const i=r.filters.concat([e]);return new co(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function hd(r,e,i){return new co(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function bc(r,e){return Ld(ni(r),ni(e))&&r.limitType===e.limitType}function F_(r){return`${Ud(ni(r))}|lt:${r.limitType}`}function gs(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>j_(o)).join(", ")}]`),Ac(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>bs(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>bs(o)).join(",")),`Target(${s})`}(ni(r))}; limitType=${r.limitType})`}function Rc(r,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,e)&&function(s,o){for(const c of Xl(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(d,m,p){const y=rv(d,m,p);return d.inclusive?y<=0:y<0}(s.startAt,Xl(s),o)||s.endAt&&!function(d,m,p){const y=rv(d,m,p);return d.inclusive?y>=0:y>0}(s.endAt,Xl(s),o))}(r,e)}function M1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Q_(r){return(e,i)=>{let s=!1;for(const o of Xl(r)){const c=U1(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function U1(r,e,i){const s=r.field.isKeyField()?pt.comparator(e.key,i.key):function(c,d,m){const p=d.data.field(c),y=m.data.field(c);return p!==null&&y!==null?Ss(p,y):_t()}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ea(this.inner,(i,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return D_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=new ne(pt.comparator);function ji(){return L1}const Y_=new ne(pt.comparator);function Ql(...r){let e=Y_;for(const i of r)e=e.insert(i.key,i);return e}function K_(r){let e=Y_;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function pa(){return $l()}function X_(){return $l()}function $l(){return new Ta(r=>r.toString(),(r,e)=>r.isEqual(e))}const P1=new ne(pt.comparator),z1=new we(pt.comparator);function Nt(...r){let e=z1;for(const i of r)e=e.add(i);return e}const k1=new we(Dt);function B1(){return k1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sc(e)?"-0":e}}function $_(r){return{integerValue:""+r}}function j1(r,e){return m1(e)?$_(e):Pd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this._=void 0}}function q1(r,e,i){return r instanceof hc?function(o,c){const d={fields:{[N_]:{stringValue:I_},[x_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&xd(c)&&(c=Sc(c)),c&&(d.fields[O_]=c),{mapValue:d}}(i,e):r instanceof ao?W_(r,e):r instanceof so?J_(r,e):function(o,c){const d=Z_(o,c),m=ov(d)+ov(o.Ie);return ld(d)&&ld(o.Ie)?$_(m):Pd(o.serializer,m)}(r,e)}function H1(r,e,i){return r instanceof ao?W_(r,e):r instanceof so?J_(r,e):i}function Z_(r,e){return r instanceof fc?function(s){return ld(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class hc extends wc{}class ao extends wc{constructor(e){super(),this.elements=e}}function W_(r,e){const i=t0(e);for(const s of r.elements)i.some(o=>ai(o,s))||i.push(s);return{arrayValue:{values:i}}}class so extends wc{constructor(e){super(),this.elements=e}}function J_(r,e){let i=t0(e);for(const s of r.elements)i=i.filter(o=>!ai(o,s));return{arrayValue:{values:i}}}class fc extends wc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function ov(r){return ce(r.integerValue||r.doubleValue)}function t0(r){return Md(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function G1(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof ao&&o instanceof ao||s instanceof so&&o instanceof so?As(s.elements,o.elements,ai):s instanceof fc&&o instanceof fc?ai(s.Ie,o.Ie):s instanceof hc&&o instanceof hc}(r.transform,e.transform)}class F1{constructor(e,i){this.version=e,this.transformResults=i}}class Pi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Pi}static exists(e){return new Pi(void 0,e)}static updateTime(e){return new Pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $u(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Cc{}function e0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new i0(r.key,Pi.none()):new ho(r.key,r.data,Pi.none());{const i=r.data,s=Vn.empty();let o=new we(Be.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Aa(r.key,s,new Pn(o.toArray()),Pi.none())}}function Q1(r,e,i){r instanceof ho?function(o,c,d){const m=o.value.clone(),p=cv(o.fieldTransforms,c,d.transformResults);m.setAll(p),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(r,e,i):r instanceof Aa?function(o,c,d){if(!$u(o.precondition,c))return void c.convertToUnknownDocument(d.version);const m=cv(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(n0(o)),p.setAll(m),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Zl(r,e,i,s){return r instanceof ho?function(c,d,m,p){if(!$u(c.precondition,d))return m;const y=c.value.clone(),E=hv(c.fieldTransforms,p,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(r,e,i,s):r instanceof Aa?function(c,d,m,p){if(!$u(c.precondition,d))return m;const y=hv(c.fieldTransforms,p,d),E=d.data;return E.setAll(n0(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(b=>b.field))}(r,e,i,s):function(c,d,m){return $u(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(r,e,i)}function Y1(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=Z_(s.transform,o||null);c!=null&&(i===null&&(i=Vn.empty()),i.set(s.field,c))}return i||null}function uv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&As(s,o,(c,d)=>G1(c,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ho extends Cc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Aa extends Cc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function n0(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function cv(r,e,i){const s=new Map;Gt(r.length===i.length);for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,m=e.data.field(c.field);s.set(c.field,H1(d,m,i[o]))}return s}function hv(r,e,i){const s=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);s.set(o.field,q1(c,d,e))}return s}class i0 extends Cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K1 extends Cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Q1(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=X_();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=i.has(o.key)?null:m;const p=e0(d,m);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Nt())}isEqual(e){return this.batchId===e.batchId&&As(this.mutations,e.mutations,(i,s)=>uv(i,s))&&As(this.baseMutations,e.baseMutations,(i,s)=>uv(i,s))}}class zd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Gt(e.mutations.length===s.length);let o=function(){return P1}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new zd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Lt;function W1(r){switch(r){case W.OK:return _t();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return _t()}}function r0(r){if(r===void 0)return Bi("GRPC error has no .code"),W.UNKNOWN;switch(r){case pe.OK:return W.OK;case pe.CANCELLED:return W.CANCELLED;case pe.UNKNOWN:return W.UNKNOWN;case pe.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case pe.INTERNAL:return W.INTERNAL;case pe.UNAVAILABLE:return W.UNAVAILABLE;case pe.UNAUTHENTICATED:return W.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case pe.NOT_FOUND:return W.NOT_FOUND;case pe.ALREADY_EXISTS:return W.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return W.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case pe.ABORTED:return W.ABORTED;case pe.OUT_OF_RANGE:return W.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return W.UNIMPLEMENTED;case pe.DATA_LOSS:return W.DATA_LOSS;default:return _t()}}(Lt=pe||(pe={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=new Dr([4294967295,4294967295],0);function fv(r){const e=R_().encode(r),i=new v_;return i.update(e),new Uint8Array(i.digest())}function dv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Dr([i,s],0),new Dr([o,c],0)]}class kd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Yl(`Invalid padding: ${i}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Dr.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(Dr.fromNumber(s)));return o.compare(J1)===1&&(o=new Dr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=fv(e),[s,o]=dv(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);if(!this.Re(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new kd(c,o,i);return s.forEach(m=>d.insert(m)),d}insert(e){if(this.Ee===0)return;const i=fv(e),[s,o]=dv(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,fo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Dc(Et.min(),o,new ne(Dt),ji(),Nt())}}class fo{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new fo(s,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class a0{constructor(e,i){this.targetId=e,this.ge=i}}class s0{constructor(e,i,s=je.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class mv{constructor(){this.pe=0,this.ye=gv(),this.we=je.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Nt(),i=Nt(),s=Nt();return this.ye.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:_t()}}),new fo(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=gv()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class tR{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ji(),this.$e=ju(),this.Ue=ju(),this.Ke=new ne(Dt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:_t()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const c=o.target;if(ud(c))if(s===0){const d=new pt(c.path);this.ze(i,d,Ye.newNoDocument(d,Et.min()))}else Gt(s===1);else{const d=this.et(i);if(d!==s){const m=this.tt(e),p=m?this.nt(m,e,d):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,y)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,m;try{d=xr(s).toUint8Array()}catch(p){if(p instanceof V_)return Ts("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new kd(d,o,c)}catch(p){return Ts(p instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const d=this.ke.it(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.ze(i,c,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((c,d)=>{const m=this.Xe(d);if(m){if(c.current&&ud(m.target)){const p=new pt(m.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Ye.newNoDocument(p,e))}c.ve&&(i.set(d,c.Fe()),c.Me())}});let s=Nt();this.Ue.forEach((c,d)=>{let m=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(e));const o=new Dc(e,i,this.Ke,this.Qe,s);return this.Qe=ji(),this.$e=ju(),this.Ue=ju(),this.Ke=new ne(Dt),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new mv,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new we(Dt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new we(Dt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new mv),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function ju(){return new ne(pt.comparator)}function gv(){return new ne(pt.comparator)}const eR={asc:"ASCENDING",desc:"DESCENDING"},nR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iR={and:"AND",or:"OR"};class rR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function fd(r,e){return r.useProto3Json||Ac(e)?e:{value:e}}function dc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function aR(r,e){return dc(r,e.toTimestamp())}function ii(r){return Gt(!!r),Et.fromTimestamp(function(i){const s=Or(i);return new ve(s.seconds,s.nanos)}(r))}function Bd(r,e){return dd(r,e).canonicalString()}function dd(r,e){const i=function(o){return new Zt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function o0(r){const e=Zt.fromString(r);return Gt(d0(e)),e}function md(r,e){return Bd(r.databaseId,e.path)}function Qf(r,e){const i=o0(e);if(i.get(1)!==r.databaseId.projectId)throw new ut(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(c0(i))}function u0(r,e){return Bd(r.databaseId,e)}function sR(r){const e=o0(r);return e.length===4?Zt.emptyPath():c0(e)}function gd(r){return new Zt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function c0(r){return Gt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function pv(r,e,i){return{name:md(r,e),fields:i.value.mapValue.fields}}function lR(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(Gt(E===void 0||typeof E=="string"),je.fromBase64String(E||"")):(Gt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),je.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(y){const E=y.code===void 0?W.UNKNOWN:r0(y.code);return new ut(E,y.message||"")}(d);i=new s0(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Qf(r,s.document.name),c=ii(s.document.updateTime),d=s.document.createTime?ii(s.document.createTime):Et.min(),m=new Vn({mapValue:{fields:s.document.fields}}),p=Ye.newFoundDocument(o,c,d,m),y=s.targetIds||[],E=s.removedTargetIds||[];i=new Zu(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Qf(r,s.document),c=s.readTime?ii(s.readTime):Et.min(),d=Ye.newNoDocument(o,c),m=s.removedTargetIds||[];i=new Zu([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Qf(r,s.document),c=s.removedTargetIds||[];i=new Zu([],c,o,null)}else{if(!("filter"in e))return _t();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new Z1(o,c),m=s.targetId;i=new a0(m,d)}}return i}function oR(r,e){let i;if(e instanceof ho)i={update:pv(r,e.key,e.value)};else if(e instanceof i0)i={delete:md(r,e.key)};else if(e instanceof Aa)i={update:pv(r,e.key,e.data),updateMask:yR(e.fieldMask)};else{if(!(e instanceof K1))return _t();i={verify:md(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const m=d.transform;if(m instanceof hc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ao)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof so)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof fc)return{fieldPath:d.field.canonicalString(),increment:m.Ie};throw _t()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:aR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t()}(r,e.precondition)),i}function uR(r,e){return r&&r.length>0?(Gt(e!==void 0),r.map(i=>function(o,c){let d=o.updateTime?ii(o.updateTime):ii(c);return d.isEqual(Et.min())&&(d=ii(c)),new F1(d,o.transformResults||[])}(i,e))):[]}function cR(r,e){return{documents:[u0(r,e.path)]}}function hR(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=u0(r,o);const c=function(y){if(y.length!==0)return f0(zn.create(y,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(E=>function(V){return{field:ps(V.field),direction:mR(V.dir)}}(E))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const m=fd(r,e.limit);return m!==null&&(i.structuredQuery.limit=m),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:i,parent:o}}function fR(r){let e=sR(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Gt(s===1);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=function(b){const V=h0(b);return V instanceof zn&&k_(V)?V.getFilters():[V]}(i.where));let d=[];i.orderBy&&(d=function(b){return b.map(V=>function(P){return new cc(ys(P.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(V))}(i.orderBy));let m=null;i.limit&&(m=function(b){let V;return V=typeof b=="object"?b.value:b,Ac(V)?null:V}(i.limit));let p=null;i.startAt&&(p=function(b){const V=!!b.before,U=b.values||[];return new uc(U,V)}(i.startAt));let y=null;return i.endAt&&(y=function(b){const V=!b.before,U=b.values||[];return new uc(U,V)}(i.endAt)),O1(e,o,d,c,m,"F",p,y)}function dR(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function h0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ys(i.unaryFilter.field);return ye.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ys(i.unaryFilter.field);return ye.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ys(i.unaryFilter.field);return ye.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ys(i.unaryFilter.field);return ye.create(d,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(r):r.fieldFilter!==void 0?function(i){return ye.create(ys(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return zn.create(i.compositeFilter.filters.map(s=>h0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t()}}(i.compositeFilter.op))}(r):_t()}function mR(r){return eR[r]}function gR(r){return nR[r]}function pR(r){return iR[r]}function ps(r){return{fieldPath:r.canonicalString()}}function ys(r){return Be.fromServerFormat(r.fieldPath)}function f0(r){return r instanceof ye?function(i){if(i.op==="=="){if(iv(i.value))return{unaryFilter:{field:ps(i.field),op:"IS_NAN"}};if(nv(i.value))return{unaryFilter:{field:ps(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(iv(i.value))return{unaryFilter:{field:ps(i.field),op:"IS_NOT_NAN"}};if(nv(i.value))return{unaryFilter:{field:ps(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ps(i.field),op:gR(i.op),value:i.value}}}(r):r instanceof zn?function(i){const s=i.getFilters().map(o=>f0(o));return s.length===1?s[0]:{compositeFilter:{op:pR(i.op),filters:s}}}(r):_t()}function yR(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function d0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,i,s,o,c=Et.min(),d=Et.min(),m=je.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.Tt=e}}function _R(r){const e=fR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?hd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.Tn=new TR}addToCollectionParentIndex(e,i){return this.Tn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(Nr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(Nr.min())}updateCollectionGroup(e,i,s){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class TR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(Zt.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},m0=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(m0,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Rs(0)}static Kn(){return new Rs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="LruGarbageCollector",AR=1048576;function _v([r,e],[i,s]){const o=Dt(r,i);return o===0?Dt(e,s):o}class SR{constructor(e){this.Hn=e,this.buffer=new we(_v),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();_v(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class bR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){lt(vv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){xs(i)?lt(vv,"Ignoring IndexedDB error during garbage collection: ",i):await Os(i)}await this.er(3e5)})}}class RR{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Tc.ae);const s=new SR(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(yv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yv):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,c,d,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,i))).next(b=>(c=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(y=Date.now(),ms()<=Pt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b})))}}function wR(r,e){return new RR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.changes=new Ta(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?$.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Zl(s.mutation,o,Pn.empty(),ve.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Nt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Nt()){const o=pa();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(c=>{let d=Ql();return c.forEach((m,p)=>{d=d.insert(m,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=pa();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Nt()))}populateOverlays(e,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,m)=>{i.set(d,m)})})}computeViews(e,i,s,o){let c=ji();const d=$l(),m=function(){return $l()}();return i.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Aa)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),Zl(E.mutation,y,E.mutation.getFieldMask(),ve.now())):d.set(y.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,E)=>d.set(y,E)),i.forEach((y,E)=>{var b;return m.set(y,new DR(E,(b=d.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,i){const s=$l();let o=new ne((d,m)=>d-m),c=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const m of d)m.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let E=s.get(p)||Pn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const b=(o.get(m.batchId)||Nt()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,b=X_();E.forEach(V=>{if(!c.has(V)){const U=e0(i.get(V),s.get(V));U!==null&&b.set(V,U),c=c.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return $.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):G_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):$.resolve(pa());let m=eo,p=c;return d.next(y=>$.forEach(y,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),c.get(E)?$.resolve():this.remoteDocumentCache.getEntry(e,E).next(V=>{p=p.insert(E,V)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,Nt())).next(E=>({batchId:m,changes:K_(E)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next(s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=Ql();return this.indexManager.getCollectionParents(e,c).next(m=>$.forEach(m,p=>{const y=function(b,V){return new co(V,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((b,V)=>{d=d.insert(b,V)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o))).next(d=>{c.forEach((p,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,Ye.newInvalidDocument(E)))});let m=Ql();return d.forEach((p,y)=>{const E=c.get(p);E!==void 0&&Zl(E.mutation,y,Pn.empty(),ve.now()),Rc(i,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return $.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ii(o.createTime)}}(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:_R(o.bundledQuery),readTime:ii(o.readTime)}}(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.overlays=new ne(pt.comparator),this.Rr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const s=pa();return $.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,c)=>{this.Et(e,i,c)}),$.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),$.resolve()}getOverlaysForCollection(e,i,s){const o=pa(),c=i.length+1,d=new pt(i.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new ne((y,E)=>y-E);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=pa(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=pa(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return $.resolve(m)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new $1(i,s));let c=this.Rr.get(i);c===void 0&&(c=Nt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this.Vr=new we(Me.mr),this.gr=new we(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Me(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Me(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new pt(new Zt([])),s=new Me(i,e),o=new Me(i,e+1),c=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new pt(new Zt([])),s=new Me(i,e),o=new Me(i,e+1);let c=Nt();return this.gr.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const i=new Me(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Me{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return pt.comparator(e.key,i.key)||Dt(e.Cr,i.Cr)}static pr(e,i){return Dt(e.Cr,i.Cr)||pt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new we(Me.mr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new X1(c,i,s,o);this.mutationQueue.push(d);for(const m of o)this.Mr=this.Mr.add(new Me(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Od:this.Fr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],d=>{const m=this.Or(d.Cr);c.push(m)}),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(Dt);return i.forEach(o=>{const c=new Me(o,0),d=new Me(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],m=>{s=s.add(m.Cr)})}),$.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;pt.isDocumentKey(c)||(c=c.child(""));const d=new Me(new pt(c),0);let m=new we(Dt);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},d),$.resolve(this.Br(m))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Gt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return $.forEach(i.mutations,o=>{const c=new Me(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Me(i,0),o=this.Mr.firstAfterOrEqual(s);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.kr=e,this.docs=function(){return new ne(pt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return $.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let s=ji();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ye.newInvalidDocument(o))}),$.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=ji();const d=i.path,m=new pt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||c1(u1(E),s)<=0||(o.has(E.key)||Rc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,s,o){_t()}qr(e,i){return $.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new UR(this)}getSize(e){return $.resolve(this.size)}}class UR extends CR{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),$.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.persistence=e,this.Qr=new Ta(i=>Ud(i),Ld),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.$r=0,this.Ur=new jd,this.targetCount=0,this.Kr=Rs.Un()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),$.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new Rs(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.zn(i),$.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.Qr.forEach((d,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),$.waitFor(c).next(()=>o)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return $.resolve(s)}addMatchingKeys(e,i,s){return this.Ur.yr(i,s),$.resolve()}removeMatchingKeys(e,i,s){this.Ur.Sr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),$.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Ur.vr(i);return $.resolve(s)}containsKey(e,i){return $.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Tc(0),this.zr=!1,this.zr=!0,this.jr=new OR,this.referenceDelegate=e(this),this.Hr=new LR(this),this.indexManager=new ER,this.remoteDocumentCache=function(o){return new MR(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new vR(i),this.Yr=new IR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new NR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new xR(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){lt("MemoryPersistence","Starting transaction:",e);const o=new PR(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(e,i){return $.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class PR extends f1{constructor(e){super(),this.currentSequenceNumber=e}}class qd{constructor(e){this.persistence=e,this.ti=new jd,this.ni=null}static ri(e){return new qd(e)}get ii(){if(this.ni)return this.ni;throw _t()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),$.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),$.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.ii,s=>{const o=pt.fromPath(s);return this.si(e,o).next(c=>{c||i.removeEntry(o,Et.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return $.or([()=>$.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class mc{constructor(e,i){this.persistence=e,this.oi=new Ta(s=>g1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=wR(this,i)}static ri(e,i){return new mc(e,i)}Zr(){}Xr(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return $.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(c=>c?$.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(m=>{m||(s++,c.removeEntry(d,Et.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),$.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ku(e.data.value)),i}ar(e,i,s){return $.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=Nt(),o=Nt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Hd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return xS()?8:d1(NS())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.rs(e,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(e,i,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new zR;return this._s(e,i,d).next(m=>{if(c.result=m,this.Xi)return this.us(e,i,d,m.size)})}).next(()=>c.result)}us(e,i,s,o){return s.documentReadCount<this.es?(ms()<=Pt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",gs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),$.resolve()):(ms()<=Pt.DEBUG&&lt("QueryEngine","Query:",gs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(ms()<=Pt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",gs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(i))):$.resolve())}rs(e,i){if(lv(i))return $.resolve(null);let s=ni(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=hd(i,null,"F"),s=ni(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Nt(...c);return this.ns.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(i,m);return this.ls(i,y,d,p.readTime)?this.rs(e,hd(i,null,"F")):this.hs(e,y,i,p)}))})))}ss(e,i,s,o){return lv(i)||o.isEqual(Et.min())?$.resolve(null):this.ns.getDocuments(e,s).next(c=>{const d=this.cs(i,c);return this.ls(i,d,s,o)?$.resolve(null):(ms()<=Pt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),gs(i)),this.hs(e,d,i,o1(o,eo)).next(m=>m))})}cs(e,i){let s=new we(Q_(e));return i.forEach((o,c)=>{Rc(e,c)&&(s=s.add(c))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(e,i,s){return ms()<=Pt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",gs(i)),this.ns.getDocumentsMatchingQuery(e,i,Nr.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="LocalStore",BR=3e8;class jR{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new ne(Dt),this.Is=new Ta(c=>Ud(c),Ld),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function qR(r,e,i,s){return new jR(r,e,i,s)}async function p0(r,e){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],m=[];let p=Nt();for(const y of o){d.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:m}))})})}function HR(r,e){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const b=y.batch,V=b.keys();let U=$.resolve();return V.forEach(P=>{U=U.next(()=>E.getEntry(p,P)).next(G=>{const q=y.docVersions.get(P);Gt(q!==null),G.version.compareTo(q)<0&&(b.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),E.addEntry(G)))})}),U.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Nt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function y0(r){const e=At(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function GR(r,e){const i=At(r),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const m=[];e.targetChanges.forEach((E,b)=>{const V=o.get(b);if(!V)return;m.push(i.Hr.removeMatchingKeys(c,E.removedDocuments,b).next(()=>i.Hr.addMatchingKeys(c,E.addedDocuments,b)));let U=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?U=U.withResumeToken(je.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,s)),o=o.insert(b,U),function(G,q,H){return G.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=BR?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(V,U,E)&&m.push(i.Hr.updateTargetData(c,U))});let p=ji(),y=Nt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),m.push(FR(c,d,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(Et.min())){const E=i.Hr.getLastRemoteSnapshotVersion(c).next(b=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(E)}return $.waitFor(m).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(i.Ts=o,c))}function FR(r,e,i){let s=Nt(),o=Nt();return i.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let d=ji();return i.forEach((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Et.min())?(e.removeEntry(m,p.readTime),d=d.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(m,p)):lt(Gd,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:o}})}function QR(r,e){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Od),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function YR(r,e){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(c=>c?(o=c,$.resolve(o)):i.Hr.allocateTargetId(s).next(d=>(o=new Rr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function pd(r,e,i){const s=At(r),o=s.Ts.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!xs(d))throw d;lt(Gd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Ev(r,e,i){const s=At(r);let o=Et.min(),c=Nt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,E){const b=At(p),V=b.Is.get(E);return V!==void 0?$.resolve(b.Ts.get(V)):b.Hr.getTargetData(y,E)}(s,d,ni(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,m.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?c:Nt())).next(m=>(KR(s,M1(e),m),{documents:m,gs:c})))}function KR(r,e,i){let s=r.Es.get(e)||Et.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(e,s)}class Tv{constructor(){this.activeTargetIds=B1()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XR{constructor(){this.ho=new Tv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Tv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="ConnectivityMonitor";class Sv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){lt(Av,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){lt(Av,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=null;function yd(){return qu===null?qu=function(){return 268435456+Math.round(2147483648*Math.random())}():qu++,"0x"+qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="RestConnection",ZR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===lc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,i,s,o,c){const d=yd(),m=this.bo(e,i.toUriEncodedString());lt(Yf,`Sending RPC '${e}' ${d}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,c),this.vo(e,m,p,s).then(y=>(lt(Yf,`Received RPC '${e}' ${d}: `,y),y),y=>{throw Ts(Yf,`RPC '${e}' ${d} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,i,s,o,c,d){return this.So(e,i,s,o,c)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ns}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}bo(e,i){const s=ZR[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class tw extends WR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const c=yd();return new Promise((d,m)=>{const p=new __;p.setWithCredentials(!0),p.listenOnce(E_.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Yu.NO_ERROR:const E=p.getResponseJson();lt(Fe,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case Yu.TIMEOUT:lt(Fe,`RPC '${e}' ${c} timed out`),m(new ut(W.DEADLINE_EXCEEDED,"Request time out"));break;case Yu.HTTP_ERROR:const b=p.getStatus();if(lt(Fe,`RPC '${e}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let V=p.getResponseJson();Array.isArray(V)&&(V=V[0]);const U=V==null?void 0:V.error;if(U&&U.status&&U.message){const P=function(q){const H=q.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(H)>=0?H:W.UNKNOWN}(U.status);m(new ut(P,U.message))}else m(new ut(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ut(W.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{lt(Fe,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(o);lt(Fe,`RPC '${e}' ${c} sending request:`,o),p.send(i,"POST",y,s,15)})}Wo(e,i,s){const o=yd(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=S_(),m=A_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const E=c.join("");lt(Fe,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=d.createWebChannel(E,p);let V=!1,U=!1;const P=new JR({Fo:q=>{U?lt(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(V||(lt(Fe,`Opening RPC '${e}' stream ${o} transport.`),b.open(),V=!0),lt(Fe,`RPC '${e}' stream ${o} sending:`,q),b.send(q))},Mo:()=>b.close()}),G=(q,H,Z)=>{q.listen(H,J=>{try{Z(J)}catch(mt){setTimeout(()=>{throw mt},0)}})};return G(b,Fl.EventType.OPEN,()=>{U||(lt(Fe,`RPC '${e}' stream ${o} transport opened.`),P.Qo())}),G(b,Fl.EventType.CLOSE,()=>{U||(U=!0,lt(Fe,`RPC '${e}' stream ${o} transport closed`),P.Uo())}),G(b,Fl.EventType.ERROR,q=>{U||(U=!0,Ts(Fe,`RPC '${e}' stream ${o} transport errored:`,q),P.Uo(new ut(W.UNAVAILABLE,"The operation could not be completed")))}),G(b,Fl.EventType.MESSAGE,q=>{var H;if(!U){const Z=q.data[0];Gt(!!Z);const J=Z,mt=(J==null?void 0:J.error)||((H=J[0])===null||H===void 0?void 0:H.error);if(mt){lt(Fe,`RPC '${e}' stream ${o} received error:`,mt);const ht=mt.status;let wt=function(S){const D=pe[S];if(D!==void 0)return r0(D)}(ht),x=mt.message;wt===void 0&&(wt=W.INTERNAL,x="Unknown error status: "+ht+" with message "+mt.message),U=!0,P.Uo(new ut(wt,x)),b.close()}else lt(Fe,`RPC '${e}' stream ${o} received:`,Z),P.Ko(Z)}}),G(m,T_.STAT_EVENT,q=>{q.stat===rd.PROXY?lt(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===rd.NOPROXY&&lt(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function Kf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(r){return new rR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="PersistentStream";class _0{constructor(e,i,s,o,c,d,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new v0(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(Bi(i.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new ut(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return lt(bv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(lt(bv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ew extends _0{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=lR(this.serializer,e),s=function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?ii(d.readTime):Et.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=gd(this.serializer),i.addTarget=function(c,d){let m;const p=d.target;if(m=ud(p)?{documents:cR(c,p)}:{query:hR(c,p).ht},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=l0(c,d.resumeToken);const y=fd(c,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){m.readTime=dc(c,d.snapshotVersion.toTimestamp());const y=fd(c,d.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=dR(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=gd(this.serializer),i.removeTarget=e,this.I_(i)}}class nw extends _0{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=uR(e.writeResults,e.commitTime),s=ii(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=gd(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>oR(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{}class rw extends iw{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ut(W.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(e,dd(i,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(W.UNKNOWN,c.toString())})}Co(e,i,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Co(e,dd(i,s),o,d,m,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(W.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class aw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Bi(i),this.N_=!1):lt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class sw{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{Sa(this)&&(lt(va,"Restarting streams for network reachability change."),await async function(p){const y=At(p);y.W_.add(4),await mo(y),y.j_.set("Unknown"),y.W_.delete(4),await Ic(y)}(this))})}),this.j_=new aw(s,o)}}async function Ic(r){if(Sa(r))for(const e of r.G_)await e(!0)}async function mo(r){for(const e of r.G_)await e(!1)}function E0(r,e){const i=At(r);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),Kd(i)?Yd(i):Ms(i).c_()&&Qd(i,e))}function Fd(r,e){const i=At(r),s=Ms(i);i.K_.delete(e),s.c_()&&T0(i,e),i.K_.size===0&&(s.c_()?s.P_():Sa(i)&&i.j_.set("Unknown"))}function Qd(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ms(r).y_(e)}function T0(r,e){r.H_.Ne(e),Ms(r).w_(e)}function Yd(r){r.H_=new tR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Ms(r).start(),r.j_.B_()}function Kd(r){return Sa(r)&&!Ms(r).u_()&&r.K_.size>0}function Sa(r){return At(r).W_.size===0}function A0(r){r.H_=void 0}async function lw(r){r.j_.set("Online")}async function ow(r){r.K_.forEach((e,i)=>{Qd(r,e)})}async function uw(r,e){A0(r),Kd(r)?(r.j_.q_(e),Yd(r)):r.j_.set("Unknown")}async function cw(r,e,i){if(r.j_.set("Online"),e instanceof s0&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const m of c.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.K_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){lt(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await gc(r,s)}else if(e instanceof Zu?r.H_.We(e):e instanceof a0?r.H_.Ze(e):r.H_.je(e),!i.isEqual(Et.min()))try{const s=await y0(r.localStore);i.compareTo(s)>=0&&await function(c,d){const m=c.H_.ot(d);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.K_.get(y);E&&c.K_.set(y,E.withResumeToken(p.resumeToken,d))}}),m.targetMismatches.forEach((p,y)=>{const E=c.K_.get(p);if(!E)return;c.K_.set(p,E.withResumeToken(je.EMPTY_BYTE_STRING,E.snapshotVersion)),T0(c,p);const b=new Rr(E.target,p,y,E.sequenceNumber);Qd(c,b)}),c.remoteSyncer.applyRemoteEvent(m)}(r,i)}catch(s){lt(va,"Failed to raise snapshot:",s),await gc(r,s)}}async function gc(r,e,i){if(!xs(e))throw e;r.W_.add(1),await mo(r),r.j_.set("Offline"),i||(i=()=>y0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{lt(va,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await Ic(r)})}function S0(r,e){return e().catch(i=>gc(r,i,e))}async function Nc(r){const e=At(r),i=Ur(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Od;for(;hw(e);)try{const o=await QR(e.localStore,s);if(o===null){e.U_.length===0&&i.P_();break}s=o.batchId,fw(e,o)}catch(o){await gc(e,o)}b0(e)&&R0(e)}function hw(r){return Sa(r)&&r.U_.length<10}function fw(r,e){r.U_.push(e);const i=Ur(r);i.c_()&&i.S_&&i.b_(e.mutations)}function b0(r){return Sa(r)&&!Ur(r).u_()&&r.U_.length>0}function R0(r){Ur(r).start()}async function dw(r){Ur(r).C_()}async function mw(r){const e=Ur(r);for(const i of r.U_)e.b_(i.mutations)}async function gw(r,e,i){const s=r.U_.shift(),o=zd.from(s,e,i);await S0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Nc(r)}async function pw(r,e){e&&Ur(r).S_&&await async function(s,o){if(function(d){return W1(d)&&d!==W.ABORTED}(o.code)){const c=s.U_.shift();Ur(s).h_(),await S0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Nc(s)}}(r,e),b0(r)&&R0(r)}async function Rv(r,e){const i=At(r);i.asyncQueue.verifyOperationInProgress(),lt(va,"RemoteStore received new credentials");const s=Sa(i);i.W_.add(3),await mo(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await Ic(i)}async function yw(r,e){const i=At(r);e?(i.W_.delete(2),await Ic(i)):e||(i.W_.add(2),await mo(i),i.j_.set("Unknown"))}function Ms(r){return r.J_||(r.J_=function(i,s,o){const c=At(i);return c.M_(),new ew(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:lw.bind(null,r),No:ow.bind(null,r),Lo:uw.bind(null,r),p_:cw.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Kd(r)?Yd(r):r.j_.set("Unknown")):(await r.J_.stop(),A0(r))})),r.J_}function Ur(r){return r.Y_||(r.Y_=function(i,s,o){const c=At(i);return c.M_(),new nw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:dw.bind(null,r),Lo:pw.bind(null,r),D_:mw.bind(null,r),v_:gw.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Nc(r)):(await r.Y_.stop(),r.U_.length>0&&(lt(va,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,m=new Xd(e,i,d,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $d(r,e){if(Bi("AsyncQueue",`${e}: ${r}`),xs(r))return new ut(W.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{static emptySet(e){return new _s(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||pt.comparator(i.key,s.key):(i,s)=>pt.comparator(i.key,s.key),this.keyedMap=Ql(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof _s)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new _s;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(){this.Z_=new ne(pt.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):_t():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class ws{constructor(e,i,s,o,c,d,m,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach(m=>{d.push({type:0,doc:m})}),new ws(e,i,_s.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class _w{constructor(){this.queries=Cv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=At(i),c=o.queries;o.queries=Cv(),c.forEach((d,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ut(W.ABORTED,"Firestore shutting down"))}}function Cv(){return new Ta(r=>F_(r),bc)}async function Ew(r,e){const i=At(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.na()&&e.ra()&&(s=2):(c=new vw,s=e.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(o,!0);break;case 1:c.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const m=$d(d,`Initialization of query '${gs(e.query)}' failed`);return void e.onError(m)}i.queries.set(o,c),c.ta.push(e),e.sa(i.onlineState),c.ea&&e.oa(c.ea)&&Zd(i)}async function Tw(r,e){const i=At(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.ta.indexOf(e);d>=0&&(c.ta.splice(d,1),c.ta.length===0?o=e.ra()?0:1:!c.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Aw(r,e){const i=At(r);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const m of d.ta)m.oa(o)&&(s=!0);d.ea=o}}s&&Zd(i)}function Sw(r,e,i){const s=At(r),o=s.queries.get(e);if(o)for(const c of o.ta)c.onError(i);s.queries.delete(e)}function Zd(r){r.ia.forEach(e=>{e.next()})}var vd,Dv;(Dv=vd||(vd={}))._a="default",Dv.Cache="cache";class bw{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ws(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==vd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e){this.key=e}}class C0{constructor(e){this.key=e}}class Rw{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nt(),this.mutatedKeys=Nt(),this.ya=Q_(e),this.wa=new _s(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new wv,o=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const V=o.get(E),U=Rc(this.query,b)?b:null,P=!!V&&this.mutatedKeys.has(V.key),G=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let q=!1;V&&U?V.data.isEqual(U.data)?P!==G&&(s.track({type:3,doc:U}),q=!0):this.va(V,U)||(s.track({type:2,doc:U}),q=!0,(p&&this.ya(U,p)>0||y&&this.ya(U,y)<0)&&(m=!0)):!V&&U?(s.track({type:0,doc:U}),q=!0):V&&!U&&(s.track({type:1,doc:V}),q=!0,(p||y)&&(m=!0)),q&&(U?(d=d.add(U),c=G?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{wa:d,Da:s,ls:m,mutatedKeys:c}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((E,b)=>function(U,P){const G=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return G(U)-G(P)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(s),o=o!=null&&o;const m=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new ws(this.query,e.wa,c,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new wv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Nt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new C0(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new w0(s))}),i}Oa(e){this.fa=e.gs,this.pa=Nt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return ws.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Wd="SyncEngine";class ww{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Cw{constructor(e){this.key=e,this.Ba=!1}}class Dw{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Ta(m=>F_(m),bc),this.qa=new Map,this.Qa=new Set,this.$a=new ne(pt.comparator),this.Ua=new Map,this.Ka=new jd,this.Wa={},this.Ga=new Map,this.za=Rs.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Vw(r,e,i=!0){const s=x0(r);let o;const c=s.ka.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await D0(s,e,i,!0),o}async function Iw(r,e){const i=x0(r);await D0(i,e,!0,!1)}async function D0(r,e,i,s){const o=await YR(r.localStore,ni(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let m;return s&&(m=await Nw(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&E0(r.remoteStore,o),m}async function Nw(r,e,i,s,o){r.Ha=(b,V,U)=>async function(G,q,H,Z){let J=q.view.ba(H);J.ls&&(J=await Ev(G.localStore,q.query,!1).then(({documents:x})=>q.view.ba(x,J)));const mt=Z&&Z.targetChanges.get(q.targetId),ht=Z&&Z.targetMismatches.get(q.targetId)!=null,wt=q.view.applyChanges(J,G.isPrimaryClient,mt,ht);return Iv(G,q.targetId,wt.Ma),wt.snapshot}(r,b,V,U);const c=await Ev(r.localStore,e,!0),d=new Rw(e,c.gs),m=d.ba(c.documents),p=fo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=d.applyChanges(m,r.isPrimaryClient,p);Iv(r,i,y.Ma);const E=new ww(e,i,d);return r.ka.set(e,E),r.qa.has(i)?r.qa.get(i).push(e):r.qa.set(i,[e]),y.snapshot}async function Ow(r,e,i){const s=At(r),o=s.ka.get(e),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(d=>!bc(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await pd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Fd(s.remoteStore,o.targetId),_d(s,o.targetId)}).catch(Os)):(_d(s,o.targetId),await pd(s.localStore,o.targetId,!0))}async function xw(r,e){const i=At(r),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Fd(i.remoteStore,s.targetId))}async function Mw(r,e,i){const s=jw(r);try{const o=await function(d,m){const p=At(d),y=ve.now(),E=m.reduce((U,P)=>U.add(P.key),Nt());let b,V;return p.persistence.runTransaction("Locally write mutations","readwrite",U=>{let P=ji(),G=Nt();return p.ds.getEntries(U,E).next(q=>{P=q,P.forEach((H,Z)=>{Z.isValidDocument()||(G=G.add(H))})}).next(()=>p.localDocuments.getOverlayedDocuments(U,P)).next(q=>{b=q;const H=[];for(const Z of m){const J=Y1(Z,b.get(Z.key).overlayedDocument);J!=null&&H.push(new Aa(Z.key,J,L_(J.value.mapValue),Pi.exists(!0)))}return p.mutationQueue.addMutationBatch(U,y,H,m)}).next(q=>{V=q;const H=q.applyToLocalDocumentSet(b,G);return p.documentOverlayCache.saveOverlays(U,q.batchId,H)})}).then(()=>({batchId:V.batchId,changes:K_(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,m,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new ne(Dt)),y=y.insert(m,p),d.Wa[d.currentUser.toKey()]=y}(s,o.batchId,i),await go(s,o.changes),await Nc(s.remoteStore)}catch(o){const c=$d(o,"Failed to persist write");i.reject(c)}}async function V0(r,e){const i=At(r);try{const s=await GR(i.localStore,e);e.targetChanges.forEach((o,c)=>{const d=i.Ua.get(c);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Gt(d.Ba):o.removedDocuments.size>0&&(Gt(d.Ba),d.Ba=!1))}),await go(i,s,e)}catch(s){await Os(s)}}function Vv(r,e,i){const s=At(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((c,d)=>{const m=d.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(d,m){const p=At(d);p.onlineState=m;let y=!1;p.queries.forEach((E,b)=>{for(const V of b.ta)V.sa(m)&&(y=!0)}),y&&Zd(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Uw(r,e,i){const s=At(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ua.get(e),c=o&&o.key;if(c){let d=new ne(pt.comparator);d=d.insert(c,Ye.newNoDocument(c,Et.min()));const m=Nt().add(c),p=new Dc(Et.min(),new Map,new ne(Dt),d,m);await V0(s,p),s.$a=s.$a.remove(c),s.Ua.delete(e),Jd(s)}else await pd(s.localStore,e,!1).then(()=>_d(s,e,i)).catch(Os)}async function Lw(r,e){const i=At(r),s=e.batch.batchId;try{const o=await HR(i.localStore,e);N0(i,s,null),I0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await go(i,o)}catch(o){await Os(o)}}async function Pw(r,e,i){const s=At(r);try{const o=await function(d,m){const p=At(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(b=>(Gt(b!==null),E=b.keys(),p.mutationQueue.removeMutationBatch(y,b))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);N0(s,e,i),I0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await go(s,o)}catch(o){await Os(o)}}function I0(r,e){(r.Ga.get(e)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(e)}function N0(r,e,i){const s=At(r);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function _d(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),i&&r.La.Ja(s,i);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||O0(r,s)})}function O0(r,e){r.Qa.delete(e.path.canonicalString());const i=r.$a.get(e);i!==null&&(Fd(r.remoteStore,i),r.$a=r.$a.remove(e),r.Ua.delete(i),Jd(r))}function Iv(r,e,i){for(const s of i)s instanceof w0?(r.Ka.addReference(s.key,e),zw(r,s)):s instanceof C0?(lt(Wd,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||O0(r,s.key)):_t()}function zw(r,e){const i=e.key,s=i.path.canonicalString();r.$a.get(i)||r.Qa.has(s)||(lt(Wd,"New document in limbo: "+i),r.Qa.add(s),Jd(r))}function Jd(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const i=new pt(Zt.fromString(e)),s=r.za.next();r.Ua.set(s,new Cw(i)),r.$a=r.$a.insert(i,s),E0(r.remoteStore,new Rr(ni(H_(i.path)),s,"TargetPurposeLimboResolution",Tc.ae))}}async function go(r,e,i){const s=At(r),o=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{d.push(s.Ha(p,e,i).then(y=>{var E;if((y||i)&&s.isPrimaryClient){const b=y?!y.fromCache:(E=i==null?void 0:i.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Hd.Yi(p.targetId,y);c.push(b)}}))}),await Promise.all(d),s.La.p_(o),await async function(p,y){const E=At(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>$.forEach(y,V=>$.forEach(V.Hi,U=>E.persistence.referenceDelegate.addReference(b,V.targetId,U)).next(()=>$.forEach(V.Ji,U=>E.persistence.referenceDelegate.removeReference(b,V.targetId,U)))))}catch(b){if(!xs(b))throw b;lt(Gd,"Failed to update sequence numbers: "+b)}for(const b of y){const V=b.targetId;if(!b.fromCache){const U=E.Ts.get(V),P=U.snapshotVersion,G=U.withLastLimboFreeSnapshotVersion(P);E.Ts=E.Ts.insert(V,G)}}}(s.localStore,c))}async function kw(r,e){const i=At(r);if(!i.currentUser.isEqual(e)){lt(Wd,"User change. New user:",e.toKey());const s=await p0(i.localStore,e);i.currentUser=e,function(c,d){c.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ut(W.CANCELLED,d))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await go(i,s.Rs)}}function Bw(r,e){const i=At(r),s=i.Ua.get(e);if(s&&s.Ba)return Nt().add(s.key);{let o=Nt();const c=i.qa.get(e);if(!c)return o;for(const d of c){const m=i.ka.get(d);o=o.unionWith(m.view.Sa)}return o}}function x0(r){const e=At(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=V0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Uw.bind(null,e),e.La.p_=Aw.bind(null,e.eventManager),e.La.Ja=Sw.bind(null,e.eventManager),e}function jw(r){const e=At(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Lw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pw.bind(null,e),e}class pc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return qR(this.persistence,new kR,e.initialUser,this.serializer)}Xa(e){return new g0(qd.ri,this.serializer)}Za(e){return new XR}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pc.provider={build:()=>new pc};class qw extends pc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Gt(this.persistence.referenceDelegate instanceof mc);const s=this.persistence.referenceDelegate.garbageCollector;return new bR(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new g0(s=>mc.ri(s,i),this.serializer)}}class Ed{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Vv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=kw.bind(null,this.syncEngine),await yw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _w}()}createDatastore(e){const i=Vc(e.databaseInfo.databaseId),s=function(c){return new tw(c)}(e.databaseInfo);return function(c,d,m,p){return new rw(c,d,m,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,c,d,m){return new sw(s,o,c,d,m)}(this.localStore,this.datastore,e.asyncQueue,i=>Vv(this.syncEngine,i,0),function(){return Sv.D()?new Sv:new $R}())}createSyncEngine(e,i){return function(o,c,d,m,p,y,E){const b=new Dw(o,c,d,m,p,y);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const c=At(o);lt(va,"RemoteStore shutting down."),c.W_.add(5),await mo(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Ed.provider={build:()=>new Ed};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="FirestoreClient";class Gw{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=w_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{lt(Lr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(lt(Lr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=$d(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Xf(r,e){r.asyncQueue.verifyOperationInProgress(),lt(Lr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await p0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Nv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await Fw(r);lt(Lr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>Rv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Rv(e.remoteStore,o)),r._onlineComponents=e}async function Fw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(Lr,"Using user provided OfflineComponentProvider");try{await Xf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Ts("Error using user provided cache. Falling back to memory cache: "+i),await Xf(r,new pc)}}else lt(Lr,"Using default OfflineComponentProvider"),await Xf(r,new qw(void 0));return r._offlineComponents}async function M0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(Lr,"Using user provided OnlineComponentProvider"),await Nv(r,r._uninitializedComponentsProvider._online)):(lt(Lr,"Using default OnlineComponentProvider"),await Nv(r,new Ed))),r._onlineComponents}function Qw(r){return M0(r).then(e=>e.syncEngine)}async function Yw(r){const e=await M0(r),i=e.eventManager;return i.onListen=Vw.bind(null,e.syncEngine),i.onUnlisten=Ow.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Iw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=xw.bind(null,e.syncEngine),i}function Kw(r,e,i={}){const s=new Vr;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,m,p,y){const E=new Hw({next:V=>{E.su(),d.enqueueAndForget(()=>Tw(c,b)),V.fromCache&&p.source==="server"?y.reject(new ut(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(V)},error:V=>y.reject(V)}),b=new bw(m,E,{includeMetadataChanges:!0,Ta:!0});return Ew(c,b)}(await Yw(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(r,e,i){if(!i)throw new ut(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Xw(r,e,i,s){if(e===!0&&s===!0)throw new ut(W.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function xv(r){if(!pt.isDocumentKey(r))throw new ut(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Mv(r){if(pt.isDocumentKey(r))throw new ut(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Oc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_t()}function yc(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ut(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Oc(r);throw new ut(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="firestore.googleapis.com",Uv=!0;class Lv{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=P0,this.ssl=Uv}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:Uv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=m0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AR)throw new ut(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Xw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Jb;switch(s.type){case"firstParty":return new i1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Ov.get(i);s&&(lt("ComponentProvider","Removing Datastore"),Ov.delete(i),s.terminate())}(this),Promise.resolve()}}function $w(r,e,i,s={}){var o;const c=(r=yc(r,xc))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${i}`;c.host!==P0&&c.host!==m&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:!1,emulatorOptions:s});if(!ic(p,d)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Qe.MOCK_USER;else{y=IS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ut(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Qe(b)}r._authCredentials=new t1(new b_(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Us(this.firestore,e,this._query)}}class In{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class Ir extends Us{constructor(e,i,s){super(e,i,H_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new pt(e))}withConverter(e){return new Ir(this.firestore,e,this._path)}}function tm(r,e,...i){if(r=Es(r),L0("collection","path",e),r instanceof xc){const s=Zt.fromString(e,...i);return Mv(s),new Ir(r,null,s)}{if(!(r instanceof In||r instanceof Ir))throw new ut(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(e,...i));return Mv(s),new Ir(r.firestore,null,s)}}function Zw(r,e,...i){if(r=Es(r),arguments.length===1&&(e=w_.newId()),L0("doc","path",e),r instanceof xc){const s=Zt.fromString(e,...i);return xv(s),new In(r,null,new pt(s))}{if(!(r instanceof In||r instanceof Ir))throw new ut(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(e,...i));return xv(s),new In(r.firestore,r instanceof Ir?r.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="AsyncQueue";class zv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new v0(this,"async_queue_retry"),this.Su=()=>{const s=Kf();s&&lt(Pv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=Kf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Kf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Vr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!xs(e))throw e;lt(Pv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),m}(s);throw Bi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=Xd.createAndSchedule(this,e,i,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&_t()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class em extends xc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new zv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zv(e),this._firestoreClient=void 0,await e}}}function Ww(r,e){const i=typeof r=="object"?r:Bb(),s=typeof r=="string"?r:lc,o=Ub(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=DS("firestore");c&&$w(o,...c)}return o}function z0(r){if(r._terminated)throw new ut(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Jw(r),r._firestoreClient}function Jw(r){var e,i,s;const o=r._freezeSettings(),c=function(m,p,y,E){return new v1(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,U0(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Gw(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cs(je.fromBase64String(e))}catch(i){throw new ut(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Cs(je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=/^__.*__$/;class e2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Aa(e,this.data,this.fieldMask,i,this.fieldTransforms):new ho(e,this.data,i,this.fieldTransforms)}}function B0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class am{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new am(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return vc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(B0(this.Lu)&&t2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class n2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Vc(e)}ju(e,i,s,o=!1){return new am({Lu:e,methodName:i,zu:s,path:Be.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function j0(r){const e=r._freezeSettings(),i=Vc(r._databaseId);return new n2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function i2(r,e,i,s,o,c={}){const d=r.ju(c.merge||c.mergeFields?2:0,e,i,o);G0("Data must be an object, but it was:",d,s);const m=q0(s,d);let p,y;if(c.merge)p=new Pn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const V=a2(e,b,i);if(!d.contains(V))throw new ut(W.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);l2(E,V)||E.push(V)}p=new Pn(E),y=d.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,y=d.fieldTransforms;return new e2(new Vn(m),p,y)}function r2(r,e,i,s=!1){return sm(i,r.ju(s?4:3,e))}function sm(r,e){if(H0(r=Es(r)))return G0("Unsupported field value:",e,r),q0(r,e);if(r instanceof k0)return function(s,o){if(!B0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const m of s){let p=sm(m,o.Ku(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,e)}return function(s,o){if((s=Es(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return j1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ve.fromDate(s);return{timestampValue:dc(o.serializer,c)}}if(s instanceof ve){const c=new ve(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:dc(o.serializer,c)}}if(s instanceof im)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Cs)return{bytesValue:l0(o.serializer,s._byteString)};if(s instanceof In){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Bd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof rm)return function(d,m){return{mapValue:{fields:{[M_]:{stringValue:U_},[oc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Pd(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Oc(s)}`)}(r,e)}function q0(r,e){const i={};return D_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ea(r,(s,o)=>{const c=sm(o,e.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function H0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ve||r instanceof im||r instanceof Cs||r instanceof In||r instanceof k0||r instanceof rm)}function G0(r,e,i){if(!H0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Oc(i);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function a2(r,e,i){if((e=Es(e))instanceof nm)return e._internalPath;if(typeof e=="string")return F0(r,e);throw vc("Field path arguments must be of type string or ",r,!1,void 0,i)}const s2=new RegExp("[~\\*/\\[\\]]");function F0(r,e,i){if(e.search(s2)>=0)throw vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new nm(...e.split("."))._internalPath}catch{throw vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function vc(r,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new ut(W.INVALID_ARGUMENT,m+r+p)}function l2(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new o2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(lm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class o2 extends Q0{data(){return super.data()}}function lm(r,e){return typeof e=="string"?F0(r,e):e instanceof nm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class om{}class c2 extends om{}function h2(r,e,...i){let s=[];e instanceof om&&s.push(e),s=s.concat(i),function(c){const d=c.filter(p=>p instanceof um).length,m=c.filter(p=>p instanceof Mc).length;if(d>1||d>0&&m>0)throw new ut(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Mc extends c2{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Mc(e,i,s)}_apply(e){const i=this._parse(e);return Y0(e._query,i),new Us(e.firestore,e.converter,cd(e._query,i))}_parse(e){const i=j0(e.firestore);return function(c,d,m,p,y,E,b){let V;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ut(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Bv(b,E);const P=[];for(const G of b)P.push(kv(p,c,G));V={arrayValue:{values:P}}}else V=kv(p,c,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Bv(b,E),V=r2(m,d,b,E==="in"||E==="not-in");return ye.create(y,E,V)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function f2(r,e,i){const s=e,o=lm("where",r);return Mc._create(o,s,i)}class um extends om{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new um(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:zn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,c){let d=o;const m=c.getFlattenedFilters();for(const p of m)Y0(d,p),d=cd(d,p)}(e._query,i),new Us(e.firestore,e.converter,cd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function kv(r,e,i){if(typeof(i=Es(i))=="string"){if(i==="")throw new ut(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G_(e)&&i.indexOf("/")!==-1)throw new ut(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Zt.fromString(i));if(!pt.isDocumentKey(s))throw new ut(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ev(r,new pt(s))}if(i instanceof In)return ev(r,i._key);throw new ut(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oc(i)}.`)}function Bv(r,e){if(!Array.isArray(r)||r.length===0)throw new ut(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Y0(r,e){const i=function(o,c){for(const d of o)for(const m of d.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new ut(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ut(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class d2{convertValue(e,i="none"){switch(Mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ea(e,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(e){var i,s,o;const c=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[oc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>ce(d.doubleValue));return new rm(c)}convertGeoPoint(e){return new im(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Sc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(no(e));default:return null}}convertTimestamp(e){const i=Or(e);return new ve(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Zt.fromString(e);Gt(d0(s));const o=new io(s.get(1),s.get(3)),c=new pt(s.popFirst(5));return o.isEqual(i)||Bi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(r,e,i){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class g2 extends Q0{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(lm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Wu extends g2{data(e={}){return super.data(e)}}class p2{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Hu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Wu(this._firestore,this._userDataWriter,s.key,s,new Hu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>{const p=new Wu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const p=new Wu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),E=d.indexOf(m.doc.key)),{type:y2(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function y2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}class v2 extends d2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,i)}}function K0(r){r=yc(r,Us);const e=yc(r.firestore,em),i=z0(e),s=new v2(e);return u2(r._query),Kw(i,r._query).then(o=>new p2(e,s,r,o))}function _2(r,e){const i=yc(r.firestore,em),s=Zw(r),o=m2(r.converter,e);return E2(i,[i2(j0(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Pi.exists(!1))]).then(()=>s)}function E2(r,e){return function(s,o){const c=new Vr;return s.asyncQueue.enqueueAndForget(async()=>Mw(await Qw(s),o,c)),c.promise}(z0(r),e)}(function(e,i=!0){(function(o){Ns=o})(kb),ac(new Jl("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),m=new em(new e1(s.getProvider("auth-internal")),new r1(d,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ut(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new io(y.options.projectId,E)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),vs(Hy,Gy,e),vs(Hy,Gy,"esm2017")})();const T2={apiKey:"AIzaSyD7aAGGmzUizXT4vLCaF_GV4V6JgIoYC2Y",authDomain:"portafolio-3c6e9.firebaseapp.com",projectId:"portafolio-3c6e9",storageBucket:"portafolio-3c6e9.appspot.com",messagingSenderId:"986866712900",appId:"1:986866712900:web:80d2caaf33e9c1ff13d711"},A2=g_(T2),cm=Ww(A2);async function S2(r){try{const e=await _2(tm(cm,"inversiones"),{...r,createdAt:ve.now()});console.log("Inversión guardada con ID:",e.id)}catch(e){throw console.error("Error al guardar inversión en Firestore:",e),e}}async function b2(){try{const r=await K0(tm(cm,"inversiones")),e=new Map;let i=0;r.forEach(o=>{const c=o.data(),d=c.broker,m=c.monto;i+=m,e.has(d)?e.set(d,e.get(d)+m):e.set(d,m)});const s=[];return e.forEach((o,c)=>{s.push({broker:c,total:o})}),{brokers:s,totalGlobal:i}}catch(r){return console.error("Error al obtener resumen global:",r),{brokers:[],totalGlobal:0}}}async function R2(r){try{const e=h2(tm(cm,"inversiones"),f2("broker","==",r)),i=await K0(e),s=new Map;let o=0;i.forEach(d=>{const m=d.data(),p=m.tipoActivo,y=m.monto;if(o+=y,m.nombre){s.has(m.nombre)?s.set(m.nombre,{monto:s.get(m.nombre).monto+y,inversiones:[...s.get(m.nombre).inversiones,{monto:y,fecha:m.fecha}]}):s.set(m.nombre,{monto:y,inversiones:[{monto:y,fecha:m.fecha}]});return}s.has(p)?s.set(p,{monto:s.get(p).monto+y,inversiones:[...s.get(p).inversiones,{monto:y,fecha:m.fecha}]}):s.set(p,{monto:y,inversiones:[{monto:y,fecha:m.fecha}]})});const c=[];return s.forEach((d,m)=>{c.push({tipoActivo:m,total:d.monto,inversiones:d.inversiones})}),{activos:c,totalBroker:o}}catch(e){return console.error("Error al obtener totales por tipo de activo del broker:",e),{activos:[],totalBroker:0}}}function w2(r){return Dd({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"},child:[]}]})(r)}function C2(r){return Dd({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M288.662 352H31.338c-17.818 0-26.741-21.543-14.142-34.142l128.662-128.662c7.81-7.81 20.474-7.81 28.284 0l128.662 128.662c12.6 12.599 3.676 34.142-14.142 34.142z"},child:[]}]})(r)}function D2(){const{id:r}=aA(),[e,i]=Q.useState(),[s,o]=Q.useState(null);Q.useEffect(()=>{r&&c()},[r]);const c=async()=>{const d=await R2((r==null?void 0:r.toLocaleUpperCase())||"");i(d)};return nt.jsxs("div",{className:"min-h-screen bg-black text-white p-6",children:[nt.jsx("h1",{className:"text-2xl font-bold mb-4",children:r==null?void 0:r.toUpperCase()}),nt.jsxs("p",{className:"text-xl mb-6",children:["Total: $ ",e==null?void 0:e.totalBroker.toLocaleString()]}),nt.jsx("div",{className:"space-y-4",children:e==null?void 0:e.activos.map(d=>nt.jsxs("div",{className:"border border-gray-700 rounded-lg bg-white text-black",children:[nt.jsxs("div",{className:"p-4 cursor-pointer flex justify-between items-center",onClick:()=>o(s===d.tipoActivo?null:d.tipoActivo),children:[nt.jsxs("span",{children:[nt.jsxs("b",{children:[d.tipoActivo,":"]})," $ ",d.total.toLocaleString()]}),s===d.tipoActivo?nt.jsx(C2,{}):nt.jsx(w2,{})]}),s===d.tipoActivo&&nt.jsx("div",{className:"px-4 pb-4",children:d.inversiones.map((m,p)=>nt.jsxs("div",{className:"text-sm text-gray-700",children:[m.fecha," - ","Compra"," - $ ",m.monto.toLocaleString()]},p))})]},d.tipoActivo))})]})}const V2=["CEDEAR","Accion","FCI","Obligacion negociable","bonos","cauciones","cripto","Billete"],I2=["IOL","COCOS","BINANCE","LEMON","BBVA","BILLETE"];function N2(){const r=Sd(),[e,i]=Q.useState(""),[s,o]=Q.useState(""),[c,d]=Q.useState(""),[m,p]=Q.useState(""),[y,E]=Q.useState(!1),[b,V]=Q.useState(!1),U=H=>{const Z=H.replace(/\D/g,"");return Z?parseInt(Z,10).toLocaleString("es-ES"):""},P=H=>{const Z=H.target.value,J=U(Z);i(J)},G=async()=>{const Z={monto:b?Number.parseFloat(e.replace(/\D/g,"")):await q(Number.parseFloat(e.replace(/\D/g,""))),tipoActivo:c,broker:m,fecha:new Date().toISOString().split("T")[0]};y&&(Z.nombre=s);try{await S2(Z),r("/")}catch{alert("Error guardando la inversión")}},q=async H=>{const J=await(await fetch("https://dolarapi.com/v1/dolares/contadoconliqui",{method:"GET"})).json(),mt=H/J.venta;return Number.parseFloat(mt.toFixed(2))};return nt.jsxs("div",{className:"min-h-screen bg-black text-white p-6",children:[nt.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Agregar inversión"}),nt.jsxs("div",{className:"mb-4",children:[nt.jsxs("div",{className:"flex justify-between items-center",children:[nt.jsx("label",{className:"block mb-1",children:"Monto"}),nt.jsxs("div",{className:"mb-4 flex gap-2 items-center",children:[nt.jsx("input",{id:"checkbox2",type:"checkbox",className:"w-4 h-4 accent-purple-500",onChange:H=>V(H.target.checked)}),nt.jsx("label",{className:"block",htmlFor:"checkbox2",children:"¿Es dolar?"})]})]}),nt.jsx("input",{type:"text",value:e,onChange:P,className:"w-full p-2 bg-gray-800 text-white rounded"})]}),nt.jsxs("div",{className:"mb-4",children:[nt.jsx("label",{className:"block mb-1",children:"Tipo activo"}),nt.jsxs("select",{value:c,onChange:H=>d(H.target.value),className:"w-full p-2 bg-gray-800 text-white rounded",children:[nt.jsx("option",{value:"",children:"Seleccionar"}),V2.map(H=>nt.jsx("option",{value:H,children:H},H))]})]}),nt.jsxs("div",{className:"mb-6",children:[nt.jsx("label",{className:"block mb-1",children:"Broker"}),nt.jsxs("select",{value:m,onChange:H=>p(H.target.value),className:"w-full p-2 bg-gray-800 text-white rounded",children:[nt.jsx("option",{value:"",children:"Seleccionar"}),I2.map(H=>nt.jsx("option",{value:H,children:H},H))]})]}),nt.jsxs("div",{className:"mb-4 flex gap-4 items-center",children:[nt.jsx("input",{id:"checkbox",type:"checkbox",className:"w-4 h-4 accent-purple-500",onChange:H=>E(H.target.checked)}),nt.jsxs("label",{className:"block",htmlFor:"checkbox",children:["Especificar ",nt.jsx("span",{className:"text-sm text-gray-400",children:"(Nombre exacto del activo)"})]})]}),y&&nt.jsxs("div",{className:"mb-6",children:[nt.jsx("label",{className:"block mb-1",children:"Nombre activo"}),nt.jsx("input",{type:"text",value:s,onChange:H=>o(H.target.value),className:"w-full p-2 bg-gray-800 text-white rounded"})]}),nt.jsx("button",{onClick:G,className:`w-full py-2 bg-gradient-to-r from-blue-500 
        to-purple-500 text-white font-bold text-xl hover:shadow-lg rounded-full flex items-center justify-center
        hover:scale-110`,children:"Guardar"})]})}function O2(){const r=a_(i=>i.setInitialData);Q.useEffect(()=>{e()},[r]);const e=async()=>{const{totalGlobal:i,brokers:s}=await b2();r(i,s)};return nt.jsx(HA,{basename:"/finanzas/",children:nt.jsxs(EA,{children:[nt.jsx(Gu,{path:"/",element:nt.jsx(yS,{})}),nt.jsx(Gu,{path:"/broker/:id",element:nt.jsx(D2,{})}),nt.jsx(Gu,{path:"/add",element:nt.jsx(N2,{})})]})})}VT.createRoot(document.getElementById("root")).render(nt.jsx(Q.StrictMode,{children:nt.jsx(O2,{})}));
